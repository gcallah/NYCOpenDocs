<!DOCTYPE html>
<html>
<!-- THIS FILE WAS GENERATED BY A SCRIPT: DO NOT EDIT IT! -->
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <link rel="stylesheet" href="style.css">

        <!-- jQuery CDN -->
         <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
         <!-- Bootstrap Js CDN -->
         <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

         <script type="text/javascript">
             var status = 'on';
             $(document).ready(function () {
                 $('#sidebarCollapse').on('click', function () {
                     $('#sidebar').toggleClass('active');
                     if (status == 'on') {
                         $('#sidebarText').text("Expand Side Nav");
                         status = 'off';
                     } else {
                         $('#sidebarText').text("Collapse Side Nav");
                         status = 'on';
                     }
                 });
             });
         </script>
        <title>
            utils.py
        </title>
    </head>

    <body>
        <div class="wrapper">
<!-- Sidebar Holder -->
<nav id="sidebar">
    <div id="sidebarCollapse">
        <div class="sidebar-header">
            <h1>
                NYCOpenDocs
            </h1>
            <strong>NYCDocs</strong>
        </div>
    </div>
    <ul class="list-unstyled components">
        <li>
            <a href="/NYCOpenDocs/index.html">
                <i class="glyphicon glyphicon-home"></i>
                Home
            </a>
        </li>
        <li>
            <a href="/NYCOpenDocs/html/codeclimate.yml.html">
                .codeclimate.yml
            </a>
        </li>
        <li>
            <a href="/NYCOpenDocs/html/eslintrc.yml.html">
                .eslintrc.yml
            </a>
        </li>
        <li>
            <a href="/NYCOpenDocs/html/travis.yml.html">
                .travis.yml
            </a>
        </li>
        <li>
            <a href="#Submenu0" data-toggle="collapse" aria-expanded="false">
                app
            </a>
        </li>
        <ul class="collapse list-unstyled" id="Submenu0">
            <li>
                <a href="/NYCOpenDocs/html/app_app.html">
                    About the directory 'app'
                </a>
            </li>
            <li>
                <a href="/NYCOpenDocs/html/app___init__.py.html">
                    __init__.py
                </a>
            </li>
            <li>
                <a href="#Submenu1" data-toggle="collapse" aria-expanded="false">
                    admin
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu1">
                <li>
                    <a href="/NYCOpenDocs/html/app_admin_admin.html">
                        About the directory 'admin'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_admin___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_admin_forms.py.html">
                        forms.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_admin_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_admin_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu2" data-toggle="collapse" aria-expanded="false">
                    agency
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu2">
                <li>
                    <a href="/NYCOpenDocs/html/app_agency_agency.html">
                        About the directory 'agency'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_agency___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="#Submenu3" data-toggle="collapse" aria-expanded="false">
                        api
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu3">
                    <li>
                        <a href="/NYCOpenDocs/html/app_agency_api_api.html">
                            About the directory 'api'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_agency_api___init__.py.html">
                            __init__.py
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_agency_api_utils.py.html">
                            utils.py
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_agency_api_views.py.html">
                            views.py
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="/NYCOpenDocs/html/app_agency_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_agency_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu4" data-toggle="collapse" aria-expanded="false">
                    auth
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu4">
                <li>
                    <a href="/NYCOpenDocs/html/app_auth_auth.html">
                        About the directory 'auth'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_auth___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="#Submenu5" data-toggle="collapse" aria-expanded="false">
                        constants
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu5">
                    <li>
                        <a href="/NYCOpenDocs/html/app_auth_constants_constants.html">
                            About the directory 'constants'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_auth_constants___init__.py.html">
                            __init__.py
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_auth_constants_error_msg.py.html">
                            error_msg.py
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="/NYCOpenDocs/html/app_auth_forms.py.html">
                        forms.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_auth_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_auth_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu6" data-toggle="collapse" aria-expanded="false">
                    constants
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu6">
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_constants.html">
                        About the directory 'constants'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_agency_features.py.html">
                        agency_features.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_communication_methods.py.html">
                        communication_methods.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_determination_type.py.html">
                        determination_type.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_event_type.py.html">
                        event_type.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_letter_type.py.html">
                        letter_type.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_pdf.py.html">
                        pdf.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_permission.py.html">
                        permission.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_request_date.py.html">
                        request_date.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_request_status.py.html">
                        request_status.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_response_privacy.py.html">
                        response_privacy.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_response_type.py.html">
                        response_type.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_role_name.py.html">
                        role_name.py
                    </a>
                </li>
                <li>
                    <a href="#Submenu7" data-toggle="collapse" aria-expanded="false">
                        schemas
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu7">
                    <li>
                        <a href="/NYCOpenDocs/html/app_constants_schemas_schemas.html">
                            About the directory 'schemas'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_constants_schemas___init__.py.html">
                            __init__.py
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_submission_methods.py.html">
                        submission_methods.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_user_type_auth.py.html">
                        user_type_auth.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_user_type_request.py.html">
                        user_type_request.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_web_services.py.html">
                        web_services.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu8" data-toggle="collapse" aria-expanded="false">
                    lib
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu8">
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_lib.html">
                        About the directory 'lib'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_date_utils.py.html">
                        date_utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_db_utils.py.html">
                        db_utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_email_utils.py.html">
                        email_utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_file_utils.py.html">
                        file_utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_jinja_filters.py.html">
                        jinja_filters.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_json_schema.py.html">
                        json_schema.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_pdf.py.html">
                        pdf.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_permission_utils.py.html">
                        permission_utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_redis_utils.py.html">
                        redis_utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_user_information.py.html">
                        user_information.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_utils.py.html">
                        utils.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu9" data-toggle="collapse" aria-expanded="false">
                    main
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu9">
                <li>
                    <a href="/NYCOpenDocs/html/app_main_main.html">
                        About the directory 'main'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_main___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_main_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="/NYCOpenDocs/html/app_models.py.html">
                    models.py
                </a>
            </li>
            <li>
                <a href="#Submenu10" data-toggle="collapse" aria-expanded="false">
                    permissions
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu10">
                <li>
                    <a href="/NYCOpenDocs/html/app_permissions_permissions.html">
                        About the directory 'permissions'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_permissions___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_permissions_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_permissions_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu11" data-toggle="collapse" aria-expanded="false">
                    report
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu11">
                <li>
                    <a href="/NYCOpenDocs/html/app_report_report.html">
                        About the directory 'report'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_report___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_report_forms.py.html">
                        forms.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_report_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu12" data-toggle="collapse" aria-expanded="false">
                    request
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu12">
                <li>
                    <a href="/NYCOpenDocs/html/app_request_request.html">
                        About the directory 'request'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_request___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="#Submenu13" data-toggle="collapse" aria-expanded="false">
                        api
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu13">
                    <li>
                        <a href="/NYCOpenDocs/html/app_request_api_api.html">
                            About the directory 'api'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_request_api___init__.py.html">
                            __init__.py
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_request_api_utils.py.html">
                            utils.py
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_request_api_views.py.html">
                            views.py
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="/NYCOpenDocs/html/app_request_forms.py.html">
                        forms.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_request_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_request_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu14" data-toggle="collapse" aria-expanded="false">
                    response
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu14">
                <li>
                    <a href="/NYCOpenDocs/html/app_response_response.html">
                        About the directory 'response'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_response___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_response_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_response_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu15" data-toggle="collapse" aria-expanded="false">
                    search
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu15">
                <li>
                    <a href="/NYCOpenDocs/html/app_search_search.html">
                        About the directory 'search'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_search___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_search_constants.py.html">
                        constants.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_search_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_search_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu16" data-toggle="collapse" aria-expanded="false">
                    static
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu16">
                <li>
                    <a href="/NYCOpenDocs/html/app_static_static.html">
                        About the directory 'static'
                    </a>
                </li>
                <li>
                    <a href="#Submenu17" data-toggle="collapse" aria-expanded="false">
                        js
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu17">
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_js_js.html">
                            About the directory 'js'
                        </a>
                    </li>
                    <li>
                        <a href="#Submenu18" data-toggle="collapse" aria-expanded="false">
                            admin
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu18">
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_admin_admin.html">
                                About the directory 'admin'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_admin_main.js.html">
                                main.js
                            </a>
                        </li>
                    </ul>
                    <li>
                        <a href="#Submenu19" data-toggle="collapse" aria-expanded="false">
                            auth
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu19">
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_auth_auth.html">
                                About the directory 'auth'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_auth_manage-account.js.html">
                                manage-account.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_auth_session-monitor.js.html">
                                session-monitor.js
                            </a>
                        </li>
                    </ul>
                    <li>
                        <a href="#Submenu20" data-toggle="collapse" aria-expanded="false">
                            plugins
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu20">
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_plugins.html">
                                About the directory 'plugins'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_Chart.min.js.html">
                                Chart.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_bootstrap-editable.min.js.html">
                                bootstrap-editable.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_bootstrap.min.js.html">
                                bootstrap.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery-ui.js.html">
                                jquery-ui.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery-ui.min.js.html">
                                jquery-ui.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery.blockUI.js.html">
                                jquery.blockUI.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery.fileupload-process.js.html">
                                jquery.fileupload-process.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery.fileupload-ui.js.html">
                                jquery.fileupload-ui.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery.fileupload-validate.js.html">
                                jquery.fileupload-validate.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery.fileupload.js.html">
                                jquery.fileupload.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery.iframe-transport.js.html">
                                jquery.iframe-transport.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery.js.html">
                                jquery.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery.mask.js.html">
                                jquery.mask.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery.timepicker.min.js.html">
                                jquery.timepicker.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jstz.min.js.html">
                                jstz.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_juniper.js.html">
                                juniper.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_moment.min.js.html">
                                moment.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_parsley.min.js.html">
                                parsley.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_sprintf.min.js.html">
                                sprintf.min.js
                            </a>
                        </li>
                        <li>
                            <a href="#Submenu21" data-toggle="collapse" aria-expanded="false">
                                tinymce
                            </a>
                        </li>
                        <ul class="collapse list-unstyled" id="Submenu21">
                            <li>
                                <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_tinymce.html">
                                    About the directory 'tinymce'
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_jquery.tinymce.min.js.html">
                                    jquery.tinymce.min.js
                                </a>
                            </li>
                            <li>
                                <a href="#Submenu22" data-toggle="collapse" aria-expanded="false">
                                    plugins
                                </a>
                            </li>
                            <ul class="collapse list-unstyled" id="Submenu22">
                                <li>
                                    <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_plugins_plugins.html">
                                        About the directory 'plugins'
                                    </a>
                                </li>
                                <li>
                                    <a href="#Submenu23" data-toggle="collapse" aria-expanded="false">
                                        noneditable
                                    </a>
                                </li>
                                <ul class="collapse list-unstyled" id="Submenu23">
                                    <li>
                                        <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_plugins_noneditable_noneditable.html">
                                            About the directory 'noneditable'
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_plugins_noneditable_plugin.min.js.html">
                                            plugin.min.js
                                        </a>
                                    </li>
                                </ul>
                            </ul>
                            <li>
                                <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_preventdelete.js.html">
                                    preventdelete.js
                                </a>
                            </li>
                            <li>
                                <a href="#Submenu24" data-toggle="collapse" aria-expanded="false">
                                    themes
                                </a>
                            </li>
                            <ul class="collapse list-unstyled" id="Submenu24">
                                <li>
                                    <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_themes_themes.html">
                                        About the directory 'themes'
                                    </a>
                                </li>
                                <li>
                                    <a href="#Submenu25" data-toggle="collapse" aria-expanded="false">
                                        inlite
                                    </a>
                                </li>
                                <ul class="collapse list-unstyled" id="Submenu25">
                                    <li>
                                        <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_themes_inlite_inlite.html">
                                            About the directory 'inlite'
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_themes_inlite_theme.min.js.html">
                                            theme.min.js
                                        </a>
                                    </li>
                                </ul>
                                <li>
                                    <a href="#Submenu26" data-toggle="collapse" aria-expanded="false">
                                        modern
                                    </a>
                                </li>
                                <ul class="collapse list-unstyled" id="Submenu26">
                                    <li>
                                        <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_themes_modern_modern.html">
                                            About the directory 'modern'
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_themes_modern_theme.min.js.html">
                                            theme.min.js
                                        </a>
                                    </li>
                                </ul>
                            </ul>
                            <li>
                                <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_tinymce.min.js.html">
                                    tinymce.min.js
                                </a>
                            </li>
                        </ul>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_tmpl.min.js.html">
                                tmpl.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_tota11y.min.js.html">
                                tota11y.min.js
                            </a>
                        </li>
                    </ul>
                    <li>
                        <a href="#Submenu27" data-toggle="collapse" aria-expanded="false">
                            request
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu27">
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_request.html">
                                About the directory 'request'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_action-buttons-mobile-toggle.js.html">
                                action-buttons-mobile-toggle.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_character-count.js.html">
                                character-count.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_contact.js.html">
                                contact.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_edit_requester_info.js.html">
                                edit_requester_info.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_main.js.html">
                                main.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_new-request-agency.js.html">
                                new-request-agency.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_new-request-anon.js.html">
                                new-request-anon.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_new-request-user.js.html">
                                new-request-user.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_search.js.html">
                                search.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_validate-recaptcha.js.html">
                                validate-recaptcha.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_view-request-contact.js.html">
                                view-request-contact.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_view-request-history.js.html">
                                view-request-history.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_view-request-responses.js.html">
                                view-request-responses.js
                            </a>
                        </li>
                    </ul>
                    <li>
                        <a href="#Submenu28" data-toggle="collapse" aria-expanded="false">
                            upload
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu28">
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_upload_upload.html">
                                About the directory 'upload'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_upload_fileupload.js.html">
                                fileupload.js
                            </a>
                        </li>
                    </ul>
                    <li>
                        <a href="#Submenu29" data-toggle="collapse" aria-expanded="false">
                            validation
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu29">
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_validation_validation.html">
                                About the directory 'validation'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_validation_custom_validators.js.html">
                                custom_validators.js
                            </a>
                        </li>
                    </ul>
                </ul>
            </ul>
            <li>
                <a href="#Submenu30" data-toggle="collapse" aria-expanded="false">
                    upload
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu30">
                <li>
                    <a href="/NYCOpenDocs/html/app_upload_upload.html">
                        About the directory 'upload'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_upload___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="#Submenu31" data-toggle="collapse" aria-expanded="false">
                        constants
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu31">
                    <li>
                        <a href="/NYCOpenDocs/html/app_upload_constants_constants.html">
                            About the directory 'constants'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_upload_constants___init__.py.html">
                            __init__.py
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_upload_constants_upload_status.py.html">
                            upload_status.py
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="/NYCOpenDocs/html/app_upload_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_upload_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu32" data-toggle="collapse" aria-expanded="false">
                    user
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu32">
                <li>
                    <a href="/NYCOpenDocs/html/app_user_user.html">
                        About the directory 'user'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_user___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_user_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu33" data-toggle="collapse" aria-expanded="false">
                    user_request
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu33">
                <li>
                    <a href="/NYCOpenDocs/html/app_user_request_user_request.html">
                        About the directory 'user_request'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_user_request___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_user_request_forms.py.html">
                        forms.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_user_request_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_user_request_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
        </ul>
        <li>
            <a href="#Submenu34" data-toggle="collapse" aria-expanded="false">
                build_scripts
            </a>
        </li>
        <ul class="collapse list-unstyled" id="Submenu34">
            <li>
                <a href="/NYCOpenDocs/html/build_scripts_build_scripts.html">
                    About the directory 'build_scripts'
                </a>
            </li>
            <li>
                <a href="#Submenu35" data-toggle="collapse" aria-expanded="false">
                    app_setup
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu35">
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_app_setup_app_setup.html">
                        About the directory 'app_setup'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_app_setup_app_setup.sh.html">
                        app_setup.sh
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu36" data-toggle="collapse" aria-expanded="false">
                    consul-vault_setup
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu36">
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_consul-vault_setup_consul-vault_setup.html">
                        About the directory 'consul-vault_setup'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_consul-vault_setup_consul_setup.sh.html">
                        consul_setup.sh
                    </a>
                </li>
                <li>
                    <a href="#Submenu37" data-toggle="collapse" aria-expanded="false">
                        nginx
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu37">
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_consul-vault_setup_nginx_nginx.html">
                            About the directory 'nginx'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_consul-vault_setup_nginx_nginx_setup.sh.html">
                            nginx_setup.sh
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_consul-vault_setup_vault_setup.sh.html">
                        vault_setup.sh
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu38" data-toggle="collapse" aria-expanded="false">
                    db_setup
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu38">
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_db_setup_db_setup.html">
                        About the directory 'db_setup'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_db_setup_backup.py.html">
                        backup.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_db_setup_backup.sh.html">
                        backup.sh
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_db_setup_db_setup.sh.html">
                        db_setup.sh
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_db_setup_postgres.sh.html">
                        postgres.sh
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu39" data-toggle="collapse" aria-expanded="false">
                    elk_setup
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu39">
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_elk_setup_elk_setup.html">
                        About the directory 'elk_setup'
                    </a>
                </li>
                <li>
                    <a href="#Submenu40" data-toggle="collapse" aria-expanded="false">
                        elasticsearch
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu40">
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_elasticsearch_elasticsearch.html">
                            About the directory 'elasticsearch'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_elasticsearch_elasticsearch.yml.html">
                            elasticsearch.yml
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_elasticsearch_setup.sh.html">
                            setup.sh
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="#Submenu41" data-toggle="collapse" aria-expanded="false">
                        kibana
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu41">
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_kibana_kibana.html">
                            About the directory 'kibana'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_kibana_kibana.yml.html">
                            kibana.yml
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_kibana_setup.sh.html">
                            setup.sh
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="#Submenu42" data-toggle="collapse" aria-expanded="false">
                        logstash
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu42">
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_logstash_logstash.html">
                            About the directory 'logstash'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_logstash_logstash.yml.html">
                            logstash.yml
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_logstash_setup.sh.html">
                            setup.sh
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="#Submenu43" data-toggle="collapse" aria-expanded="false">
                        nginx
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu43">
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_nginx_nginx.html">
                            About the directory 'nginx'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_nginx_setup.sh.html">
                            setup.sh
                        </a>
                    </li>
                </ul>
            </ul>
            <li>
                <a href="#Submenu44" data-toggle="collapse" aria-expanded="false">
                    es_setup
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu44">
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_es_setup_es_setup.html">
                        About the directory 'es_setup'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_es_setup_elasticsearch.yml.html">
                        elasticsearch.yml
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_es_setup_es_setup.sh.html">
                        es_setup.sh
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu45" data-toggle="collapse" aria-expanded="false">
                    filebeat_setup
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu45">
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_filebeat_setup_filebeat_setup.html">
                        About the directory 'filebeat_setup'
                    </a>
                </li>
                <li>
                    <a href="#Submenu46" data-toggle="collapse" aria-expanded="false">
                        app_nginx
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu46">
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_filebeat_setup_app_nginx_app_nginx.html">
                            About the directory 'app_nginx'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_filebeat_setup_app_nginx_filebeat.yml.html">
                            filebeat.yml
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_filebeat_setup_app_nginx_install.sh.html">
                            install.sh
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_filebeat_setup_app_nginx_setup.sh.html">
                            setup.sh
                        </a>
                    </li>
                </ul>
            </ul>
            <li>
                <a href="/NYCOpenDocs/html/build_scripts_proxy.sh.html">
                    proxy.sh
                </a>
            </li>
            <li>
                <a href="#Submenu47" data-toggle="collapse" aria-expanded="false">
                    sentry_setup
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu47">
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_sentry_setup_sentry_setup.html">
                        About the directory 'sentry_setup'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_sentry_setup_config.yml.html">
                        config.yml
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_sentry_setup_db_setup_config.sh.html">
                        db_setup_config.sh
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_sentry_setup_db_setup_install.sh.html">
                        db_setup_install.sh
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_sentry_setup_nginx_setup.sh.html">
                        nginx_setup.sh
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_sentry_setup_sentry.conf.py.html">
                        sentry.conf.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_sentry_setup_setup.sh.html">
                        setup.sh
                    </a>
                </li>
            </ul>
            <li>
                <a href="/NYCOpenDocs/html/build_scripts_subscription_manager.sh.html">
                    subscription_manager.sh
                </a>
            </li>
            <li>
                <a href="#Submenu48" data-toggle="collapse" aria-expanded="false">
                    web_setup
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu48">
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_web_setup_web_setup.html">
                        About the directory 'web_setup'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_web_setup_web_setup.sh.html">
                        web_setup.sh
                    </a>
                </li>
            </ul>
        </ul>
        <li>
            <a href="/NYCOpenDocs/html/celery_worker.py.html">
                celery_worker.py
            </a>
        </li>
        <li>
            <a href="/NYCOpenDocs/html/config.py.html">
                config.py
            </a>
        </li>
        <li>
            <a href="/NYCOpenDocs/html/gunicorn_config.py.html">
                gunicorn_config.py
            </a>
        </li>
        <li>
            <a href="/NYCOpenDocs/html/jobs.py.html">
                jobs.py
            </a>
        </li>
        <li>
            <a href="/NYCOpenDocs/html/manage.py.html">
                manage.py
            </a>
        </li>
        <li>
            <a href="#Submenu49" data-toggle="collapse" aria-expanded="false">
                migrations
            </a>
        </li>
        <ul class="collapse list-unstyled" id="Submenu49">
            <li>
                <a href="/NYCOpenDocs/html/migrations_migrations.html">
                    About the directory 'migrations'
                </a>
            </li>
            <li>
                <a href="#Submenu50" data-toggle="collapse" aria-expanded="false">
                    custom
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu50">
                <li>
                    <a href="/NYCOpenDocs/html/migrations_custom_custom.html">
                        About the directory 'custom'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_custom_openrecords_v1.py.html">
                        openrecords_v1.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="/NYCOpenDocs/html/migrations_env.py.html">
                    env.py
                </a>
            </li>
            <li>
                <a href="#Submenu51" data-toggle="collapse" aria-expanded="false">
                    versions
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu51">
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_versions.html">
                        About the directory 'versions'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_13de5f42768b_add_session_id_to_users_table.py.html">
                        13de5f42768b_add_session_id_to_users_table.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_1920035b3a1f_140_character_limit_file_title.py.html">
                        1920035b3a1f_140_character_limit_file_title.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_22b97712d5db_add_letters_and_envelopes_to_type_enum.py.html">
                        22b97712d5db_add_letters_and_envelopes_to_type_enum.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_24e110b4489b_drop_Users_agency_ein_column.py.html">
                        24e110b4489b_drop_Users_agency_ein_column.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_24e110b4489b_drop_the_users-agency_ein_column.py.html">
                        24e110b4489b_drop_the_users-agency_ein_column.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_32dec7b290bb_added_is_editable_to_responses_table.py.html">
                        32dec7b290bb_added_is_editable_to_responses_table.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_445e50628f6b_add_communication_methods.py.html">
                        445e50628f6b_add_communication_methods.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_52a4062502bb_adding_agencyusers.py.html">
                        52a4062502bb_adding_agencyusers.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_58a5abdd94ac_added_agency_acronym_to_db.py.html">
                        58a5abdd94ac_added_agency_acronym_to_db.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_60116f094400_increase_length_of_file_title_to_250_.py.html">
                        60116f094400_increase_length_of_file_title_to_250_.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_6ab8af7a1347_removing_response_token_expiration_date.py.html">
                        6ab8af7a1347_removing_response_token_expiration_date.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_7ba6fbb131bb_add_signature_to_users.py.html">
                        7ba6fbb131bb_add_signature_to_users.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_7e0434686370_added_custom_request_forms_table.py.html">
                        7e0434686370_added_custom_request_forms_table.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_85068c55138a_added_notification_email.py.html">
                        85068c55138a_added_notification_email.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_8797e9a71f62_user_requests_events_on_update_cascade.py.html">
                        8797e9a71f62_user_requests_events_on_update_cascade.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_9005ab594598_add_lettertemplates.py.html">
                        9005ab594598_add_lettertemplates.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_949aebe9e480_letters_table.py.html">
                        949aebe9e480_letters_table.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_971f341c0204_adding_agency_features_json_column_to_.py.html">
                        971f341c0204_adding_agency_features_json_column_to_.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_9908a9bf1dbd_json_to_jsonb.py.html">
                        9908a9bf1dbd_json_to_jsonb.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_a2547b706641_initial_migration.py.html">
                        a2547b706641_initial_migration.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_a3d80d04b0f1_add_date_closed_to_requests_table.py.html">
                        a3d80d04b0f1_add_date_closed_to_requests_table.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_b3c0c76ac2e6_add_envelope_functionality.py.html">
                        b3c0c76ac2e6_add_envelope_functionality.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_b722969f38a6_added_minimum_required_to_custom_.py.html">
                        b722969f38a6_added_minimum_required_to_custom_.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_c7f05adcf7d9_added_point_of_contact.py.html">
                        c7f05adcf7d9_added_point_of_contact.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_cf62ec87d973_agency_description_to_agency_request_.py.html">
                        cf62ec87d973_agency_description_to_agency_request_.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_dc926c74551d_added_category_to_custom_request_forms.py.html">
                        dc926c74551d_added_category_to_custom_request_forms.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_ebeb3491636e_add_re-opening_to_reasons_enum.py.html">
                        ebeb3491636e_add_re-opening_to_reasons_enum.py
                    </a>
                </li>
            </ul>
        </ul>
        <li>
            <a href="/NYCOpenDocs/html/setup.sh.html">
                setup.sh
            </a>
        </li>
        <li>
            <a href="#Submenu52" data-toggle="collapse" aria-expanded="false">
                tests
            </a>
        </li>
        <ul class="collapse list-unstyled" id="Submenu52">
            <li>
                <a href="/NYCOpenDocs/html/tests_tests.html">
                    About the directory 'tests'
                </a>
            </li>
            <li>
                <a href="/NYCOpenDocs/html/tests___init__.py.html">
                    __init__.py
                </a>
            </li>
            <li>
                <a href="/NYCOpenDocs/html/tests_conftest.py.html">
                    conftest.py
                </a>
            </li>
            <li>
                <a href="#Submenu53" data-toggle="collapse" aria-expanded="false">
                    functional
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu53">
                <li>
                    <a href="/NYCOpenDocs/html/tests_functional_functional.html">
                        About the directory 'functional'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/tests_functional_test_main.py.html">
                        test_main.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/tests_functional_test_requests.py.html">
                        test_requests.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu54" data-toggle="collapse" aria-expanded="false">
                    helpers
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu54">
                <li>
                    <a href="/NYCOpenDocs/html/tests_helpers_helpers.html">
                        About the directory 'helpers'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/tests_helpers_utils.py.html">
                        utils.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu55" data-toggle="collapse" aria-expanded="false">
                    unit
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu55">
                <li>
                    <a href="/NYCOpenDocs/html/tests_unit_unit.html">
                        About the directory 'unit'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/tests_unit_test_factory.py.html">
                        test_factory.py
                    </a>
                </li>
            </ul>
        </ul>
        <li>
            <a href="/NYCOpenDocs/html/update_definitions.sh.html">
                update_definitions.sh
            </a>
        </li>
    </ul>
</nav>
            <div id="content">
                <figure>
                    <img
                    src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/58/Brooklyn_Skyline_%289910358874%29.jpg/3600px-Brooklyn_Skyline_%289910358874%29.jpg"
                    width="32%">
                    <figcaption>
                    </figcaption>
                </figure>
                <h1>
                    utils.py
                </h1>
                <p>
<a href="https://github.com/CityOfNewYork/NYCOpenRecords/blob/master/app/response/utils.py">Source code</a>
                </p>

                <details>
                    <summary class="sum1">
                    About this file
                    </summary>

<!-- Include the text material here! -->
"""
<br>&emsp;        app.response.utils
<br>&emsp;        ~~~~~~~~~~~~~~~~
<br>
<br>&emsp;        synopsis: Handles the functions for responses
<br>
<br>"""
<br>&emsp;&emsp;# TODO: class ResponseProducer()
<br>def add_file(request_id, filename, title, privacy, is_editable):
<br>&emsp;        """
<br>&emsp;        Create and store the file response object for the specified request.
<br>&emsp;        Gets the file mimetype and magic file check from a helper function in lib.file_utils
<br>&emsp;        File privacy options can be either Release and Public, Release and Private, or Private.
<br>&emsp;        Provides parameters for the process_response function to create and store responses and events object.
<br>&emsp;        :param request_id: Request ID that the file is being added to
<br>&emsp;        :param filename: The secured_filename of the file.
<br>&emsp;        :param title: The title of the file which is entered by the uploader.
<br>&emsp;        :param privacy: The privacy option of the file.
<br>    """
<br>def add_note(request_id, note_content, email_content, privacy, is_editable, is_requester):
<br>&emsp;        """
<br>&emsp;        Create and store the note object for the specified request.
<br>&emsp;        Store the note content into the Notes table.
<br>&emsp;        Provides parameters for the process_response function to create and store responses and events object.
<br>
<br>&emsp;        :param request_id: FOIL request ID for the note
<br>&emsp;        :param note_content: string content of the note to be created and stored as a note object
<br>&emsp;        :param email_content: email body content of the email to be created and stored as a email object
<br>&emsp;        :param privacy: The privacy option of the note
<br>&emsp;        :param is_editable: editability of the note
<br>&emsp;        :param is_requester: requester is creator of the note
<br>
<br>    """
<br>def add_acknowledgment(request_id, info, days, date, tz_name, content, method, letter_template_id):
<br>&emsp;        """
<br>&emsp;        Create and store an acknowledgement-determination response for
<br>&emsp;        the specified request and update the request accordingly.
<br>
<br>&emsp;        :param request_id: FOIL request ID
<br>&emsp;        :param info: additional information pertaining to the acknowledgment
<br>&emsp;        :param days: days until request completion
<br>&emsp;        :param date: date of request completion
<br>&emsp;        :param tz_name: client's timezone name
<br>&emsp;        :param content: body text associated with the acknowledgment
<br>&emsp;        :param method: the communication method of the acknowledgement ('letter' or 'email')
<br>&emsp;        :param letter_template_id: id of the letter template
<br>
<br>    """
<br>def add_denial(request_id, reason_ids, content, method, letter_template_id):
<br>&emsp;        """
<br>&emsp;        Create and store a denial-determination response for
<br>&emsp;        the specified request and update the request accordingly.
<br>
<br>&emsp;        :param request_id: FOIL request ID
<br>&emsp;        :param reason_ids: reason for denial
<br>&emsp;        :param content: body text associated with the denial
<br>&emsp;        :param method: the communication method of the denial ('letter' or 'email')
<br>&emsp;        :param letter_template_id: id of the letter template
<br>
<br>    """
<br>def add_closing(request_id, reason_ids, content, method, letter_template_id):
<br>&emsp;        """
<br>&emsp;        Create and store a closing-determination response for the specified request and update the request accordingly.
<br>
<br>&emsp;        :param request_id: FOIL request ID
<br>&emsp;        :param reason_ids: reason(s) for closing
<br>&emsp;        :param content: body text associated with the closing
<br>&emsp;        :param method: the communication method of the closing ('letter' or 'email')
<br>&emsp;        :param letter_template_id: id of the letter template
<br>
<br>    """
<br>def add_reopening(request_id, date, tz_name, content, reason, method, letter_template_id=None):
<br>&emsp;        """
<br>&emsp;        Create and store a re-opened-determination for the specified request and update the request accordingly.
<br>
<br>&emsp;        :param request_id: FOIL request ID
<br>&emsp;        :param date: string of new date of request completion
<br>&emsp;        :param tz_name: client's timezone name
<br>&emsp;        :param content: email body associated with the reopened request
<br>&emsp;        :param reason: Reason for re-opening
<br>&emsp;        :param method: Method of delivery (email or letters)
<br>&emsp;        :param letter_template_id: id of the letter template, if generating a letter
<br>
<br>    """
<br>def add_extension(request_id, length, reason, custom_due_date, tz_name, content, method, letter_template_id):
<br>&emsp;        """
<br>&emsp;        Create and store the extension object for the specified request.
<br>&emsp;        Extension's privacy is always Release and Public.
<br>&emsp;        Provides parameters for the process_response function to create and store responses and events object.
<br>&emsp;        Calls email notification function to email both requester and agency users detailing the extension.
<br>
<br>&emsp;        :param request_id: FOIL request ID for the extension
<br>&emsp;        :param length: length in business days that the request is being extended by
<br>&emsp;        :param reason: reason for the extension of the request
<br>&emsp;        :param custom_due_date: if custom_due_date is inputted from the frontend, the new extended date of the request
<br>&emsp;        :param tz_name: client's timezone name
<br>&emsp;        :param content: body text associated with the extension
<br>&emsp;        :param method: the communication method of the extension ('letter' or 'email')
<br>&emsp;        :param letter_template_id: id of the letter template
<br>
<br>    """
<br>def add_link(request_id, title, url_link, email_content, privacy, is_editable=True):
<br>&emsp;        """
<br>&emsp;        Create and store the link object for the specified request.
<br>&emsp;        Store the link content into the Links table.
<br>&emsp;        Provides parameters for the process_response function to create and store responses and events object
<br>&emsp;        Calls email notification function to email both requester and agency users detailing the link.
<br>
<br>&emsp;        :param request_id: FOIL request ID for the link
<br>&emsp;        :param title: title of the link to be stored in the Links table and as a response value
<br>&emsp;        :param url_link: link url to be stored in the Links table and as a response value
<br>&emsp;        :param email_content: string of HTML email content to be created and stored as a email object
<br>&emsp;        :param privacy: The privacy option of the link
<br>
<br>    """
<br>def add_instruction(request_id, instruction_content, email_content, privacy, is_editable=True):
<br>&emsp;        """
<br>&emsp;        Creates and stores the instruction object for the specified request.
<br>&emsp;        Stores the instruction content into the Instructions table.
<br>&emsp;        Provides parameters for the process_response function to create and store responses and events object.
<br>
<br>&emsp;        :param request_id: FOIL request ID for the instruction
<br>&emsp;        :param instruction_content: string content of the instruction to be created and stored as a instruction object
<br>&emsp;        :param email_content: email body content of the email to be created and stored as a email object
<br>&emsp;        :param privacy: The privacy option of the instruction
<br>
<br>    """
<br>def add_response_letter(request_id, content, letter_template_id):
<br>&emsp;        """
<br>&emsp;        Generate and email a PDF of the response letter.
<br>&emsp;        Create and store the response_letters and communication_methods objects.
<br>
<br>&emsp;        :param request_id: FOIL request ID
<br>&emsp;        :param content: (string) HTML of the response letter
<br>&emsp;        :param letter_template_id: id of the letter template
<br>    """
<br>def _add_email(request_id, subject, email_content, to=None, cc=None, bcc=None):
<br>&emsp;        """
<br>&emsp;        Create and store the email object for the specified request.
<br>&emsp;        Store the email metadata into the Emails table.
<br>&emsp;        Provides parameters for the process_response function to create and store responses and events object.
<br>
<br>&emsp;        :param request_id: takes in FOIL request ID as an argument for the process_response function
<br>&emsp;        :param subject: subject of the email to be created and stored as a email object
<br>&emsp;        :param email_content: string of HTML email content to be created and stored as a email object
<br>&emsp;        :param to: list of person(s) email is being sent to
<br>&emsp;        :param cc: list of person(s) email is being cc'ed to
<br>&emsp;        :param bcc: list of person(s) email is being bcc'ed
<br>
<br>    """
<br>def _add_letter(request_id, letter_title, letter_content, letter_type):
<br>&emsp;        """
<br>&emsp;        Create and store a letter object for the specified request.
<br>&emsp;        Stores the letter metadata in the Letters table.
<br>&emsp;        Provides parameters for the process_response function to create and store responses and events objects.
<br>
<br>&emsp;        :param request_id: FOIL Request Unique Identifier
<br>&emsp;        :param letter_content: HTML content of the letter (used to format PDF for printing)
<br>&emsp;        :param letter_type: letter type created
<br>&emsp;        :return: Response Identifier (int)
<br>    """
<br>def add_envelope(request_id, template_id, envelope_data):
<br>&emsp;        """
<br>&emsp;        Create and store an envelope object for the specified request.
<br>&emsp;        Stores the envelope LaTeX in the Letters table.
<br>
<br>&emsp;        :param request_id: FOIL Request Unique Identifier (String)
<br>&emsp;        :param template_id: ID of the template to use to generate the envelope (String)
<br>&emsp;        :param envelope_data: Dictionary of data to fill in the envelope. (EnvelopeDict)
<br>&emsp;        :return: PDF File object
<br>    """
<br>def add_sms():
<br>&emsp;        """
<br>&emsp;        Will add an SMS to the database for the specified request.
<br>&emsp;        :return:
<br>    """
<br>def add_push():
<br>&emsp;        """
<br>&emsp;        Will add a push to the database for the specified request.
<br>&emsp;        :return:
<br>    """
<br>def format_determination_reasons(reason_ids):
<br>def _get_new_due_date(request_id, extension_length, custom_due_date, tz_name):
<br>&emsp;        """
<br>&emsp;        Gets the new due date from either generating with extension length, or setting from an inputted custom due date.
<br>&emsp;        If the extension length is -1, then we use the custom_due_date to determine the new_due_date.
<br>&emsp;        Or else, extension length has an length (20, 30, 60, 90, or 120) and new_due_date will be determined by
<br>&emsp;        generate_due_date.
<br>
<br>&emsp;        :param request_id: FOIL request ID that is being passed in to generate_new_due_date
<br>&emsp;        :param extension_length: number of days the due date is being extended by
<br>&emsp;        :param custom_due_date: custom due date of the request (string in format '%m/%d/%Y')
<br>&emsp;        :param tz_name: client's timezone name
<br>
<br>&emsp;        :return: new_due_date of the request
<br>    """
<br>def process_upload_data(form):
<br>&emsp;        """
<br>&emsp;        Helper function that processes the uploaded file form data.
<br>&emsp;        A files dictionary is first created and then populated with keys and their respective values of the form data.
<br>
<br>&emsp;        :param form: form object to be processed and separated into appropriate keys and values
<br>
<br>&emsp;        :return: A dictionary that contains the uploaded file(s)'s metadata.
<br>    """
<br>def process_letter_template_request(request_id, data):
<br>&emsp;        """
<br>&emsp;        Process the letter template for the request.
<br>
<br>&emsp;        Generate a letter based on the template from the agency. Will include any headers and signatures (non-editable).
<br>&emsp;        :param request_id: FOIL Request ID
<br>&emsp;        :param data: Data from the frontend AJAX call (JSON)
<br>&emsp;        :return: the HTML of the rendered template
<br>    """
<br>def process_email_template_request(request_id, data):
<br>&emsp;        """
<br>&emsp;        Process the email template for responses. Determine the type of response from passed in data and follows
<br>&emsp;        the appropriate execution path to render the email template.
<br>
<br>&emsp;        :param data: Data from the frontend AJAX call
<br>&emsp;        :param request_id: FOIL request ID
<br>
<br>&emsp;        :return: the HTML of the rendered template
<br>    """
<br>def assign_point_of_contact(point_of_contact):
<br>&emsp;        """
<br>&emsp;        Assign a user to be the point of contact in emails/letters
<br>
<br>&emsp;        :param point_of_contact: A string containing the user_guid if point of contact has been set for a request
<br>&emsp;        :return: A User object to be designated as the point of contact for a request
<br>    """
<br>def assign_point_of_contact(point_of_contact):
<br>&emsp;        """
<br>&emsp;        Assign a user to be the point of contact in emails/letters
<br>
<br>&emsp;        :param point_of_contact: A string containing the user_guid if point of contact has been set for a request
<br>&emsp;        :return: A User object to be designated as the point of contact for a request
<br>    """
<br>def _acknowledgment_email_handler(request_id, data, page, agency_name, email_template):
<br>&emsp;        """
<br>&emsp;        Process email template for an acknowledgement.
<br>
<br>&emsp;        :param request_id: FOIL request ID
<br>&emsp;        :param data: data from frontend AJAX call
<br>&emsp;        :param page: string url link of the request
<br>&emsp;        :param agency_name: string name of the agency of the request
<br>&emsp;        :param email_template: raw HTML email template of a response
<br>
<br>&emsp;        :return: the HTML of the rendered template of an acknowledgement email.
<br>    """
<br>def _acknowledgment_letter_handler(request_id, data):
<br>&emsp;        """
<br>&emsp;        Process letter template for an acknowledgment.
<br>
<br>&emsp;        :param request_id: FOIL Request ID
<br>&emsp;        :param data: data from the frontend AJAX call
<br>&emsp;        :return: the HTML of a rendered template of an acknowledgment letter.
<br>    """
<br>def _extension_letter_handler(request_id, data):
<br>&emsp;        """
<br>&emsp;        Process letter template for an extension.
<br>
<br>&emsp;        :param request_id: FOIL Request ID
<br>&emsp;        :param data: data from the frontend AJAX call
<br>&emsp;        :return: the HTML of a rendered template of an extension letter.
<br>    """
<br>def _closing_letter_handler(request_id, data):
<br>&emsp;        """
<br>&emsp;        Process letter templates for a closing
<br>
<br>&emsp;        :param request_id: FOIL Request ID
<br>&emsp;        :param data: data from the frontend AJAX call
<br>&emsp;        :return: the HTML of a rendered template of a closing letter.
<br>    """
<br>def _denial_letter_handler(request_id, data):
<br>&emsp;        """
<br>&emsp;        Process letter templates for a denial
<br>
<br>&emsp;        :param request_id: FOIL Request ID
<br>&emsp;        :param data: data from the frontend AJAX call
<br>&emsp;        :return: the HTML of a rendered template of a denial letter.
<br>    """
<br>def _reopening_email_handler(request_id, data, page, agency_name, email_template):
<br>&emsp;        """
<br>&emsp;        Process email template for reopening a request.
<br>
<br>&emsp;        :param request_id (String): FOIL request ID
<br>&emsp;        :param data (JSON Dict): data from frontend AJAX call
<br>&emsp;        :param page (String): string url link of the request
<br>&emsp;        :param agency_name (String): string name of the agency of the request
<br>&emsp;        :param email_template (String [HTML Formatted]): raw HTML email template of a response
<br>
<br>&emsp;        :return: the HTML of the rendered email template of a reopening
<br>    """
<br>def _reopening_letter_handler(request_id, data):
<br>&emsp;        """
<br>
<br>&emsp;        Process letter templates for a re-opening
<br>
<br>&emsp;        :param request_id: FOIL Request ID
<br>&emsp;        :param data: data from the frontend AJAX call
<br>&emsp;        :return: the HTML of a rendered template of a re-opening letter.
<br>    """
<br>def _response_letter_handler(request_id, data):
<br>&emsp;        """
<br>&emsp;        Process letter template for a response.
<br>
<br>&emsp;        :param request_id: FOIL Request ID
<br>&emsp;        :param data: data from the frontend AJAX call
<br>&emsp;        :return: the HTML of a rendered template of a response letter.
<br>    """
<br>def _denial_email_handler(request_id, data, page, agency_name, email_template):
<br>&emsp;        """
<br>&emsp;        Process email template for denying a request.
<br>
<br>&emsp;        :param request_id: FOIL request ID
<br>&emsp;        :param data: data from frontend AJAX call
<br>&emsp;        :param page: string url link of the request
<br>&emsp;        :param agency_name: string name of the agency of the request
<br>&emsp;        :param email_template: raw HTML email template of a response
<br>
<br>&emsp;        :return: the HTML of the rendered template of a closing
<br>    """
<br>def _closing_email_handler(request_id, data, page, agency_name, email_template):
<br>&emsp;        """
<br>&emsp;        Process email template for closing a request.
<br>
<br>&emsp;        :param request_id: FOIL request ID
<br>&emsp;        :param data: data from frontend AJAX call
<br>&emsp;        :param page: string url link of the request
<br>&emsp;        :param agency_name: string name of the agency of the request
<br>&emsp;        :param email_template: raw HTML email template of a response
<br>
<br>&emsp;        :return: the HTML of the rendered template of a closing
<br>    """
<br>def _user_request_added_email_handler(request_id, data, page, agency_name, email_template):
<br>&emsp;        """
<br>&emsp;        Process email template for reopening a request.
<br>
<br>&emsp;        :param request_id: FOIL request ID
<br>&emsp;        :param data: data from frontend AJAX call
<br>&emsp;        :param page: string url link of the request
<br>&emsp;        :param agency_name: string name of the agency of the request
<br>&emsp;        :param email_template: raw HTML email template of a response
<br>
<br>&emsp;        :return: the HTML of the rendered email template of a reopening
<br>    """
<br>def _user_request_edited_email_handler(request_id, data, page, agency_name, email_template):
<br>&emsp;        """
<br>&emsp;        Process email template for reopening a request.
<br>
<br>&emsp;        :param request_id: FOIL request ID
<br>&emsp;        :param data: data from frontend AJAX call
<br>&emsp;        :param page: string url link of the request
<br>&emsp;        :param agency_name: string name of the agency of the request
<br>&emsp;        :param email_template: raw HTML email template of a response
<br>
<br>&emsp;        :return: the HTML of the rendered email template of a reopening
<br>    """
<br>def _user_request_removed_email_handler(request_id, data, page, agency_name, email_template):
<br>&emsp;        """
<br>&emsp;        Process email template for reopening a request.
<br>
<br>&emsp;        :param request_id: FOIL request ID
<br>&emsp;        :param data: data from frontend AJAX call
<br>&emsp;        :param page: string url link of the request
<br>&emsp;        :param agency_name: string name of the agency of the request
<br>&emsp;        :param email_template: raw HTML email template of a response
<br>
<br>&emsp;        :return: the HTML of the rendered email template of a reopening
<br>    """
<br>def _extension_email_handler(request_id, data, page, agency_name, email_template):
<br>&emsp;        """
<br>&emsp;        Process email template for an extension.
<br>&emsp;        Checks if dictionary of extension data exists. If not, renders the default response email template.
<br>&emsp;        If extension dictionary exists, renders the extension response template with provided arguments.
<br>
<br>&emsp;        :param request_id: FOIL request ID of the request being extended
<br>&emsp;        :param data: data from the frontend AJAX call
<br>&emsp;        :param page: string url link of the request
<br>&emsp;        :param agency_name: string name of the agency of the request
<br>&emsp;        :param email_template: raw HTML email template of a response
<br>
<br>&emsp;        :return: the HTML of the rendered template of an extension response
<br>    """
<br>def _file_email_handler(request_id, data, page, agency_name, email_template):
<br>&emsp;        """
<br>&emsp;        Process email template for a file.
<br>&emsp;        Checks if dictionary of file data exists. If not, renders the default response email template.
<br>&emsp;        If file dictionary exists, renders the file response template with provided arguments.
<br>
<br>&emsp;        :param request_id: FOIL request ID of the request the file is being added to
<br>&emsp;        :param data: data from the frontend AJAX call
<br>&emsp;        :param page: string url link of the request
<br>&emsp;        :param agency_name: string name of the agency of the request
<br>&emsp;        :param email_template: raw HTML email template of a response
<br>
<br>&emsp;        :return: the HTML of the rendered template of a file response
<br>    """
<br>def _link_email_handler(request_id, data, page, agency_name, email_template):
<br>&emsp;        """
<br>&emsp;        Process email template for a link instruction.
<br>&emsp;        Checks if dictionary of link data exists and renders the default response email template.
<br>&emsp;        If link dictionary does not exist, use email_content from frontend to render confirmation.
<br>
<br>&emsp;        :param request_id: FOIL request ID of the request the file is being added to
<br>&emsp;        :param data: data from the frontend AJAX call
<br>&emsp;        :param page: string url link of the request
<br>&emsp;        :param agency_name: string name of the agency of the request
<br>&emsp;        :param email_template: raw HTML email template of a response
<br>
<br>&emsp;        :return: the HTML of the rendered template of a file response
<br>    """
<br>def _note_email_handler(request_id, data, page, agency_name, email_template):
<br>&emsp;        """
<br>&emsp;        Process email template for note
<br>&emsp;        Checks if dictionary of note data exists and renders the default response email template.
<br>&emsp;        If note dictionary does not exist, use email_content from frontend to render confirmation.
<br>
<br>&emsp;        :param request_id: FOIL request ID of the request the note is being added to
<br>&emsp;        :param data: data from the frontend AJAX call
<br>&emsp;        :param page: string url link of the request
<br>&emsp;        :param agency_name: string name of the agency of the request
<br>&emsp;        :param email_template: raw HTML email template of a response
<br>
<br>&emsp;        :return: the HTML of the rendered template of a note response
<br>    """
<br>def _instruction_email_handler(request_id, data, page, agency_name, email_template):
<br>&emsp;        """
<br>&emsp;        Process email template for an offline instruction.
<br>&emsp;        Checks if dictionary of instruction data exists and renders the default response email template.
<br>&emsp;        If instruction dictionary does not exist, use email_content from frontend to render confirmation.
<br>
<br>&emsp;        :param request_id: FOIL request ID of the request the instruction is being added to
<br>&emsp;        :param data: data from the frontend AJAX call
<br>&emsp;        :param page: string url link of the request
<br>&emsp;        :param agency_name: string name of the agency of the request
<br>&emsp;        :param email_template: raw HTML email template of a response
<br>
<br>&emsp;        :return: the HTML of the rendered template of an instruction response
<br>    """
<br>def _edit_email_handler(data):
<br>&emsp;        """
<br>&emsp;        Process email template for a editing a response.
<br>&emsp;        Checks if confirmation is true. If not, renders the default edit response email template.
<br>&emsp;        If confirmation is true, renders the edit response template with provided arguments.
<br>
<br>&emsp;        :param data: data from the frontend AJAX call
<br>
<br>&emsp;        :return: the HTML of the rendered template of an edited response
<br>    """
<br>def _get_edit_response_template(editor):
<br>&emsp;        """
<br>&emsp;        Get the email template(s) and header for confirmation page, for the edit response workflow, based on privacy options.
<br>
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;    :param editor: editor object from class ResponseEditor
<br>&emsp;        :param editor: editor object from class ResponseEditor
<br>
<br>&emsp;        :return: email template for agency users.
<br>&emsp;&emsp;&emsp;                          email template for requester if privacy is not private.
<br>&emsp;&emsp;&emsp;                          header for confirmation page
<br>
<br>    """
<br>def get_email_key(response_id, requester=False):
<br>&emsp;        """
<br>&emsp;        Returns a formatted key for an email.
<br>&emsp;        Intended for storing the body of an email.
<br>
<br>&emsp;        :param response_id: id of the response
<br>&emsp;        :param requester: will the stored content be emailed to a requester?
<br>
<br>&emsp;        :return: the formatted key
<br>&emsp;&emsp;                Ex.
<br>&emsp;&emsp;&emsp;                        1_requester
<br>&emsp;&emsp;&emsp;                        1_agency
<br>    """
<br>def get_file_links(response, release_public_links, release_private_links, private_links):
<br>&emsp;        """
<br>&emsp;        Create file links for a file response based on privacy.
<br>&emsp;        Append a file_link dictionary to either release_public_links, release_private_links, and private_links, based on
<br>&emsp;        privacy option.
<br>
<br>&emsp;        :param response: response object
<br>&emsp;        :param release_public_links: list of dictionaries of release and public files containing key and values of filename,
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                                                                  title, and link to file
<br>&emsp;        :param release_private_links: list of dictionaries of release and public files containing key and values of
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                                                                    filename, title, and link to file
<br>&emsp;        :param private_links: list of dictionaries of private files containing key and values of filename, title, and
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                                                    link to file
<br>
<br>&emsp;        :return: list with appended file_link dictionary based on privacy
<br>    """
<br>def send_file_email(request_id, release_public_links, release_private_links, private_links, email_content,
<br>&emsp;        """
<br>&emsp;        Send email with file links detailing a file response has been added to the request.
<br>&emsp;        Requester receives email only if release_public_links and release_private_links list is not empty.
<br>&emsp;        Agency users are BCCed on the email the requester receives.
<br>&emsp;        Agency users receive a separate email if only private files were uploaded.
<br>
<br>&emsp;        :param request_id: FOIL request ID
<br>&emsp;        :param release_public_links: list of dictionaries of release and public files containing key and values of filename,
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                                                                  title, and link to file
<br>&emsp;        :param release_private_links: list of dictionaries of release and public files containing key and values of
<br>&emsp;        filename, title, and link to file
<br>&emsp;        :param private_links: list of dictionaries of private files containing key and values of filename, title, and
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                                                    link to file
<br>&emsp;        :param email_content: string body of email from tinymce textarea
<br>&emsp;        :param replace_string: alphanumeric random 32 character string to be replaced in email_content
<br>&emsp;        :param tz_name:
<br>
<br>    """
<br>def _send_edit_response_email(request_id, email_content_agency, email_content_requester=None):
<br>&emsp;        """
<br>&emsp;        Send email detailing a response has been edited.
<br>&emsp;        Always sends email to agency users on the request.
<br>&emsp;        Requester is emailed only if email_content_requester is provided.
<br>
<br>&emsp;        :param request_id: FOIL request ID
<br>&emsp;        :param email_content_agency: body of email being sent to agency users
<br>&emsp;        :param email_content_requester: body of email being sent to requester
<br>
<br>&emsp;        :type email_content_agency: str
<br>&emsp;        :type email_content_requester: str
<br>
<br>    """
<br>def _send_response_email(request_id, privacy, email_content, subject):
<br>&emsp;        """
<br>&emsp;        Function that sends email detailing a specific response has been added to a request.
<br>&emsp;        If the file privacy is private, only agency_ein users are emailed.
<br>&emsp;        If the file privacy is release, the requester is emailed and the agency_ein users are bcced.
<br>&emsp;        Call safely_send_and_add_email to send email notification detailing a specific response has been added to the
<br>&emsp;        request.
<br>
<br>&emsp;        :param request_id: FOIL request ID for the specific link
<br>&emsp;        :param email_content: content body of the email notification being sent
<br>&emsp;        :param privacy: privacy option of link
<br>
<br>    """
<br>def _send_delete_response_email(request_id, response):
<br>&emsp;        """
<br>&emsp;        Send an email notification to all agency users regarding
<br>&emsp;        a deleted response.
<br>
<br>    """
<br>def safely_send_and_add_email(request_id,
<br>&emsp;        """
<br>&emsp;        Send email based on given arguments and create and store email object into the Emails table.
<br>&emsp;        Print error messages if there is Assertion or Exception error occurs.
<br>
<br>&emsp;        :param request_id: FOIL request ID
<br>&emsp;        :param email_content: string of HTML email content that can be used as a message template
<br>&emsp;        :param subject: subject of the email (current is for TESTING purposes)
<br>&emsp;        :param template: path of the HTML template to be passed into and rendered in send_email
<br>&emsp;        :param to: list of person(s) email is being sent to
<br>&emsp;        :param bcc: list of person(s) email is being bcc'ed
<br>
<br>    """
<br>def create_response_event(events_type, response, previous_value=None, user=current_user):
<br>&emsp;        """
<br>&emsp;        Create and store event object for given response.
<br>
<br>&emsp;        :param response: response object
<br>&emsp;        :param events_type: one of app.constants.event_type
<br>&emsp;        :param previous_value: JSON to be stored in previous_value of Events (for Acknowledgements and Extensions)
<br>
<br>    """
<br>def _create_communication_method(response_id, method_id, method_type):
<br>&emsp;        """
<br>&emsp;        Create and store communication_method object for a given response.
<br>
<br>&emsp;        :param response_id: response ID
<br>&emsp;        :param method_id: response ID of the method
<br>&emsp;        :param method_type: 'letters' or 'emails'
<br>    """
<br>class ResponseEditor(metaclass=ABCMeta):
<br>&emsp;        """
<br>&emsp;&emsp;&emsp;&emsp;    Abstract base class for editing a response.
<br>&emsp;        Abstract base class for editing a response.
<br>
<br>&emsp;&emsp;&emsp;&emsp;    All derived classes must implement the 'editable_fields' method and
<br>&emsp;        All derived classes must implement the 'editable_fields' method and
<br>&emsp;        should override the `set_edited_data` method with any additional logic.
<br>    """
<br>&emsp;    def __init__(self, user, response, flask_request, update=True):
<br>&emsp;    def set_data_values(self, key, old, new):
<br>&emsp;    def event_type(self):
<br>&emsp;    def editable_fields(self):
<br>        """ List of fields that can be edited directly. """
<br>&emsp;    def requester_viewable_keys(self):
<br>        """ List of keys for edited data that can be viewed by a requester. """
<br>&emsp;    def requester_viewable(self):
<br>        """ Can a requester view the changes made to the response? """
<br>&emsp;    def set_edited_data(self):
<br>&emsp;&emsp;                """
<br>&emsp;&emsp;                For the editable fields, populates the old and new data containers
<br>&emsp;&emsp;                if the field values differ from their database counterparts.
<br>        """
<br>&emsp;    def _bool_check(self, value):
<br>&emsp;    def validate_deleted(self):
<br>&emsp;&emsp;                """
<br>&emsp;&emsp;                Removes the 'deleted' key-value pair from the data containers
<br>&emsp;&emsp;                if the confirmation string (see response PATCH) is not valid.
<br>        """
<br>&emsp;    def add_event_and_update(self):
<br>&emsp;&emsp;                """
<br>&emsp;&emsp;                Creates an 'edited' Event and updates the response record.
<br>        """
<br>&emsp;    def get_response_release_date(self):
<br>&emsp;    def deleted(self):
<br>&emsp;    def send_email(self):
<br>&emsp;&emsp;                """
<br>&emsp;&emsp;                Send an email to all relevant request participants.
<br>&emsp;&emsp;                Email content varies according to which response fields have changed.
<br>        """
<br>class RespFileEditor(ResponseEditor):
<br>&emsp;    def editable_fields(self):
<br>&emsp;    def set_edited_data(self):
<br>&emsp;&emsp;                """
<br>&emsp;&emsp;                If the file itself is being edited, gather
<br>&emsp;&emsp;                its metadata. The values of the 'size', 'name', 'mime_type',
<br>&emsp;&emsp;                and 'hash' fields are determined by the new file.
<br>        """
<br>&emsp;    def replace_old_file(self, updated_filepath):
<br>&emsp;&emsp;                """
<br>&emsp;&emsp;                Move the new file out of the 'updated' directory
<br>&emsp;&emsp;                and delete the file it is replacing.
<br>        """
<br>&emsp;    def handle_response_token(self, file_changed):
<br>&emsp;&emsp;                """
<br>&emsp;&emsp;                Handle the response token based on privacy option and if file has been replaced
<br>        """
<br>&emsp;    def file_link_for_user(self):
<br>&emsp;&emsp;                """
<br>&emsp;&emsp;                Get the link(s) of the file being edited.
<br>
<br>&emsp;&emsp;                :return: dictionary with a nested dictionary, filename, with key of requester and agency and values of the
<br>&emsp;&emsp;                respective file link(s).
<br>&emsp;&emsp;                File link to the requester is not created if privacy is private.
<br>        """
<br>&emsp;    def send_email(self):
<br>&emsp;&emsp;                """
<br>&emsp;&emsp;                Send an email to all relevant request participants for editing a file.
<br>&emsp;&emsp;                Email content varies according to which response fields have changed.
<br>        """
<br>&emsp;    def move_deleted_file(self):
<br>&emsp;&emsp;                """
<br>&emsp;&emsp;                Move the file of a deleted response to the
<br>&emsp;&emsp;                designated directory for deleted files.
<br>
<br>&emsp;&emsp;                from:
<br>
<br>&emsp;&emsp;&emsp;                        UPLOAD_DIRECTORY/<FOIL-ID>/
<br>
<br>&emsp;&emsp;                to:
<br>
<br>&emsp;&emsp;&emsp;                        UPLOAD_DIRECTORY/deleted/<response-ID>/
<br>
<br>        """
<br>class RespNoteEditor(ResponseEditor):
<br>&emsp;    def editable_fields(self):
<br>class RespLinkEditor(ResponseEditor):
<br>&emsp;    def editable_fields(self):
<br>class RespInstructionsEditor(ResponseEditor):
<br>&emsp;    def editable_fields(self):
<br>
                </details>

            </div>
        </div>

    </body>
</html>
