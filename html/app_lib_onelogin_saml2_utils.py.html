<!DOCTYPE html>
<html>
<!-- THIS FILE WAS GENERATED BY A SCRIPT: DO NOT EDIT IT! -->
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <link rel="stylesheet" href="style.css">

        <!-- jQuery CDN -->
         <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
         <!-- Bootstrap Js CDN -->
         <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

         <script type="text/javascript">
             var status = 'on';
             $(document).ready(function () {
                 $('#sidebarCollapse').on('click', function () {
                     $('#sidebar').toggleClass('active');
                     if (status == 'on') {
                         $('#sidebarText').text("Expand Side Nav");
                         status = 'off';
                     } else {
                         $('#sidebarText').text("Collapse Side Nav");
                         status = 'on';
                     }
                 });
             });
         </script>
        <title>
            utils.py
        </title>
    </head>

    <body>
        <div class="wrapper">
<!-- Sidebar Holder -->
<nav id="sidebar">
    <div id="sidebarCollapse">
        <div class="sidebar-header">
            <h1>
                NYCOpenDocs
            </h1>
            <strong>NYCDocs</strong>
        </div>
    </div>
    <ul class="list-unstyled components">
        <li>
            <a href="/NYCOpenDocs/index.html">
                <i class="glyphicon glyphicon-home"></i>
                Home
            </a>
        </li>
        <li>
            <a href="/NYCOpenDocs/html/codeclimate.yml.html">
                .codeclimate.yml
            </a>
        </li>
        <li>
            <a href="/NYCOpenDocs/html/eslintrc.yml.html">
                .eslintrc.yml
            </a>
        </li>
        <li>
            <a href="#Submenu0" data-toggle="collapse" aria-expanded="false">
                .startup
            </a>
        </li>
        <ul class="collapse list-unstyled" id="Submenu0">
            <li>
                <a href="/NYCOpenDocs/html/.startup_.startup.html">
                    About the directory '.startup'
                </a>
            </li>
            <li>
                <a href="/NYCOpenDocs/html/.startup_celery_beat_startup.sh.html">
                    celery_beat_startup.sh
                </a>
            </li>
            <li>
                <a href="/NYCOpenDocs/html/.startup_celery_startup.sh.html">
                    celery_startup.sh
                </a>
            </li>
            <li>
                <a href="/NYCOpenDocs/html/.startup_fakesmtp_startup.sh.html">
                    fakesmtp_startup.sh
                </a>
            </li>
            <li>
                <a href="/NYCOpenDocs/html/.startup_flask_startup.sh.html">
                    flask_startup.sh
                </a>
            </li>
            <li>
                <a href="/NYCOpenDocs/html/.startup_tmux_setup.sh.html">
                    tmux_setup.sh
                </a>
            </li>
        </ul>
        <li>
            <a href="/NYCOpenDocs/html/travis.yml.html">
                .travis.yml
            </a>
        </li>
        <li>
            <a href="#Submenu1" data-toggle="collapse" aria-expanded="false">
                app
            </a>
        </li>
        <ul class="collapse list-unstyled" id="Submenu1">
            <li>
                <a href="/NYCOpenDocs/html/app_app.html">
                    About the directory 'app'
                </a>
            </li>
            <li>
                <a href="/NYCOpenDocs/html/app___init__.py.html">
                    __init__.py
                </a>
            </li>
            <li>
                <a href="#Submenu2" data-toggle="collapse" aria-expanded="false">
                    admin
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu2">
                <li>
                    <a href="/NYCOpenDocs/html/app_admin_admin.html">
                        About the directory 'admin'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_admin___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_admin_forms.py.html">
                        forms.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_admin_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_admin_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu3" data-toggle="collapse" aria-expanded="false">
                    agency
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu3">
                <li>
                    <a href="/NYCOpenDocs/html/app_agency_agency.html">
                        About the directory 'agency'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_agency___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="#Submenu4" data-toggle="collapse" aria-expanded="false">
                        api
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu4">
                    <li>
                        <a href="/NYCOpenDocs/html/app_agency_api_api.html">
                            About the directory 'api'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_agency_api___init__.py.html">
                            __init__.py
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_agency_api_utils.py.html">
                            utils.py
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_agency_api_views.py.html">
                            views.py
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="/NYCOpenDocs/html/app_agency_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_agency_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu5" data-toggle="collapse" aria-expanded="false">
                    auth
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu5">
                <li>
                    <a href="/NYCOpenDocs/html/app_auth_auth.html">
                        About the directory 'auth'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_auth___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="#Submenu6" data-toggle="collapse" aria-expanded="false">
                        constants
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu6">
                    <li>
                        <a href="/NYCOpenDocs/html/app_auth_constants_constants.html">
                            About the directory 'constants'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_auth_constants___init__.py.html">
                            __init__.py
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_auth_constants_error_msg.py.html">
                            error_msg.py
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="/NYCOpenDocs/html/app_auth_forms.py.html">
                        forms.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_auth_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_auth_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="/NYCOpenDocs/html/app_celery_config.py.html">
                    celery_config.py
                </a>
            </li>
            <li>
                <a href="#Submenu7" data-toggle="collapse" aria-expanded="false">
                    constants
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu7">
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_constants.html">
                        About the directory 'constants'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_agency_features.py.html">
                        agency_features.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_bulk_updates.py.html">
                        bulk_updates.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_communication_methods.py.html">
                        communication_methods.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_determination_type.py.html">
                        determination_type.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_event_type.py.html">
                        event_type.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_letter_type.py.html">
                        letter_type.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_pdf.py.html">
                        pdf.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_permission.py.html">
                        permission.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_request_date.py.html">
                        request_date.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_request_status.py.html">
                        request_status.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_response_privacy.py.html">
                        response_privacy.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_response_type.py.html">
                        response_type.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_role_name.py.html">
                        role_name.py
                    </a>
                </li>
                <li>
                    <a href="#Submenu8" data-toggle="collapse" aria-expanded="false">
                        schemas
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu8">
                    <li>
                        <a href="/NYCOpenDocs/html/app_constants_schemas_schemas.html">
                            About the directory 'schemas'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_constants_schemas___init__.py.html">
                            __init__.py
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_submission_methods.py.html">
                        submission_methods.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_user_attrs.py.html">
                        user_attrs.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_user_type_auth.py.html">
                        user_type_auth.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_user_type_request.py.html">
                        user_type_request.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_web_services.py.html">
                        web_services.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="/NYCOpenDocs/html/app_jobs.py.html">
                    jobs.py
                </a>
            </li>
            <li>
                <a href="#Submenu9" data-toggle="collapse" aria-expanded="false">
                    lib
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu9">
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_lib.html">
                        About the directory 'lib'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_date_utils.py.html">
                        date_utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_db_utils.py.html">
                        db_utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_email_utils.py.html">
                        email_utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_file_utils.py.html">
                        file_utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_jinja_filters.py.html">
                        jinja_filters.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_json_schema.py.html">
                        json_schema.py
                    </a>
                </li>
                <li>
                    <a href="#Submenu10" data-toggle="collapse" aria-expanded="false">
                        onelogin
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu10">
                    <li>
                        <a href="/NYCOpenDocs/html/app_lib_onelogin_onelogin.html">
                            About the directory 'onelogin'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_lib_onelogin___init__.py.html">
                            __init__.py
                        </a>
                    </li>
                    <li>
                        <a href="#Submenu11" data-toggle="collapse" aria-expanded="false">
                            saml2
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu11">
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_saml2.html">
                                About the directory 'saml2'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2___init__.py.html">
                                __init__.py
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_auth.py.html">
                                auth.py
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_authn_request.py.html">
                                authn_request.py
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_compat.py.html">
                                compat.py
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_constants.py.html">
                                constants.py
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_errors.py.html">
                                errors.py
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_idp_metadata_parser.py.html">
                                idp_metadata_parser.py
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_logout_request.py.html">
                                logout_request.py
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_logout_response.py.html">
                                logout_response.py
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_metadata.py.html">
                                metadata.py
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_response.py.html">
                                response.py
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_settings.py.html">
                                settings.py
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_utils.py.html">
                                utils.py
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_xml_templates.py.html">
                                xml_templates.py
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_xml_utils.py.html">
                                xml_utils.py
                            </a>
                        </li>
                    </ul>
                </ul>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_pdf.py.html">
                        pdf.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_permission_utils.py.html">
                        permission_utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_redis_utils.py.html">
                        redis_utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_user_information.py.html">
                        user_information.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_utils.py.html">
                        utils.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu12" data-toggle="collapse" aria-expanded="false">
                    main
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu12">
                <li>
                    <a href="/NYCOpenDocs/html/app_main_main.html">
                        About the directory 'main'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_main___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_main_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="/NYCOpenDocs/html/app_models.py.html">
                    models.py
                </a>
            </li>
            <li>
                <a href="#Submenu13" data-toggle="collapse" aria-expanded="false">
                    permissions
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu13">
                <li>
                    <a href="/NYCOpenDocs/html/app_permissions_permissions.html">
                        About the directory 'permissions'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_permissions___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_permissions_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_permissions_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu14" data-toggle="collapse" aria-expanded="false">
                    report
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu14">
                <li>
                    <a href="/NYCOpenDocs/html/app_report_report.html">
                        About the directory 'report'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_report___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_report_forms.py.html">
                        forms.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_report_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu15" data-toggle="collapse" aria-expanded="false">
                    request
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu15">
                <li>
                    <a href="/NYCOpenDocs/html/app_request_request.html">
                        About the directory 'request'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_request___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="#Submenu16" data-toggle="collapse" aria-expanded="false">
                        api
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu16">
                    <li>
                        <a href="/NYCOpenDocs/html/app_request_api_api.html">
                            About the directory 'api'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_request_api___init__.py.html">
                            __init__.py
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_request_api_utils.py.html">
                            utils.py
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_request_api_views.py.html">
                            views.py
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="/NYCOpenDocs/html/app_request_forms.py.html">
                        forms.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_request_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_request_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu17" data-toggle="collapse" aria-expanded="false">
                    response
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu17">
                <li>
                    <a href="/NYCOpenDocs/html/app_response_response.html">
                        About the directory 'response'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_response___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_response_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_response_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu18" data-toggle="collapse" aria-expanded="false">
                    search
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu18">
                <li>
                    <a href="/NYCOpenDocs/html/app_search_search.html">
                        About the directory 'search'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_search___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_search_constants.py.html">
                        constants.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_search_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_search_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu19" data-toggle="collapse" aria-expanded="false">
                    static
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu19">
                <li>
                    <a href="/NYCOpenDocs/html/app_static_static.html">
                        About the directory 'static'
                    </a>
                </li>
                <li>
                    <a href="#Submenu20" data-toggle="collapse" aria-expanded="false">
                        js
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu20">
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_js_js.html">
                            About the directory 'js'
                        </a>
                    </li>
                    <li>
                        <a href="#Submenu21" data-toggle="collapse" aria-expanded="false">
                            admin
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu21">
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_admin_admin.html">
                                About the directory 'admin'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_admin_main.js.html">
                                main.js
                            </a>
                        </li>
                    </ul>
                    <li>
                        <a href="#Submenu22" data-toggle="collapse" aria-expanded="false">
                            auth
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu22">
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_auth_auth.html">
                                About the directory 'auth'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_auth_manage-account.js.html">
                                manage-account.js
                            </a>
                        </li>
                    </ul>
                    <li>
                        <a href="#Submenu23" data-toggle="collapse" aria-expanded="false">
                            plugins
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu23">
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_plugins.html">
                                About the directory 'plugins'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_Chart.min.js.html">
                                Chart.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_bootstrap-editable.min.js.html">
                                bootstrap-editable.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_bootstrap-session-timeout.min.js.html">
                                bootstrap-session-timeout.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_bootstrap.min.js.html">
                                bootstrap.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery-ui.js.html">
                                jquery-ui.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery-ui.min.css.html">
                                jquery-ui.min.css
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery-ui.min.js.html">
                                jquery-ui.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery.blockUI.js.html">
                                jquery.blockUI.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery.fileupload-process.js.html">
                                jquery.fileupload-process.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery.fileupload-ui.js.html">
                                jquery.fileupload-ui.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery.fileupload-validate.js.html">
                                jquery.fileupload-validate.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery.fileupload.js.html">
                                jquery.fileupload.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery.iframe-transport.js.html">
                                jquery.iframe-transport.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery.js.html">
                                jquery.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery.mask.js.html">
                                jquery.mask.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery.timepicker.min.js.html">
                                jquery.timepicker.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jstz.min.js.html">
                                jstz.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_juniper.js.html">
                                juniper.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_moment.min.js.html">
                                moment.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_parsley.min.js.html">
                                parsley.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_sprintf.min.js.html">
                                sprintf.min.js
                            </a>
                        </li>
                        <li>
                            <a href="#Submenu24" data-toggle="collapse" aria-expanded="false">
                                tinymce
                            </a>
                        </li>
                        <ul class="collapse list-unstyled" id="Submenu24">
                            <li>
                                <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_tinymce.html">
                                    About the directory 'tinymce'
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_jquery.tinymce.min.js.html">
                                    jquery.tinymce.min.js
                                </a>
                            </li>
                            <li>
                                <a href="#Submenu25" data-toggle="collapse" aria-expanded="false">
                                    plugins
                                </a>
                            </li>
                            <ul class="collapse list-unstyled" id="Submenu25">
                                <li>
                                    <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_plugins_plugins.html">
                                        About the directory 'plugins'
                                    </a>
                                </li>
                                <li>
                                    <a href="#Submenu26" data-toggle="collapse" aria-expanded="false">
                                        noneditable
                                    </a>
                                </li>
                                <ul class="collapse list-unstyled" id="Submenu26">
                                    <li>
                                        <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_plugins_noneditable_noneditable.html">
                                            About the directory 'noneditable'
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_plugins_noneditable_plugin.min.js.html">
                                            plugin.min.js
                                        </a>
                                    </li>
                                </ul>
                            </ul>
                            <li>
                                <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_preventdelete.js.html">
                                    preventdelete.js
                                </a>
                            </li>
                            <li>
                                <a href="#Submenu27" data-toggle="collapse" aria-expanded="false">
                                    skins
                                </a>
                            </li>
                            <ul class="collapse list-unstyled" id="Submenu27">
                                <li>
                                    <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_skins_skins.html">
                                        About the directory 'skins'
                                    </a>
                                </li>
                                <li>
                                    <a href="#Submenu28" data-toggle="collapse" aria-expanded="false">
                                        lightgray
                                    </a>
                                </li>
                                <ul class="collapse list-unstyled" id="Submenu28">
                                    <li>
                                        <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_skins_lightgray_lightgray.html">
                                            About the directory 'lightgray'
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_skins_lightgray_content.inline.min.css.html">
                                            content.inline.min.css
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_skins_lightgray_content.min.css.html">
                                            content.min.css
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_skins_lightgray_skin.ie7.min.css.html">
                                            skin.ie7.min.css
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_skins_lightgray_skin.min.css.html">
                                            skin.min.css
                                        </a>
                                    </li>
                                </ul>
                            </ul>
                            <li>
                                <a href="#Submenu29" data-toggle="collapse" aria-expanded="false">
                                    themes
                                </a>
                            </li>
                            <ul class="collapse list-unstyled" id="Submenu29">
                                <li>
                                    <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_themes_themes.html">
                                        About the directory 'themes'
                                    </a>
                                </li>
                                <li>
                                    <a href="#Submenu30" data-toggle="collapse" aria-expanded="false">
                                        inlite
                                    </a>
                                </li>
                                <ul class="collapse list-unstyled" id="Submenu30">
                                    <li>
                                        <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_themes_inlite_inlite.html">
                                            About the directory 'inlite'
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_themes_inlite_theme.min.js.html">
                                            theme.min.js
                                        </a>
                                    </li>
                                </ul>
                                <li>
                                    <a href="#Submenu31" data-toggle="collapse" aria-expanded="false">
                                        modern
                                    </a>
                                </li>
                                <ul class="collapse list-unstyled" id="Submenu31">
                                    <li>
                                        <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_themes_modern_modern.html">
                                            About the directory 'modern'
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_themes_modern_theme.min.js.html">
                                            theme.min.js
                                        </a>
                                    </li>
                                </ul>
                            </ul>
                            <li>
                                <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_tinymce.min.js.html">
                                    tinymce.min.js
                                </a>
                            </li>
                        </ul>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_tmpl.min.js.html">
                                tmpl.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_tota11y.min.js.html">
                                tota11y.min.js
                            </a>
                        </li>
                    </ul>
                    <li>
                        <a href="#Submenu32" data-toggle="collapse" aria-expanded="false">
                            request
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu32">
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_request.html">
                                About the directory 'request'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_action-buttons-mobile-toggle.js.html">
                                action-buttons-mobile-toggle.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_character-count.js.html">
                                character-count.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_contact.js.html">
                                contact.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_edit_requester_info.js.html">
                                edit_requester_info.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_faq.js.html">
                                faq.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_main.js.html">
                                main.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_new-request-agency.js.html">
                                new-request-agency.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_new-request-anon.js.html">
                                new-request-anon.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_new-request-user.js.html">
                                new-request-user.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_search.js.html">
                                search.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_view-request-contact.js.html">
                                view-request-contact.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_view-request-history.js.html">
                                view-request-history.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_view-request-responses.js.html">
                                view-request-responses.js
                            </a>
                        </li>
                    </ul>
                    <li>
                        <a href="#Submenu33" data-toggle="collapse" aria-expanded="false">
                            upload
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu33">
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_upload_upload.html">
                                About the directory 'upload'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_upload_fileupload.js.html">
                                fileupload.js
                            </a>
                        </li>
                    </ul>
                    <li>
                        <a href="#Submenu34" data-toggle="collapse" aria-expanded="false">
                            validation
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu34">
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_validation_validation.html">
                                About the directory 'validation'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_validation_custom_validators.js.html">
                                custom_validators.js
                            </a>
                        </li>
                    </ul>
                </ul>
                <li>
                    <a href="#Submenu35" data-toggle="collapse" aria-expanded="false">
                        styles
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu35">
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_styles.html">
                            About the directory 'styles'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_about.css.html">
                            about.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_add_acknowledgment.css.html">
                            add_acknowledgment.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_add_closing.css.html">
                            add_closing.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_add_denial.css.html">
                            add_denial.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_add_extension.css.html">
                            add_extension.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_add_file.css.html">
                            add_file.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_add_instruction.css.html">
                            add_instruction.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_add_link.css.html">
                            add_link.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_add_note.css.html">
                            add_note.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_admin.css.html">
                            admin.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_base.css.html">
                            base.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_faq.css.html">
                            faq.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_home.css.html">
                            home.css
                        </a>
                    </li>
                    <li>
                        <a href="#Submenu36" data-toggle="collapse" aria-expanded="false">
                            new_request
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu36">
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_styles_new_request_new_request.html">
                                About the directory 'new_request'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_styles_new_request_new-request.css.html">
                                new-request.css
                            </a>
                        </li>
                    </ul>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_nyc_gov.css.html">
                            nyc_gov.css
                        </a>
                    </li>
                    <li>
                        <a href="#Submenu37" data-toggle="collapse" aria-expanded="false">
                            plugins
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu37">
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_styles_plugins_plugins.html">
                                About the directory 'plugins'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_styles_plugins_bootstrap-editable.css.html">
                                bootstrap-editable.css
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_styles_plugins_bootstrap-theme.css.html">
                                bootstrap-theme.css
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_styles_plugins_bootstrap.min.css.html">
                                bootstrap.min.css
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_styles_plugins_jquery-ui.css.html">
                                jquery-ui.css
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_styles_plugins_jquery.fileupload-noscript.css.html">
                                jquery.fileupload-noscript.css
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_styles_plugins_jquery.fileupload-ui-noscript.css.html">
                                jquery.fileupload-ui-noscript.css
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_styles_plugins_jquery.fileupload-ui.css.html">
                                jquery.fileupload-ui.css
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_styles_plugins_jquery.fileupload.css.html">
                                jquery.fileupload.css
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_styles_plugins_jquery.timepicker.min.css.html">
                                jquery.timepicker.min.css
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_styles_plugins_juniper.css.html">
                                juniper.css
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_styles_plugins_parsley.css.html">
                                parsley.css
                            </a>
                        </li>
                    </ul>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_reports.css.html">
                            reports.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_request_info.css.html">
                            request_info.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_status.css.html">
                            status.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_styles.css.html">
                            styles.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_view_all.css.html">
                            view_all.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_view_request.css.html">
                            view_request.css
                        </a>
                    </li>
                </ul>
            </ul>
            <li>
                <a href="#Submenu38" data-toggle="collapse" aria-expanded="false">
                    templates
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu38">
                <li>
                    <a href="/NYCOpenDocs/html/app_templates_templates.html">
                        About the directory 'templates'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_templates__nyc_gov_footer.html.html">
                        _nyc_gov_footer.html
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_templates__nyc_gov_header.html.html">
                        _nyc_gov_header.html
                    </a>
                </li>
                <li>
                    <a href="#Submenu39" data-toggle="collapse" aria-expanded="false">
                        admin
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu39">
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_admin_admin.html">
                            About the directory 'admin'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_admin_main.html.html">
                            main.html
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="#Submenu40" data-toggle="collapse" aria-expanded="false">
                        auth
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu40">
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_auth_auth.html">
                            About the directory 'auth'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_auth_concurrent_session_modal.html.html">
                            concurrent_session_modal.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_auth_ldap_login_form.html.html">
                            ldap_login_form.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_auth_local_login_form.html.html">
                            local_login_form.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_auth_login_processing_modal.html.html">
                            login_processing_modal.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_auth_manage_account.html.html">
                            manage_account.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_auth_session_timeout_modal.html.html">
                            session_timeout_modal.html
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="/NYCOpenDocs/html/app_templates_base.html.html">
                        base.html
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_templates_base.js.html.html">
                        base.js.html
                    </a>
                </li>
                <li>
                    <a href="#Submenu41" data-toggle="collapse" aria-expanded="false">
                        custom_request_form_templates
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu41">
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_custom_request_form_templates_custom_request_form_templates.html">
                            About the directory 'custom_request_form_templates'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_custom_request_form_templates_date_template.html.html">
                            date_template.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_custom_request_form_templates_form_description_template.html.html">
                            form_description_template.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_custom_request_form_templates_input_template.html.html">
                            input_template.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_custom_request_form_templates_radio_template.html.html">
                            radio_template.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_custom_request_form_templates_select_dropdown_template.html.html">
                            select_dropdown_template.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_custom_request_form_templates_select_multiple_template.html.html">
                            select_multiple_template.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_custom_request_form_templates_textarea_template.html.html">
                            textarea_template.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_custom_request_form_templates_time_template.html.html">
                            time_template.html
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="#Submenu42" data-toggle="collapse" aria-expanded="false">
                        email_templates
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu42">
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_templates.html">
                            About the directory 'email_templates'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates__email_response_determinations_list.html.html">
                            _email_response_determinations_list.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_edit_response_file_links.html.html">
                            edit_response_file_links.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_agency_user_deactivated.html.html">
                            email_agency_user_deactivated.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_confirmation.html.html">
                            email_confirmation.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_edit_file.html.html">
                            email_edit_file.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_edit_private_response.html.html">
                            email_edit_private_response.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_edit_response.html.html">
                            email_edit_response.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_event_acknowledgment_letter_created.html.html">
                            email_event_acknowledgment_letter_created.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_event_closing_letter_created.html.html">
                            email_event_closing_letter_created.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_event_denial_letter_created.html.html">
                            email_event_denial_letter_created.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_event_envelope_created.html.html">
                            email_event_envelope_created.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_event_extension_letter_created.html.html">
                            email_event_extension_letter_created.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_event_reopening_letter_created.html.html">
                            email_event_reopening_letter_created.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_event_response_letter_created.html.html">
                            email_event_response_letter_created.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_footer.html.html">
                            email_footer.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_not_onboarded.html.html">
                            email_not_onboarded.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_private_file_upload.html.html">
                            email_private_file_upload.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_request_status_changed.html.html">
                            email_request_status_changed.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_response.html.html">
                            email_response.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_response_acknowledgment.html.html">
                            email_response_acknowledgment.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_response_closing.html.html">
                            email_response_closing.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_response_deleted.html.html">
                            email_response_deleted.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_response_denial.html.html">
                            email_response_denial.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_response_extension.html.html">
                            email_response_extension.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_response_file.html.html">
                            email_response_file.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_response_instruction.html.html">
                            email_response_instruction.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_response_link.html.html">
                            email_response_link.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_response_note.html.html">
                            email_response_note.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_response_reopening.html.html">
                            email_response_reopening.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_user_made_agency_admin.html.html">
                            email_user_made_agency_admin.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_user_removed_agency_admin.html.html">
                            email_user_removed_agency_admin.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_user_request_added.html.html">
                            email_user_request_added.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_user_request_edited.html.html">
                            email_user_request_edited.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_user_request_removed.html.html">
                            email_user_request_removed.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_response_file_links.html.html">
                            response_file_links.html
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="#Submenu43" data-toggle="collapse" aria-expanded="false">
                        error
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu43">
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_error_error.html">
                            About the directory 'error'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_error_generic.html.html">
                            generic.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_error_maintenance.html.html">
                            maintenance.html
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="#Submenu44" data-toggle="collapse" aria-expanded="false">
                        letters
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu44">
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_letters_letters.html">
                            About the directory 'letters'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_letters_base.html.html">
                            base.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_letters_letterhead_sample.html.html">
                            letterhead_sample.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_letters_signature_sample.html.html">
                            signature_sample.html
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="#Submenu45" data-toggle="collapse" aria-expanded="false">
                        main
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu45">
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_main_main.html">
                            About the directory 'main'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_main_about.html.html">
                            about.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_main_contact.html.html">
                            contact.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_main_faq.html.html">
                            faq.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_main_home.html.html">
                            home.html
                        </a>
                    </li>
                    <li>
                        <a href="#Submenu46" data-toggle="collapse" aria-expanded="false">
                            test
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu46">
                        <li>
                            <a href="/NYCOpenDocs/html/app_templates_main_test_test.html">
                                About the directory 'test'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_templates_main_test_email.html.html">
                                email.html
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_templates_main_test_user_list.html.html">
                                user_list.html
                            </a>
                        </li>
                    </ul>
                </ul>
                <li>
                    <a href="/NYCOpenDocs/html/app_templates_navbar.html.html">
                        navbar.html
                    </a>
                </li>
                <li>
                    <a href="#Submenu47" data-toggle="collapse" aria-expanded="false">
                        report
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu47">
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_report_report.html">
                            About the directory 'report'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_report_reports.html.html">
                            reports.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_report_reports.js.html.html">
                            reports.js.html
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="#Submenu48" data-toggle="collapse" aria-expanded="false">
                        request
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu48">
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_request.html">
                            About the directory 'request'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request__agency_search_form.html.html">
                            _agency_search_form.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request__edit_requester_info.html.html">
                            _edit_requester_info.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request__public_search_form.html.html">
                            _public_search_form.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request__view_request_contact_modal.html.html">
                            _view_request_contact_modal.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request__view_request_edit_visibility.js.html.html">
                            _view_request_edit_visibility.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request__view_request_history.html.html">
                            _view_request_history.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request__view_request_info.html.html">
                            _view_request_info.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request__view_request_info_x-editable.js.html.html">
                            _view_request_info_x-editable.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request__view_request_responses.html.html">
                            _view_request_responses.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_all.html.html">
                            all.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_confirmation_email.html.html">
                            confirmation_email.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_confirmation_non_email.html.html">
                            confirmation_non_email.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_edit_requester_info.js.html.html">
                            edit_requester_info.js.html
                        </a>
                    </li>
                    <li>
                        <a href="#Submenu49" data-toggle="collapse" aria-expanded="false">
                            events
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu49">
                        <li>
                            <a href="/NYCOpenDocs/html/app_templates_request_events_events.html">
                                About the directory 'events'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_templates_request_events_modal.html.html">
                                modal.html
                            </a>
                        </li>
                        <li>
                            <a href="#Submenu50" data-toggle="collapse" aria-expanded="false">
                                modal_body
                            </a>
                        </li>
                        <ul class="collapse list-unstyled" id="Submenu50">
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_events_modal_body_modal_body.html">
                                    About the directory 'modal_body'
                                </a>
                            </li>
                            <li>
                                <a href="#Submenu51" data-toggle="collapse" aria-expanded="false">
                                    base
                                </a>
                            </li>
                            <ul class="collapse list-unstyled" id="Submenu51">
                                <li>
                                    <a href="/NYCOpenDocs/html/app_templates_request_events_modal_body_base_base.html">
                                        About the directory 'base'
                                    </a>
                                </li>
                                <li>
                                    <a href="/NYCOpenDocs/html/app_templates_request_events_modal_body_base_heading.html.html">
                                        heading.html
                                    </a>
                                </li>
                                <li>
                                    <a href="/NYCOpenDocs/html/app_templates_request_events_modal_body_base_privacy_change.html.html">
                                        privacy_change.html
                                    </a>
                                </li>
                            </ul>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_events_modal_body_file_edited.html.html">
                                    file_edited.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_events_modal_body_instructions_edited.html.html">
                                    instructions_edited.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_events_modal_body_link_edited.html.html">
                                    link_edited.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_events_modal_body_note_edited.html.html">
                                    note_edited.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_events_modal_body_request_agency_request_summary_edited.html.html">
                                    request_agency_request_summary_edited.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_events_modal_body_request_agency_request_summary_privacy_edited.html.html">
                                    request_agency_request_summary_privacy_edited.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_events_modal_body_request_title_edited.html.html">
                                    request_title_edited.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_events_modal_body_request_title_privacy_edited.html.html">
                                    request_title_privacy_edited.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_events_modal_body_requester_information_edited.html.html">
                                    requester_information_edited.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_events_modal_body_user_permissions_changed.html.html">
                                    user_permissions_changed.html
                                </a>
                            </li>
                        </ul>
                        <li>
                            <a href="/NYCOpenDocs/html/app_templates_request_events_row.html.html">
                                row.html
                            </a>
                        </li>
                    </ul>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_fileupload_add_file.js.html.html">
                            fileupload_add_file.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_fileupload_update_templates.js.html.html">
                            fileupload_update_templates.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_new_request_agency.html.html">
                            new_request_agency.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_new_request_anon.html.html">
                            new_request_anon.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_new_request_user.html.html">
                            new_request_user.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_non_partner_request.html.html">
                            non_partner_request.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_non_portal_agency_message.html.html">
                            non_portal_agency_message.html
                        </a>
                    </li>
                    <li>
                        <a href="#Submenu52" data-toggle="collapse" aria-expanded="false">
                            responses
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu52">
                        <li>
                            <a href="/NYCOpenDocs/html/app_templates_request_responses_responses.html">
                                About the directory 'responses'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_templates_request_responses_modal.html.html">
                                modal.html
                            </a>
                        </li>
                        <li>
                            <a href="#Submenu53" data-toggle="collapse" aria-expanded="false">
                                modal_body
                            </a>
                        </li>
                        <ul class="collapse list-unstyled" id="Submenu53">
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_responses_modal_body_modal_body.html">
                                    About the directory 'modal_body'
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_responses_modal_body_determinations.html.html">
                                    determinations.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_responses_modal_body_emails.html.html">
                                    emails.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_responses_modal_body_envelopes.html.html">
                                    envelopes.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_responses_modal_body_files.html.html">
                                    files.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_responses_modal_body_instructions.html.html">
                                    instructions.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_responses_modal_body_letters.html.html">
                                    letters.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_responses_modal_body_links.html.html">
                                    links.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_responses_modal_body_notes.html.html">
                                    notes.html
                                </a>
                            </li>
                        </ul>
                        <li>
                            <a href="/NYCOpenDocs/html/app_templates_request_responses_row.html.html">
                                row.html
                            </a>
                        </li>
                    </ul>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_result_row.html.html">
                            result_row.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_status.html.html">
                            status.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_view_request.html.html">
                            view_request.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_view_request.js.html.html">
                            view_request.js.html
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="#Submenu54" data-toggle="collapse" aria-expanded="false">
                        response
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu54">
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_response.html">
                            About the directory 'response'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_acknowledgment.html.html">
                            add_acknowledgment.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_acknowledgment.js.html.html">
                            add_acknowledgment.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_closing.html.html">
                            add_closing.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_closing.js.html.html">
                            add_closing.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_denial.html.html">
                            add_denial.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_denial.js.html.html">
                            add_denial.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_extension.html.html">
                            add_extension.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_extension.js.html.html">
                            add_extension.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_file.html.html">
                            add_file.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_file.js.html.html">
                            add_file.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_instruction.html.html">
                            add_instruction.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_instruction.js.html.html">
                            add_instruction.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_link.html.html">
                            add_link.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_link.js.html.html">
                            add_link.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_note.html.html">
                            add_note.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_note.js.html.html">
                            add_note.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_reopening.html.html">
                            add_reopening.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_reopening.js.html.html">
                            add_reopening.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_user_request.html.html">
                            add_user_request.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_user_request.js.html.html">
                            add_user_request.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_edit_user_request.html.html">
                            edit_user_request.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_edit_user_request.js.html.html">
                            edit_user_request.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_generate_envelope.html.html">
                            generate_envelope.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_generate_envelope.js.html.html">
                            generate_envelope.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_generate_letter.html.html">
                            generate_letter.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_generate_letter.js.html.html">
                            generate_letter.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_remove_user_request.html.html">
                            remove_user_request.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_remove_user_request.js.html.html">
                            remove_user_request.js.html
                        </a>
                    </li>
                </ul>
            </ul>
            <li>
                <a href="#Submenu55" data-toggle="collapse" aria-expanded="false">
                    upload
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu55">
                <li>
                    <a href="/NYCOpenDocs/html/app_upload_upload.html">
                        About the directory 'upload'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_upload___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="#Submenu56" data-toggle="collapse" aria-expanded="false">
                        constants
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu56">
                    <li>
                        <a href="/NYCOpenDocs/html/app_upload_constants_constants.html">
                            About the directory 'constants'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_upload_constants___init__.py.html">
                            __init__.py
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_upload_constants_upload_status.py.html">
                            upload_status.py
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="/NYCOpenDocs/html/app_upload_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_upload_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu57" data-toggle="collapse" aria-expanded="false">
                    user
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu57">
                <li>
                    <a href="/NYCOpenDocs/html/app_user_user.html">
                        About the directory 'user'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_user___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_user_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_user_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu58" data-toggle="collapse" aria-expanded="false">
                    user_request
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu58">
                <li>
                    <a href="/NYCOpenDocs/html/app_user_request_user_request.html">
                        About the directory 'user_request'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_user_request___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_user_request_forms.py.html">
                        forms.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_user_request_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_user_request_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
        </ul>
        <li>
            <a href="#Submenu59" data-toggle="collapse" aria-expanded="false">
                build_scripts
            </a>
        </li>
        <ul class="collapse list-unstyled" id="Submenu59">
            <li>
                <a href="/NYCOpenDocs/html/build_scripts_build_scripts.html">
                    About the directory 'build_scripts'
                </a>
            </li>
            <li>
                <a href="#Submenu60" data-toggle="collapse" aria-expanded="false">
                    app_setup
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu60">
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_app_setup_app_setup.html">
                        About the directory 'app_setup'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_app_setup_app_setup.sh.html">
                        app_setup.sh
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_app_setup_setup_virtualenv.sh.html">
                        setup_virtualenv.sh
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu61" data-toggle="collapse" aria-expanded="false">
                    consul-vault_setup
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu61">
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_consul-vault_setup_consul-vault_setup.html">
                        About the directory 'consul-vault_setup'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_consul-vault_setup_consul_setup.sh.html">
                        consul_setup.sh
                    </a>
                </li>
                <li>
                    <a href="#Submenu62" data-toggle="collapse" aria-expanded="false">
                        nginx
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu62">
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_consul-vault_setup_nginx_nginx.html">
                            About the directory 'nginx'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_consul-vault_setup_nginx_nginx_setup.sh.html">
                            nginx_setup.sh
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_consul-vault_setup_vault_setup.sh.html">
                        vault_setup.sh
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu63" data-toggle="collapse" aria-expanded="false">
                    db_setup
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu63">
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_db_setup_db_setup.html">
                        About the directory 'db_setup'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_db_setup_backup.py.html">
                        backup.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_db_setup_backup.sh.html">
                        backup.sh
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_db_setup_db_setup.sh.html">
                        db_setup.sh
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_db_setup_postgres.sh.html">
                        postgres.sh
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu64" data-toggle="collapse" aria-expanded="false">
                    default
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu64">
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_default_default.html">
                        About the directory 'default'
                    </a>
                </li>
                <li>
                    <a href="#Submenu65" data-toggle="collapse" aria-expanded="false">
                        nginx_conf
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu65">
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_default_nginx_conf_nginx_conf.html">
                            About the directory 'nginx_conf'
                        </a>
                    </li>
                    <li>
                        <a href="#Submenu66" data-toggle="collapse" aria-expanded="false">
                            sites
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu66">
                        <li>
                            <a href="/NYCOpenDocs/html/build_scripts_default_nginx_conf_sites_sites.html">
                                About the directory 'sites'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/build_scripts_default_nginx_conf_sites_error.html.html">
                                error.html
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/build_scripts_default_nginx_conf_sites_maintenance.html.html">
                                maintenance.html
                            </a>
                        </li>
                    </ul>
                </ul>
            </ul>
            <li>
                <a href="#Submenu67" data-toggle="collapse" aria-expanded="false">
                    elk_setup
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu67">
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_elk_setup_elk_setup.html">
                        About the directory 'elk_setup'
                    </a>
                </li>
                <li>
                    <a href="#Submenu68" data-toggle="collapse" aria-expanded="false">
                        elasticsearch
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu68">
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_elasticsearch_elasticsearch.html">
                            About the directory 'elasticsearch'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_elasticsearch_elasticsearch.yml.html">
                            elasticsearch.yml
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_elasticsearch_setup.sh.html">
                            setup.sh
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="#Submenu69" data-toggle="collapse" aria-expanded="false">
                        kibana
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu69">
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_kibana_kibana.html">
                            About the directory 'kibana'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_kibana_kibana.yml.html">
                            kibana.yml
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_kibana_setup.sh.html">
                            setup.sh
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="#Submenu70" data-toggle="collapse" aria-expanded="false">
                        logstash
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu70">
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_logstash_logstash.html">
                            About the directory 'logstash'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_logstash_logstash.yml.html">
                            logstash.yml
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_logstash_setup.sh.html">
                            setup.sh
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="#Submenu71" data-toggle="collapse" aria-expanded="false">
                        nginx
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu71">
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_nginx_nginx.html">
                            About the directory 'nginx'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_nginx_setup.sh.html">
                            setup.sh
                        </a>
                    </li>
                </ul>
            </ul>
            <li>
                <a href="#Submenu72" data-toggle="collapse" aria-expanded="false">
                    es_setup
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu72">
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_es_setup_es_setup.html">
                        About the directory 'es_setup'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_es_setup_elasticsearch.yml.html">
                        elasticsearch.yml
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_es_setup_es_setup.sh.html">
                        es_setup.sh
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu73" data-toggle="collapse" aria-expanded="false">
                    filebeat_setup
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu73">
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_filebeat_setup_filebeat_setup.html">
                        About the directory 'filebeat_setup'
                    </a>
                </li>
                <li>
                    <a href="#Submenu74" data-toggle="collapse" aria-expanded="false">
                        app_nginx
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu74">
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_filebeat_setup_app_nginx_app_nginx.html">
                            About the directory 'app_nginx'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_filebeat_setup_app_nginx_filebeat.yml.html">
                            filebeat.yml
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_filebeat_setup_app_nginx_install.sh.html">
                            install.sh
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_filebeat_setup_app_nginx_setup.sh.html">
                            setup.sh
                        </a>
                    </li>
                </ul>
            </ul>
            <li>
                <a href="/NYCOpenDocs/html/build_scripts_proxy.sh.html">
                    proxy.sh
                </a>
            </li>
            <li>
                <a href="#Submenu75" data-toggle="collapse" aria-expanded="false">
                    sentry_setup
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu75">
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_sentry_setup_sentry_setup.html">
                        About the directory 'sentry_setup'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_sentry_setup_config.yml.html">
                        config.yml
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_sentry_setup_db_setup_config.sh.html">
                        db_setup_config.sh
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_sentry_setup_db_setup_install.sh.html">
                        db_setup_install.sh
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_sentry_setup_nginx_setup.sh.html">
                        nginx_setup.sh
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_sentry_setup_sentry.conf.py.html">
                        sentry.conf.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_sentry_setup_setup.sh.html">
                        setup.sh
                    </a>
                </li>
            </ul>
            <li>
                <a href="/NYCOpenDocs/html/build_scripts_subscription_manager.sh.html">
                    subscription_manager.sh
                </a>
            </li>
            <li>
                <a href="#Submenu76" data-toggle="collapse" aria-expanded="false">
                    web_setup
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu76">
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_web_setup_web_setup.html">
                        About the directory 'web_setup'
                    </a>
                </li>
                <li>
                    <a href="#Submenu77" data-toggle="collapse" aria-expanded="false">
                        nginx_conf
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu77">
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_web_setup_nginx_conf_nginx_conf.html">
                            About the directory 'nginx_conf'
                        </a>
                    </li>
                    <li>
                        <a href="#Submenu78" data-toggle="collapse" aria-expanded="false">
                            sites
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu78">
                        <li>
                            <a href="/NYCOpenDocs/html/build_scripts_web_setup_nginx_conf_sites_sites.html">
                                About the directory 'sites'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/build_scripts_web_setup_nginx_conf_sites_error.html.html">
                                error.html
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/build_scripts_web_setup_nginx_conf_sites_maintenance.html.html">
                                maintenance.html
                            </a>
                        </li>
                    </ul>
                </ul>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_web_setup_web_setup.sh.html">
                        web_setup.sh
                    </a>
                </li>
            </ul>
        </ul>
        <li>
            <a href="/NYCOpenDocs/html/celery_worker.py.html">
                celery_worker.py
            </a>
        </li>
        <li>
            <a href="/NYCOpenDocs/html/config.py.html">
                config.py
            </a>
        </li>
        <li>
            <a href="/NYCOpenDocs/html/gunicorn_config.py.html">
                gunicorn_config.py
            </a>
        </li>
        <li>
            <a href="/NYCOpenDocs/html/lgtm.yml.html">
                lgtm.yml
            </a>
        </li>
        <li>
            <a href="/NYCOpenDocs/html/manage.py.html">
                manage.py
            </a>
        </li>
        <li>
            <a href="#Submenu79" data-toggle="collapse" aria-expanded="false">
                migrations
            </a>
        </li>
        <ul class="collapse list-unstyled" id="Submenu79">
            <li>
                <a href="/NYCOpenDocs/html/migrations_migrations.html">
                    About the directory 'migrations'
                </a>
            </li>
            <li>
                <a href="#Submenu80" data-toggle="collapse" aria-expanded="false">
                    custom
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu80">
                <li>
                    <a href="/NYCOpenDocs/html/migrations_custom_custom.html">
                        About the directory 'custom'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_custom_openrecords_v1.py.html">
                        openrecords_v1.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="/NYCOpenDocs/html/migrations_env.py.html">
                    env.py
                </a>
            </li>
            <li>
                <a href="#Submenu81" data-toggle="collapse" aria-expanded="false">
                    versions
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu81">
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_versions.html">
                        About the directory 'versions'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_13de5f42768b_add_session_id_to_users_table.py.html">
                        13de5f42768b_add_session_id_to_users_table.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_1920035b3a1f_140_character_limit_file_title.py.html">
                        1920035b3a1f_140_character_limit_file_title.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_22b97712d5db_add_letters_and_envelopes_to_type_enum.py.html">
                        22b97712d5db_add_letters_and_envelopes_to_type_enum.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_24e110b4489b_drop_users_agency_ein_column.py.html">
                        24e110b4489b_drop_users_agency_ein_column.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_32dec7b290bb_added_is_editable_to_responses_table.py.html">
                        32dec7b290bb_added_is_editable_to_responses_table.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_445e50628f6b_add_communication_methods.py.html">
                        445e50628f6b_add_communication_methods.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_52a4062502bb_adding_agencyusers.py.html">
                        52a4062502bb_adding_agencyusers.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_58a5abdd94ac_added_agency_acronym_to_db.py.html">
                        58a5abdd94ac_added_agency_acronym_to_db.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_60116f094400_increase_length_of_file_title_to_250_.py.html">
                        60116f094400_increase_length_of_file_title_to_250_.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_6ab8af7a1347_removing_response_token_expiration_date.py.html">
                        6ab8af7a1347_removing_response_token_expiration_date.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_7ba6fbb131bb_add_signature_to_users.py.html">
                        7ba6fbb131bb_add_signature_to_users.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_7e0434686370_added_custom_request_forms_table.py.html">
                        7e0434686370_added_custom_request_forms_table.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_838a6ad16cf4_remove_auth_user_type_from_users.py.html">
                        838a6ad16cf4_remove_auth_user_type_from_users.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_85068c55138a_added_notification_email.py.html">
                        85068c55138a_added_notification_email.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_8797e9a71f62_user_requests_events_on_update_cascade.py.html">
                        8797e9a71f62_user_requests_events_on_update_cascade.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_89d3f2e347f1_use_nyc_id_v2_0.py.html">
                        89d3f2e347f1_use_nyc_id_v2_0.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_9005ab594598_add_lettertemplates.py.html">
                        9005ab594598_add_lettertemplates.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_949aebe9e480_letters_table.py.html">
                        949aebe9e480_letters_table.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_971f341c0204_adding_agency_features_json_column_to_.py.html">
                        971f341c0204_adding_agency_features_json_column_to_.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_9908a9bf1dbd_json_to_jsonb.py.html">
                        9908a9bf1dbd_json_to_jsonb.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_a2547b706641_initial_migration.py.html">
                        a2547b706641_initial_migration.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_a3d80d04b0f1_add_date_closed_to_requests_table.py.html">
                        a3d80d04b0f1_add_date_closed_to_requests_table.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_b3c0c76ac2e6_add_envelope_functionality.py.html">
                        b3c0c76ac2e6_add_envelope_functionality.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_b722969f38a6_added_minimum_required_to_custom_.py.html">
                        b722969f38a6_added_minimum_required_to_custom_.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_c7f05adcf7d9_added_point_of_contact.py.html">
                        c7f05adcf7d9_added_point_of_contact.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_cf62ec87d973_agency_description_to_agency_request_.py.html">
                        cf62ec87d973_agency_description_to_agency_request_.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_dc926c74551d_added_category_to_custom_request_forms.py.html">
                        dc926c74551d_added_category_to_custom_request_forms.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_ebeb3491636e_add_re-opening_to_reasons_enum.py.html">
                        ebeb3491636e_add_re-opening_to_reasons_enum.py
                    </a>
                </li>
            </ul>
        </ul>
        <li>
            <a href="/NYCOpenDocs/html/setup.sh.html">
                setup.sh
            </a>
        </li>
        <li>
            <a href="#Submenu82" data-toggle="collapse" aria-expanded="false">
                tests
            </a>
        </li>
        <ul class="collapse list-unstyled" id="Submenu82">
            <li>
                <a href="/NYCOpenDocs/html/tests_tests.html">
                    About the directory 'tests'
                </a>
            </li>
            <li>
                <a href="/NYCOpenDocs/html/tests___init__.py.html">
                    __init__.py
                </a>
            </li>
            <li>
                <a href="/NYCOpenDocs/html/tests_conftest.py.html">
                    conftest.py
                </a>
            </li>
            <li>
                <a href="#Submenu83" data-toggle="collapse" aria-expanded="false">
                    functional
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu83">
                <li>
                    <a href="/NYCOpenDocs/html/tests_functional_functional.html">
                        About the directory 'functional'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/tests_functional_test_main.py.html">
                        test_main.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/tests_functional_test_requests.py.html">
                        test_requests.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu84" data-toggle="collapse" aria-expanded="false">
                    helpers
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu84">
                <li>
                    <a href="/NYCOpenDocs/html/tests_helpers_helpers.html">
                        About the directory 'helpers'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/tests_helpers_utils.py.html">
                        utils.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu85" data-toggle="collapse" aria-expanded="false">
                    unit
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu85">
                <li>
                    <a href="/NYCOpenDocs/html/tests_unit_unit.html">
                        About the directory 'unit'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/tests_unit_test_factory.py.html">
                        test_factory.py
                    </a>
                </li>
            </ul>
        </ul>
        <li>
            <a href="/NYCOpenDocs/html/update_definitions.sh.html">
                update_definitions.sh
            </a>
        </li>
    </ul>
</nav>
            <div id="content">
                <figure>
                    <img
                    src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/58/Brooklyn_Skyline_%289910358874%29.jpg/3600px-Brooklyn_Skyline_%289910358874%29.jpg"
                    width="32%">
                    <figcaption>
                    </figcaption>
                </figure>
                <h1>
                    utils.py
                </h1>

                <details>
                    <summary class="sum1">
                    About this file
                    </summary>

                    <p>
<!-- Include the text material here! -->
<p>We attempted to read from templates/app_lib_onelogin_saml2_utils.py_hw.txt but failed.</p>
                    </p>
                </details>

                <details>
                    <summary class="sum1">
                    Documentation drawn from source code 
                    </summary>

                    <p>
<!-- Include the documentation here! -->

&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;""" OneLogin_Saml2_Utils class
<br>&emsp;&emsp;Auxiliary class of OneLogin's Python Toolkit.
<br>"""
<br>
<br>import base64
<br>from copy import deepcopy
<br>import calendar
<br>from datetime import datetime
<br>from defusedxml.lxml import fromstring
<br>from hashlib import sha1, sha256, sha384, sha512
<br>from isodate import parse_duration as duration_parser
<br>import re
<br>from textwrap import wrap
<br>from functools import wraps
<br>from uuid import uuid4
<br>from xml.dom.minidom import Element
<br>
<br>import zlib
<br>import xmlsec
<br>
<br>from app.lib.onelogin.saml2 import compat
<br>from app.lib.onelogin.saml2.constants import OneLogin_Saml2_Constants
<br>from app.lib.onelogin.saml2.errors import OneLogin_Saml2_Error, OneLogin_Saml2_ValidationError
<br>from app.lib.onelogin.saml2.xml_utils import OneLogin_Saml2_XML
<br>
<br>
<br>try:
<br>&emsp;    from urllib.parse import quote_plus  # py3
<br>except ImportError:
<br>&emsp;    from urllib import quote_plus  # py2
<br>
<br>
<br>def return_false_on_exception(func):
<br>def return_false_on_exception(func):
<br>&emsp;    """
<br>&emsp;    """
<br>&emsp;    @wraps(func)
<br>&emsp;    def exceptfalse(*args, **kwargs):
<br>&emsp;    def exceptfalse(*args, **kwargs):
<br>&emsp;&emsp;        if not kwargs.pop('raise_exceptions', False):
<br>&emsp;&emsp;&emsp;            try:
<br>&emsp;&emsp;&emsp;&emsp;                return func(*args, **kwargs)
<br>&emsp;&emsp;&emsp;            except Exception:
<br>&emsp;&emsp;&emsp;&emsp;                return False
<br>&emsp;&emsp;        else:
<br>&emsp;&emsp;&emsp;            return func(*args, **kwargs)
<br>&emsp;    return exceptfalse
<br>
<br>
<br>class OneLogin_Saml2_Utils(object):
<br>class OneLogin_Saml2_Utils(object):
<br>&emsp;    """
<br>&emsp;&emsp;&emsp;    Auxiliary class that contains several utility methods to parse time,
<br>&emsp;    """
<br>
<br>&emsp;    RESPONSE_SIGNATURE_XPATH = '/samlp:Response/ds:Signature'
<br>&emsp;    ASSERTION_SIGNATURE_XPATH = '/samlp:Response/saml:Assertion/ds:Signature'
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def escape_url(url, lowercase_urlencoding=False):
<br>&emsp;    def escape_url(url, lowercase_urlencoding=False):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        encoded = quote_plus(url)
<br>&emsp;&emsp;        return re.sub(r"%[A-F0-9]{2}", lambda m: m.group(0).lower(), encoded) if lowercase_urlencoding else encoded
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def b64encode(data):
<br>&emsp;    def b64encode(data):
<br>&emsp;&emsp;        """base64 encode"""
<br>&emsp;&emsp;        """base64 encode"""
<br>&emsp;&emsp;        return compat.to_string(base64.b64encode(compat.to_bytes(data)))
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def b64decode(data):
<br>&emsp;    def b64decode(data):
<br>&emsp;&emsp;        """base64 decode"""
<br>&emsp;&emsp;        """base64 decode"""
<br>&emsp;&emsp;        return base64.b64decode(data)
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def decode_base64_and_inflate(value, ignore_zip=False):
<br>&emsp;    def decode_base64_and_inflate(value, ignore_zip=False):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        encoded = OneLogin_Saml2_Utils.b64decode(value)
<br>&emsp;&emsp;        try:
<br>&emsp;&emsp;&emsp;            return zlib.decompress(encoded, -15)
<br>&emsp;&emsp;        except zlib.error:
<br>&emsp;&emsp;&emsp;            if not ignore_zip:
<br>&emsp;&emsp;&emsp;&emsp;                raise
<br>&emsp;&emsp;        return encoded
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def deflate_and_base64_encode(value):
<br>&emsp;    def deflate_and_base64_encode(value):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        return OneLogin_Saml2_Utils.b64encode(zlib.compress(compat.to_bytes(value))[2:-4])
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def format_cert(cert, heads=True):
<br>&emsp;    def format_cert(cert, heads=True):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        x509_cert = cert.replace('\x0D', '')
<br>&emsp;&emsp;        x509_cert = x509_cert.replace('\r', '')
<br>&emsp;&emsp;        x509_cert = x509_cert.replace('\n', '')
<br>&emsp;&emsp;        if len(x509_cert) > 0:
<br>&emsp;&emsp;&emsp;            x509_cert = x509_cert.replace('-----BEGIN CERTIFICATE-----', '')
<br>&emsp;&emsp;&emsp;            x509_cert = x509_cert.replace('-----END CERTIFICATE-----', '')
<br>&emsp;&emsp;&emsp;            x509_cert = x509_cert.replace(' ', '')
<br>
<br>&emsp;&emsp;&emsp;            if heads:
<br>&emsp;&emsp;&emsp;&emsp;                x509_cert = "-----BEGIN CERTIFICATE-----\n" + "\n".join(wrap(x509_cert, 64)) + "\n-----END CERTIFICATE-----\n"
<br>
<br>&emsp;&emsp;        return x509_cert
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def format_private_key(key, heads=True):
<br>&emsp;    def format_private_key(key, heads=True):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        private_key = key.replace('\x0D', '')
<br>&emsp;&emsp;        private_key = private_key.replace('\r', '')
<br>&emsp;&emsp;        private_key = private_key.replace('\n', '')
<br>&emsp;&emsp;        if len(private_key) > 0:
<br>&emsp;&emsp;&emsp;            if private_key.find('-----BEGIN PRIVATE KEY-----') != -1:
<br>&emsp;&emsp;&emsp;&emsp;                private_key = private_key.replace('-----BEGIN PRIVATE KEY-----', '')
<br>&emsp;&emsp;&emsp;&emsp;                private_key = private_key.replace('-----END PRIVATE KEY-----', '')
<br>&emsp;&emsp;&emsp;&emsp;                private_key = private_key.replace(' ', '')
<br>&emsp;&emsp;&emsp;&emsp;                if heads:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    private_key = "-----BEGIN PRIVATE KEY-----\n" + "\n".join(wrap(private_key, 64)) + "\n-----END PRIVATE KEY-----\n"
<br>&emsp;&emsp;&emsp;            else:
<br>&emsp;&emsp;&emsp;&emsp;                private_key = private_key.replace('-----BEGIN RSA PRIVATE KEY-----', '')
<br>&emsp;&emsp;&emsp;&emsp;                private_key = private_key.replace('-----END RSA PRIVATE KEY-----', '')
<br>&emsp;&emsp;&emsp;&emsp;                private_key = private_key.replace(' ', '')
<br>&emsp;&emsp;&emsp;&emsp;                if heads:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    private_key = "-----BEGIN RSA PRIVATE KEY-----\n" + "\n".join(wrap(private_key, 64)) + "\n-----END RSA PRIVATE KEY-----\n"
<br>&emsp;&emsp;        return private_key
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def redirect(url, parameters={}, request_data={}):
<br>&emsp;    def redirect(url, parameters={}, request_data={}):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        assert isinstance(url, compat.str_type)
<br>&emsp;&emsp;        assert isinstance(parameters, dict)
<br>
<br>&emsp;&emsp;        if url.startswith('/'):
<br>&emsp;&emsp;&emsp;            url = '%s%s' % (OneLogin_Saml2_Utils.get_self_url_host(request_data), url)
<br>
<br>&emsp;&emsp;        # Verify that the URL is to a http or https site.
<br>&emsp;&emsp;        if re.search('^https?://', url) is None:
<br>&emsp;&emsp;&emsp;            raise OneLogin_Saml2_Error(
<br>&emsp;&emsp;&emsp;&emsp;                'Redirect to invalid URL: ' + url,
<br>&emsp;&emsp;&emsp;&emsp;                OneLogin_Saml2_Error.REDIRECT_INVALID_URL
<br>&emsp;&emsp;&emsp;            )
<br>
<br>&emsp;&emsp;        # Add encoded parameters
<br>&emsp;&emsp;        if url.find('?') < 0:
<br>&emsp;&emsp;&emsp;            param_prefix = '?'
<br>&emsp;&emsp;        else:
<br>&emsp;&emsp;&emsp;            param_prefix = '&'
<br>
<br>&emsp;&emsp;        for name, value in parameters.items():
<br>
<br>&emsp;&emsp;&emsp;            if value is None:
<br>&emsp;&emsp;&emsp;&emsp;                param = OneLogin_Saml2_Utils.escape_url(name)
<br>&emsp;&emsp;&emsp;            elif isinstance(value, list):
<br>&emsp;&emsp;&emsp;&emsp;                param = ''
<br>&emsp;&emsp;&emsp;&emsp;                for val in value:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    param += OneLogin_Saml2_Utils.escape_url(name) + '[]=' + OneLogin_Saml2_Utils.escape_url(val) + '&'
<br>&emsp;&emsp;&emsp;&emsp;                if len(param) > 0:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    param = param[0:-1]
<br>&emsp;&emsp;&emsp;            else:
<br>&emsp;&emsp;&emsp;&emsp;                param = OneLogin_Saml2_Utils.escape_url(name) + '=' + OneLogin_Saml2_Utils.escape_url(value)
<br>
<br>&emsp;&emsp;&emsp;            if param:
<br>&emsp;&emsp;&emsp;&emsp;                url += param_prefix + param
<br>&emsp;&emsp;&emsp;&emsp;                param_prefix = '&'
<br>
<br>&emsp;&emsp;        return url
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def get_self_url_host(request_data):
<br>&emsp;    def get_self_url_host(request_data):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        current_host = OneLogin_Saml2_Utils.get_self_host(request_data)
<br>&emsp;&emsp;        port = ''
<br>&emsp;&emsp;        if OneLogin_Saml2_Utils.is_https(request_data):
<br>&emsp;&emsp;&emsp;            protocol = 'https'
<br>&emsp;&emsp;        else:
<br>&emsp;&emsp;&emsp;            protocol = 'http'
<br>
<br>&emsp;&emsp;        if 'server_port' in request_data and request_data['server_port'] is not None:
<br>&emsp;&emsp;&emsp;            port_number = str(request_data['server_port'])
<br>&emsp;&emsp;&emsp;            port = ':' + port_number
<br>
<br>&emsp;&emsp;&emsp;            if protocol == 'http' and port_number == '80':
<br>&emsp;&emsp;&emsp;&emsp;                port = ''
<br>&emsp;&emsp;&emsp;            elif protocol == 'https' and port_number == '443':
<br>&emsp;&emsp;&emsp;&emsp;                port = ''
<br>
<br>&emsp;&emsp;        return '%s://%s%s' % (protocol, current_host, port)
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def get_self_host(request_data):
<br>&emsp;    def get_self_host(request_data):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        if 'http_host' in request_data:
<br>&emsp;&emsp;&emsp;            current_host = request_data['http_host']
<br>&emsp;&emsp;        elif 'server_name' in request_data:
<br>&emsp;&emsp;&emsp;            current_host = request_data['server_name']
<br>&emsp;&emsp;        else:
<br>&emsp;&emsp;&emsp;            raise Exception('No hostname defined')
<br>
<br>&emsp;&emsp;        if ':' in current_host:
<br>&emsp;&emsp;&emsp;            current_host_data = current_host.split(':')
<br>&emsp;&emsp;&emsp;            possible_port = current_host_data[-1]
<br>&emsp;&emsp;&emsp;            try:
<br>&emsp;&emsp;&emsp;&emsp;                int(possible_port)
<br>&emsp;&emsp;&emsp;&emsp;                current_host = current_host_data[0]
<br>&emsp;&emsp;&emsp;            except ValueError:
<br>&emsp;&emsp;&emsp;&emsp;                current_host = ':'.join(current_host_data)
<br>
<br>&emsp;&emsp;        return current_host
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def is_https(request_data):
<br>&emsp;    def is_https(request_data):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        is_https = 'https' in request_data and request_data['https'] != 'off'
<br>&emsp;&emsp;        is_https = is_https or ('server_port' in request_data and str(request_data['server_port']) == '443')
<br>&emsp;&emsp;        return is_https
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def get_self_url_no_query(request_data):
<br>&emsp;    def get_self_url_no_query(request_data):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        self_url_host = OneLogin_Saml2_Utils.get_self_url_host(request_data)
<br>&emsp;&emsp;        script_name = request_data['script_name']
<br>&emsp;&emsp;        if script_name:
<br>&emsp;&emsp;&emsp;            if script_name[0] != '/':
<br>&emsp;&emsp;&emsp;&emsp;                script_name = '/' + script_name
<br>&emsp;&emsp;        else:
<br>&emsp;&emsp;&emsp;            script_name = ''
<br>&emsp;&emsp;        self_url_no_query = self_url_host + script_name
<br>&emsp;&emsp;        if 'path_info' in request_data:
<br>&emsp;&emsp;&emsp;            self_url_no_query += request_data['path_info']
<br>
<br>&emsp;&emsp;        return self_url_no_query
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def get_self_routed_url_no_query(request_data):
<br>&emsp;    def get_self_routed_url_no_query(request_data):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        self_url_host = OneLogin_Saml2_Utils.get_self_url_host(request_data)
<br>&emsp;&emsp;        route = ''
<br>&emsp;&emsp;        if 'request_uri' in request_data and request_data['request_uri']:
<br>&emsp;&emsp;&emsp;            route = request_data['request_uri']
<br>&emsp;&emsp;&emsp;            if 'query_string' in request_data and request_data['query_string']:
<br>&emsp;&emsp;&emsp;&emsp;                route = route.replace(request_data['query_string'], '')
<br>
<br>&emsp;&emsp;        return self_url_host + route
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def get_self_url(request_data):
<br>&emsp;    def get_self_url(request_data):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        self_url_host = OneLogin_Saml2_Utils.get_self_url_host(request_data)
<br>
<br>&emsp;&emsp;        request_uri = ''
<br>&emsp;&emsp;        if 'request_uri' in request_data:
<br>&emsp;&emsp;&emsp;            request_uri = request_data['request_uri']
<br>&emsp;&emsp;&emsp;            if not request_uri.startswith('/'):
<br>&emsp;&emsp;&emsp;&emsp;                match = re.search('^https?://[^/]*(/.*)', request_uri)
<br>&emsp;&emsp;&emsp;&emsp;                if match is not None:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    request_uri = match.groups()[0]
<br>
<br>&emsp;&emsp;        return self_url_host + request_uri
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def generate_unique_id():
<br>&emsp;    def generate_unique_id():
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        return 'ONELOGIN_%s' % sha1(compat.to_bytes(uuid4().hex)).hexdigest()
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def parse_time_to_SAML(time):
<br>&emsp;    def parse_time_to_SAML(time):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        data = datetime.utcfromtimestamp(float(time))
<br>&emsp;&emsp;        return data.strftime('%Y-%m-%dT%H:%M:%SZ')
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def parse_SAML_to_time(timestr):
<br>&emsp;    def parse_SAML_to_time(timestr):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        try:
<br>&emsp;&emsp;&emsp;            data = datetime.strptime(timestr, '%Y-%m-%dT%H:%M:%SZ')
<br>&emsp;&emsp;        except ValueError:
<br>&emsp;&emsp;&emsp;            data = datetime.strptime(timestr, '%Y-%m-%dT%H:%M:%S.%fZ')
<br>&emsp;&emsp;        return calendar.timegm(data.utctimetuple())
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def now():
<br>&emsp;    def now():
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        return calendar.timegm(datetime.utcnow().utctimetuple())
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def parse_duration(duration, timestamp=None):
<br>&emsp;    def parse_duration(duration, timestamp=None):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        assert isinstance(duration, compat.str_type)
<br>&emsp;&emsp;        assert timestamp is None or isinstance(timestamp, int)
<br>
<br>&emsp;&emsp;        timedelta = duration_parser(duration)
<br>&emsp;&emsp;        if timestamp is None:
<br>&emsp;&emsp;&emsp;            data = datetime.utcnow() + timedelta
<br>&emsp;&emsp;        else:
<br>&emsp;&emsp;&emsp;            data = datetime.utcfromtimestamp(timestamp) + timedelta
<br>&emsp;&emsp;        return calendar.timegm(data.utctimetuple())
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def get_expire_time(cache_duration=None, valid_until=None):
<br>&emsp;    def get_expire_time(cache_duration=None, valid_until=None):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        expire_time = None
<br>
<br>&emsp;&emsp;        if cache_duration is not None:
<br>&emsp;&emsp;&emsp;            expire_time = OneLogin_Saml2_Utils.parse_duration(cache_duration)
<br>
<br>&emsp;&emsp;        if valid_until is not None:
<br>&emsp;&emsp;&emsp;            if isinstance(valid_until, int):
<br>&emsp;&emsp;&emsp;&emsp;                valid_until_time = valid_until
<br>&emsp;&emsp;&emsp;            else:
<br>&emsp;&emsp;&emsp;&emsp;                valid_until_time = OneLogin_Saml2_Utils.parse_SAML_to_time(valid_until)
<br>&emsp;&emsp;&emsp;            if expire_time is None or expire_time > valid_until_time:
<br>&emsp;&emsp;&emsp;&emsp;                expire_time = valid_until_time
<br>
<br>&emsp;&emsp;        if expire_time is not None:
<br>&emsp;&emsp;&emsp;            return '%d' % expire_time
<br>&emsp;&emsp;        return None
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def delete_local_session(callback=None):
<br>&emsp;    def delete_local_session(callback=None):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>
<br>&emsp;&emsp;        if callback is not None:
<br>&emsp;&emsp;&emsp;            callback()
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def calculate_x509_fingerprint(x509_cert, alg='sha1'):
<br>&emsp;    def calculate_x509_fingerprint(x509_cert, alg='sha1'):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        assert isinstance(x509_cert, compat.str_type)
<br>
<br>&emsp;&emsp;        lines = x509_cert.split('\n')
<br>&emsp;&emsp;        data = ''
<br>&emsp;&emsp;        inData = False
<br>
<br>&emsp;&emsp;        for line in lines:
<br>&emsp;&emsp;&emsp;            # Remove '\r' from end of line if present.
<br>&emsp;&emsp;&emsp;            line = line.rstrip()
<br>&emsp;&emsp;&emsp;            if not inData:
<br>&emsp;&emsp;&emsp;&emsp;                if line == '-----BEGIN CERTIFICATE-----':
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    inData = True
<br>&emsp;&emsp;&emsp;&emsp;                elif line == '-----BEGIN PUBLIC KEY-----' or line == '-----BEGIN RSA PRIVATE KEY-----':
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    # This isn't an X509 certificate.
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    return None
<br>&emsp;&emsp;&emsp;            else:
<br>&emsp;&emsp;&emsp;&emsp;                if line == '-----END CERTIFICATE-----':
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    break
<br>
<br>&emsp;&emsp;&emsp;&emsp;                # Append the current line to the certificate data.
<br>&emsp;&emsp;&emsp;&emsp;                data += line
<br>
<br>&emsp;&emsp;        if not data:
<br>&emsp;&emsp;&emsp;            return None
<br>
<br>&emsp;&emsp;        decoded_data = base64.b64decode(compat.to_bytes(data))
<br>
<br>&emsp;&emsp;        if alg == 'sha512':
<br>&emsp;&emsp;&emsp;            fingerprint = sha512(decoded_data)
<br>&emsp;&emsp;        elif alg == 'sha384':
<br>&emsp;&emsp;&emsp;            fingerprint = sha384(decoded_data)
<br>&emsp;&emsp;        elif alg == 'sha256':
<br>&emsp;&emsp;&emsp;            fingerprint = sha256(decoded_data)
<br>&emsp;&emsp;        else:
<br>&emsp;&emsp;&emsp;            fingerprint = sha1(decoded_data)
<br>
<br>&emsp;&emsp;        return fingerprint.hexdigest().lower()
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def format_finger_print(fingerprint):
<br>&emsp;    def format_finger_print(fingerprint):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        formatted_fingerprint = fingerprint.replace(':', '')
<br>&emsp;&emsp;        return formatted_fingerprint.lower()
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def generate_name_id(value, sp_nq, sp_format=None, cert=None, debug=False, nq=None):
<br>&emsp;    def generate_name_id(value, sp_nq, sp_format=None, cert=None, debug=False, nq=None):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>
<br>&emsp;&emsp;        root = OneLogin_Saml2_XML.make_root("{%s}container" % OneLogin_Saml2_Constants.NS_SAML)
<br>&emsp;&emsp;        name_id = OneLogin_Saml2_XML.make_child(root, '{%s}NameID' % OneLogin_Saml2_Constants.NS_SAML)
<br>&emsp;&emsp;        if sp_nq is not None:
<br>&emsp;&emsp;&emsp;            name_id.set('SPNameQualifier', sp_nq)
<br>&emsp;&emsp;        if sp_format is not None:
<br>&emsp;&emsp;&emsp;            name_id.set('Format', sp_format)
<br>&emsp;&emsp;        if nq is not None:
<br>&emsp;&emsp;&emsp;            name_id.set('NameQualifier', nq)
<br>&emsp;&emsp;        name_id.text = value
<br>
<br>&emsp;&emsp;        if cert is not None:
<br>&emsp;&emsp;&emsp;            xmlsec.enable_debug_trace(debug)
<br>
<br>&emsp;&emsp;&emsp;            # Load the public cert
<br>&emsp;&emsp;&emsp;            manager = xmlsec.KeysManager()
<br>&emsp;&emsp;&emsp;            manager.add_key(xmlsec.Key.from_memory(cert, xmlsec.KeyFormat.CERT_PEM, None))
<br>
<br>&emsp;&emsp;&emsp;            # Prepare for encryption
<br>&emsp;&emsp;&emsp;            enc_data = xmlsec.template.encrypted_data_create(
<br>&emsp;&emsp;&emsp;&emsp;                root, xmlsec.Transform.AES128, type=xmlsec.EncryptionType.ELEMENT, ns="xenc")
<br>
<br>&emsp;&emsp;&emsp;            xmlsec.template.encrypted_data_ensure_cipher_value(enc_data)
<br>&emsp;&emsp;&emsp;            key_info = xmlsec.template.encrypted_data_ensure_key_info(enc_data, ns="dsig")
<br>&emsp;&emsp;&emsp;            enc_key = xmlsec.template.add_encrypted_key(key_info, xmlsec.Transform.RSA_OAEP)
<br>&emsp;&emsp;&emsp;            xmlsec.template.encrypted_data_ensure_cipher_value(enc_key)
<br>
<br>&emsp;&emsp;&emsp;            # Encrypt!
<br>&emsp;&emsp;&emsp;            enc_ctx = xmlsec.EncryptionContext(manager)
<br>&emsp;&emsp;&emsp;            enc_ctx.key = xmlsec.Key.generate(xmlsec.KeyData.AES, 128, xmlsec.KeyDataType.SESSION)
<br>&emsp;&emsp;&emsp;            enc_data = enc_ctx.encrypt_xml(enc_data, name_id)
<br>&emsp;&emsp;&emsp;            return '<saml:EncryptedID>' + compat.to_string(OneLogin_Saml2_XML.to_string(enc_data)) + '</saml:EncryptedID>'
<br>&emsp;&emsp;        else:
<br>&emsp;&emsp;&emsp;            return OneLogin_Saml2_XML.extract_tag_text(root, "saml:NameID")
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def get_status(dom):
<br>&emsp;    def get_status(dom):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        status = {}
<br>
<br>&emsp;&emsp;        status_entry = OneLogin_Saml2_XML.query(dom, '/samlp:Response/samlp:Status')
<br>&emsp;&emsp;        if len(status_entry) != 1:
<br>&emsp;&emsp;&emsp;            raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;                'Missing Status on response',
<br>&emsp;&emsp;&emsp;&emsp;                OneLogin_Saml2_ValidationError.MISSING_STATUS
<br>&emsp;&emsp;&emsp;            )
<br>
<br>&emsp;&emsp;        code_entry = OneLogin_Saml2_XML.query(dom, '/samlp:Response/samlp:Status/samlp:StatusCode', status_entry[0])
<br>&emsp;&emsp;        if len(code_entry) != 1:
<br>&emsp;&emsp;&emsp;            raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;                'Missing Status Code on response',
<br>&emsp;&emsp;&emsp;&emsp;                OneLogin_Saml2_ValidationError.MISSING_STATUS_CODE
<br>&emsp;&emsp;&emsp;            )
<br>&emsp;&emsp;        code = code_entry[0].values()[0]
<br>&emsp;&emsp;        status['code'] = code
<br>
<br>&emsp;&emsp;        status['msg'] = ''
<br>&emsp;&emsp;        message_entry = OneLogin_Saml2_XML.query(dom, '/samlp:Response/samlp:Status/samlp:StatusMessage', status_entry[0])
<br>&emsp;&emsp;        if len(message_entry) == 0:
<br>&emsp;&emsp;&emsp;            subcode_entry = OneLogin_Saml2_XML.query(dom, '/samlp:Response/samlp:Status/samlp:StatusCode/samlp:StatusCode', status_entry[0])
<br>&emsp;&emsp;&emsp;            if len(subcode_entry) == 1:
<br>&emsp;&emsp;&emsp;&emsp;                status['msg'] = subcode_entry[0].values()[0]
<br>&emsp;&emsp;        elif len(message_entry) == 1:
<br>&emsp;&emsp;&emsp;            status['msg'] = OneLogin_Saml2_XML.element_text(message_entry[0])
<br>
<br>&emsp;&emsp;        return status
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def decrypt_element(encrypted_data, key, debug=False, inplace=False):
<br>&emsp;    def decrypt_element(encrypted_data, key, debug=False, inplace=False):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>
<br>&emsp;&emsp;        if isinstance(encrypted_data, Element):
<br>&emsp;&emsp;&emsp;            encrypted_data = fromstring(str(encrypted_data.toxml()))
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;        if not inplace and isinstance(encrypted_data, OneLogin_Saml2_XML._element_class):
<br>&emsp;&emsp;        if not inplace and isinstance(encrypted_data, OneLogin_Saml2_XML._element_class):
<br>&emsp;&emsp;&emsp;            encrypted_data = deepcopy(encrypted_data)
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;        elif isinstance(encrypted_data, OneLogin_Saml2_XML._text_class):
<br>&emsp;&emsp;        elif isinstance(encrypted_data, OneLogin_Saml2_XML._text_class):
<br>&emsp;&emsp;&emsp;            encrypted_data = OneLogin_Saml2_XML._parse_etree(encrypted_data)
<br>
<br>&emsp;&emsp;        xmlsec.enable_debug_trace(debug)
<br>&emsp;&emsp;        manager = xmlsec.KeysManager()
<br>
<br>&emsp;&emsp;        manager.add_key(xmlsec.Key.from_memory(key, xmlsec.KeyFormat.PEM, None))
<br>&emsp;&emsp;        enc_ctx = xmlsec.EncryptionContext(manager)
<br>&emsp;&emsp;        return enc_ctx.decrypt(encrypted_data)
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def add_sign(xml, key, cert, debug=False, sign_algorithm=OneLogin_Saml2_Constants.RSA_SHA1, digest_algorithm=OneLogin_Saml2_Constants.SHA1):
<br>&emsp;    def add_sign(xml, key, cert, debug=False, sign_algorithm=OneLogin_Saml2_Constants.RSA_SHA1, digest_algorithm=OneLogin_Saml2_Constants.SHA1):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        if xml is None or xml == '':
<br>&emsp;&emsp;&emsp;            raise Exception('Empty string supplied as input')
<br>
<br>&emsp;&emsp;        elem = OneLogin_Saml2_XML.to_etree(xml)
<br>
<br>&emsp;&emsp;        sign_algorithm_transform_map = {
<br>&emsp;&emsp;&emsp;            OneLogin_Saml2_Constants.DSA_SHA1: xmlsec.Transform.DSA_SHA1,
<br>&emsp;&emsp;&emsp;            OneLogin_Saml2_Constants.RSA_SHA1: xmlsec.Transform.RSA_SHA1,
<br>&emsp;&emsp;&emsp;            OneLogin_Saml2_Constants.RSA_SHA256: xmlsec.Transform.RSA_SHA256,
<br>&emsp;&emsp;&emsp;            OneLogin_Saml2_Constants.RSA_SHA384: xmlsec.Transform.RSA_SHA384,
<br>&emsp;&emsp;&emsp;            OneLogin_Saml2_Constants.RSA_SHA512: xmlsec.Transform.RSA_SHA512
<br>&emsp;&emsp;        }
<br>&emsp;&emsp;        sign_algorithm_transform = sign_algorithm_transform_map.get(sign_algorithm, xmlsec.Transform.RSA_SHA1)
<br>
<br>&emsp;&emsp;        signature = xmlsec.template.create(elem, xmlsec.Transform.EXCL_C14N, sign_algorithm_transform, ns='ds')
<br>
<br>&emsp;&emsp;        issuer = OneLogin_Saml2_XML.query(elem, '//saml:Issuer')
<br>&emsp;&emsp;        if len(issuer) > 0:
<br>&emsp;&emsp;&emsp;            issuer = issuer[0]
<br>&emsp;&emsp;&emsp;            issuer.addnext(signature)
<br>&emsp;&emsp;&emsp;            elem_to_sign = issuer.getparent()
<br>&emsp;&emsp;        else:
<br>&emsp;&emsp;&emsp;            entity_descriptor = OneLogin_Saml2_XML.query(elem, '//md:EntityDescriptor')
<br>&emsp;&emsp;&emsp;            if len(entity_descriptor) > 0:
<br>&emsp;&emsp;&emsp;&emsp;                elem.insert(0, signature)
<br>&emsp;&emsp;&emsp;            else:
<br>&emsp;&emsp;&emsp;&emsp;                elem[0].insert(0, signature)
<br>&emsp;&emsp;&emsp;            elem_to_sign = elem
<br>
<br>&emsp;&emsp;        elem_id = elem_to_sign.get('ID', None)
<br>&emsp;&emsp;        if elem_id is not None:
<br>&emsp;&emsp;&emsp;            if elem_id:
<br>&emsp;&emsp;&emsp;&emsp;                elem_id = '#' + elem_id
<br>&emsp;&emsp;        else:
<br>&emsp;&emsp;&emsp;            generated_id = generated_id = OneLogin_Saml2_Utils.generate_unique_id()
<br>&emsp;&emsp;&emsp;            elem_id = '#' + generated_id
<br>&emsp;&emsp;&emsp;            elem_to_sign.attrib['ID'] = generated_id
<br>
<br>&emsp;&emsp;        xmlsec.enable_debug_trace(debug)
<br>&emsp;&emsp;        xmlsec.tree.add_ids(elem_to_sign, ["ID"])
<br>
<br>&emsp;&emsp;        digest_algorithm_transform_map = {
<br>&emsp;&emsp;&emsp;            OneLogin_Saml2_Constants.SHA1: xmlsec.Transform.SHA1,
<br>&emsp;&emsp;&emsp;            OneLogin_Saml2_Constants.SHA256: xmlsec.Transform.SHA256,
<br>&emsp;&emsp;&emsp;            OneLogin_Saml2_Constants.SHA384: xmlsec.Transform.SHA384,
<br>&emsp;&emsp;&emsp;            OneLogin_Saml2_Constants.SHA512: xmlsec.Transform.SHA512
<br>&emsp;&emsp;        }
<br>&emsp;&emsp;        digest_algorithm_transform = digest_algorithm_transform_map.get(digest_algorithm, xmlsec.Transform.SHA1)
<br>
<br>&emsp;&emsp;        ref = xmlsec.template.add_reference(signature, digest_algorithm_transform, uri=elem_id)
<br>&emsp;&emsp;        xmlsec.template.add_transform(ref, xmlsec.Transform.ENVELOPED)
<br>&emsp;&emsp;        xmlsec.template.add_transform(ref, xmlsec.Transform.EXCL_C14N)
<br>&emsp;&emsp;        key_info = xmlsec.template.ensure_key_info(signature)
<br>&emsp;&emsp;        xmlsec.template.add_x509_data(key_info)
<br>
<br>&emsp;&emsp;        dsig_ctx = xmlsec.SignatureContext()
<br>&emsp;&emsp;        sign_key = xmlsec.Key.from_memory(key, xmlsec.KeyFormat.PEM, None)
<br>&emsp;&emsp;        sign_key.load_cert_from_memory(cert, xmlsec.KeyFormat.PEM)
<br>
<br>&emsp;&emsp;        dsig_ctx.key = sign_key
<br>&emsp;&emsp;        dsig_ctx.sign(signature)
<br>
<br>&emsp;&emsp;        return OneLogin_Saml2_XML.to_string(elem)
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    @return_false_on_exception
<br>&emsp;    def validate_sign(xml, cert=None, fingerprint=None, fingerprintalg='sha1', validatecert=False, debug=False, xpath=None, multicerts=None):
<br>&emsp;    def validate_sign(xml, cert=None, fingerprint=None, fingerprintalg='sha1', validatecert=False, debug=False, xpath=None, multicerts=None):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        if xml is None or xml == '':
<br>&emsp;&emsp;&emsp;            raise Exception('Empty string supplied as input')
<br>
<br>&emsp;&emsp;        elem = OneLogin_Saml2_XML.to_etree(xml)
<br>&emsp;&emsp;        xmlsec.enable_debug_trace(debug)
<br>&emsp;&emsp;        xmlsec.tree.add_ids(elem, ["ID"])
<br>
<br>&emsp;&emsp;        if xpath:
<br>&emsp;&emsp;&emsp;            signature_nodes = OneLogin_Saml2_XML.query(elem, xpath)
<br>&emsp;&emsp;        else:
<br>&emsp;&emsp;&emsp;            signature_nodes = OneLogin_Saml2_XML.query(elem, OneLogin_Saml2_Utils.RESPONSE_SIGNATURE_XPATH)
<br>
<br>&emsp;&emsp;&emsp;            if len(signature_nodes) == 0:
<br>&emsp;&emsp;&emsp;&emsp;                signature_nodes = OneLogin_Saml2_XML.query(elem, OneLogin_Saml2_Utils.ASSERTION_SIGNATURE_XPATH)
<br>
<br>&emsp;&emsp;        if len(signature_nodes) == 1:
<br>&emsp;&emsp;&emsp;            signature_node = signature_nodes[0]
<br>
<br>&emsp;&emsp;&emsp;            if not multicerts:
<br>&emsp;&emsp;&emsp;&emsp;                return OneLogin_Saml2_Utils.validate_node_sign(signature_node, elem, cert, fingerprint, fingerprintalg, validatecert, debug, raise_exceptions=True)
<br>&emsp;&emsp;&emsp;            else:
<br>&emsp;&emsp;&emsp;&emsp;                # If multiple certs are provided, I may ignore cert and
<br>&emsp;&emsp;&emsp;&emsp;                # fingerprint provided by the method and just check the
<br>&emsp;&emsp;&emsp;&emsp;                # certs multicerts
<br>&emsp;&emsp;&emsp;&emsp;                fingerprint = fingerprintalg = None
<br>&emsp;&emsp;&emsp;&emsp;                for cert in multicerts:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    if OneLogin_Saml2_Utils.validate_node_sign(signature_node, elem, cert, fingerprint, fingerprintalg, validatecert, False, raise_exceptions=False):
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        return True
<br>&emsp;&emsp;&emsp;&emsp;                raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    'Signature validation failed. SAML Response rejected.',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    OneLogin_Saml2_ValidationError.INVALID_SIGNATURE
<br>&emsp;&emsp;&emsp;&emsp;                )
<br>&emsp;&emsp;        else:
<br>&emsp;&emsp;&emsp;            raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;                'Expected exactly one signature node; got {}.'.format(len(signature_nodes)),
<br>&emsp;&emsp;&emsp;&emsp;                OneLogin_Saml2_ValidationError.WRONG_NUMBER_OF_SIGNATURES
<br>&emsp;&emsp;&emsp;            )
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    @return_false_on_exception
<br>&emsp;    def validate_metadata_sign(xml, cert=None, fingerprint=None, fingerprintalg='sha1', validatecert=False, debug=False):
<br>&emsp;    def validate_metadata_sign(xml, cert=None, fingerprint=None, fingerprintalg='sha1', validatecert=False, debug=False):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        if xml is None or xml == '':
<br>&emsp;&emsp;&emsp;            raise Exception('Empty string supplied as input')
<br>
<br>&emsp;&emsp;        elem = OneLogin_Saml2_XML.to_etree(xml)
<br>&emsp;&emsp;        xmlsec.enable_debug_trace(debug)
<br>&emsp;&emsp;        xmlsec.tree.add_ids(elem, ["ID"])
<br>
<br>&emsp;&emsp;        signature_nodes = OneLogin_Saml2_XML.query(elem, '/md:EntitiesDescriptor/ds:Signature')
<br>
<br>&emsp;&emsp;        if len(signature_nodes) == 0:
<br>&emsp;&emsp;&emsp;            signature_nodes += OneLogin_Saml2_XML.query(elem, '/md:EntityDescriptor/ds:Signature')
<br>
<br>&emsp;&emsp;&emsp;            if len(signature_nodes) == 0:
<br>&emsp;&emsp;&emsp;&emsp;                signature_nodes += OneLogin_Saml2_XML.query(elem, '/md:EntityDescriptor/md:SPSSODescriptor/ds:Signature')
<br>&emsp;&emsp;&emsp;&emsp;                signature_nodes += OneLogin_Saml2_XML.query(elem, '/md:EntityDescriptor/md:IDPSSODescriptor/ds:Signature')
<br>
<br>&emsp;&emsp;        if len(signature_nodes) > 0:
<br>&emsp;&emsp;&emsp;            for signature_node in signature_nodes:
<br>&emsp;&emsp;&emsp;&emsp;                # Raises expection if invalid
<br>&emsp;&emsp;&emsp;&emsp;                OneLogin_Saml2_Utils.validate_node_sign(signature_node, elem, cert, fingerprint, fingerprintalg, validatecert, debug, raise_exceptions=True)
<br>&emsp;&emsp;&emsp;            return True
<br>&emsp;&emsp;        else:
<br>&emsp;&emsp;&emsp;            raise Exception('Could not validate metadata signature: No signature nodes found.')
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    @return_false_on_exception
<br>&emsp;    def validate_node_sign(signature_node, elem, cert=None, fingerprint=None, fingerprintalg='sha1', validatecert=False, debug=False):
<br>&emsp;    def validate_node_sign(signature_node, elem, cert=None, fingerprint=None, fingerprintalg='sha1', validatecert=False, debug=False):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        if (cert is None or cert == '') and fingerprint:
<br>&emsp;&emsp;&emsp;            x509_certificate_nodes = OneLogin_Saml2_XML.query(signature_node, '//ds:Signature/ds:KeyInfo/ds:X509Data/ds:X509Certificate')
<br>&emsp;&emsp;&emsp;            if len(x509_certificate_nodes) > 0:
<br>&emsp;&emsp;&emsp;&emsp;                x509_certificate_node = x509_certificate_nodes[0]
<br>&emsp;&emsp;&emsp;&emsp;                x509_cert_value = OneLogin_Saml2_XML.element_text(x509_certificate_node)
<br>&emsp;&emsp;&emsp;&emsp;                x509_cert_value_formatted = OneLogin_Saml2_Utils.format_cert(x509_cert_value)
<br>&emsp;&emsp;&emsp;&emsp;                x509_fingerprint_value = OneLogin_Saml2_Utils.calculate_x509_fingerprint(x509_cert_value_formatted, fingerprintalg)
<br>&emsp;&emsp;&emsp;&emsp;                if fingerprint == x509_fingerprint_value:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    cert = x509_cert_value_formatted
<br>
<br>&emsp;&emsp;        if cert is None or cert == '':
<br>&emsp;&emsp;&emsp;            raise OneLogin_Saml2_Error(
<br>&emsp;&emsp;&emsp;&emsp;                'Could not validate node signature: No certificate provided.',
<br>&emsp;&emsp;&emsp;&emsp;                OneLogin_Saml2_Error.CERT_NOT_FOUND
<br>&emsp;&emsp;&emsp;            )
<br>
<br>&emsp;&emsp;        # Check if Reference URI is empty
<br>&emsp;&emsp;        reference_elem = OneLogin_Saml2_XML.query(signature_node, '//ds:Reference')
<br>&emsp;&emsp;        if len(reference_elem) > 0:
<br>&emsp;&emsp;&emsp;            if reference_elem[0].get('URI') == '':
<br>&emsp;&emsp;&emsp;&emsp;                reference_elem[0].set('URI', '#%s' % signature_node.getparent().get('ID'))
<br>
<br>&emsp;&emsp;        if validatecert:
<br>&emsp;&emsp;&emsp;            manager = xmlsec.KeysManager()
<br>&emsp;&emsp;&emsp;            manager.load_cert_from_memory(cert, xmlsec.KeyFormat.CERT_PEM, xmlsec.KeyDataType.TRUSTED)
<br>&emsp;&emsp;&emsp;            dsig_ctx = xmlsec.SignatureContext(manager)
<br>&emsp;&emsp;        else:
<br>&emsp;&emsp;&emsp;            dsig_ctx = xmlsec.SignatureContext()
<br>&emsp;&emsp;&emsp;            dsig_ctx.key = xmlsec.Key.from_memory(cert, xmlsec.KeyFormat.CERT_PEM, None)
<br>
<br>&emsp;&emsp;        dsig_ctx.set_enabled_key_data([xmlsec.KeyData.X509])
<br>
<br>&emsp;&emsp;        try:
<br>&emsp;&emsp;&emsp;            dsig_ctx.verify(signature_node)
<br>&emsp;&emsp;        except Exception as err:
<br>&emsp;&emsp;&emsp;            raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;                'Signature validation failed. SAML Response rejected. %s',
<br>&emsp;&emsp;&emsp;&emsp;                OneLogin_Saml2_ValidationError.INVALID_SIGNATURE,
<br>&emsp;&emsp;&emsp;&emsp;                str(err)
<br>&emsp;&emsp;&emsp;            )
<br>
<br>&emsp;&emsp;        return True
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def sign_binary(msg, key, algorithm=xmlsec.Transform.RSA_SHA1, debug=False):
<br>&emsp;    def sign_binary(msg, key, algorithm=xmlsec.Transform.RSA_SHA1, debug=False):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>
<br>&emsp;&emsp;        if isinstance(msg, str):
<br>&emsp;&emsp;&emsp;            msg = msg.encode('utf8')
<br>
<br>&emsp;&emsp;        xmlsec.enable_debug_trace(debug)
<br>&emsp;&emsp;        dsig_ctx = xmlsec.SignatureContext()
<br>&emsp;&emsp;        dsig_ctx.key = xmlsec.Key.from_memory(key, xmlsec.KeyFormat.PEM, None)
<br>&emsp;&emsp;        return dsig_ctx.sign_binary(compat.to_bytes(msg), algorithm)
<br>
<br>&emsp;    @staticmethod
<br>&emsp;    def validate_binary_sign(signed_query, signature, cert=None, algorithm=OneLogin_Saml2_Constants.RSA_SHA1, debug=False):
<br>&emsp;    def validate_binary_sign(signed_query, signature, cert=None, algorithm=OneLogin_Saml2_Constants.RSA_SHA1, debug=False):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        try:
<br>&emsp;&emsp;&emsp;            xmlsec.enable_debug_trace(debug)
<br>&emsp;&emsp;&emsp;            dsig_ctx = xmlsec.SignatureContext()
<br>&emsp;&emsp;&emsp;            dsig_ctx.key = xmlsec.Key.from_memory(cert, xmlsec.KeyFormat.CERT_PEM, None)
<br>
<br>&emsp;&emsp;&emsp;            sign_algorithm_transform_map = {
<br>&emsp;&emsp;&emsp;&emsp;                OneLogin_Saml2_Constants.DSA_SHA1: xmlsec.Transform.DSA_SHA1,
<br>&emsp;&emsp;&emsp;&emsp;                OneLogin_Saml2_Constants.RSA_SHA1: xmlsec.Transform.RSA_SHA1,
<br>&emsp;&emsp;&emsp;&emsp;                OneLogin_Saml2_Constants.RSA_SHA256: xmlsec.Transform.RSA_SHA256,
<br>&emsp;&emsp;&emsp;&emsp;                OneLogin_Saml2_Constants.RSA_SHA384: xmlsec.Transform.RSA_SHA384,
<br>&emsp;&emsp;&emsp;&emsp;                OneLogin_Saml2_Constants.RSA_SHA512: xmlsec.Transform.RSA_SHA512
<br>&emsp;&emsp;&emsp;            }
<br>&emsp;&emsp;&emsp;            sign_algorithm_transform = sign_algorithm_transform_map.get(algorithm, xmlsec.Transform.RSA_SHA1)
<br>
<br>&emsp;&emsp;&emsp;            dsig_ctx.verify_binary(compat.to_bytes(signed_query),
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                                   sign_algorithm_transform,
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                                   compat.to_bytes(signature))
<br>&emsp;&emsp;&emsp;            return True
<br>&emsp;&emsp;        except xmlsec.Error as e:
<br>&emsp;&emsp;&emsp;            if debug:
<br>&emsp;&emsp;&emsp;&emsp;                print(e)
<br>&emsp;&emsp;&emsp;            return False
<br>
                   </p>
                </details>

<!-- Include source code here! -->
                <p>
<a href="https://github.com/CityOfNewYork/NYCOpenRecords/blob/master/app/lib/onelogin/saml2/utils.py">Source code</a>
                </p>
            </div>
        </div>

    </body>
</html>
