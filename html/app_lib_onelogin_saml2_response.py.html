<!DOCTYPE html>
<html>
<!-- THIS FILE WAS GENERATED BY A SCRIPT: DO NOT EDIT IT! -->
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <link rel="stylesheet" href="style.css">

        <!-- jQuery CDN -->
         <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
         <!-- Bootstrap Js CDN -->
         <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

         <script type="text/javascript">
             var status = 'on';
             $(document).ready(function () {
                 $('#sidebarCollapse').on('click', function () {
                     $('#sidebar').toggleClass('active');
                     if (status == 'on') {
                         $('#sidebarText').text("Expand Side Nav");
                         status = 'off';
                     } else {
                         $('#sidebarText').text("Collapse Side Nav");
                         status = 'on';
                     }
                 });
             });
         </script>
        <title>
            response.py
        </title>
    </head>

    <body>
        <div class="wrapper">
<!-- Sidebar Holder -->
<nav id="sidebar">
    <div id="sidebarCollapse">
        <div class="sidebar-header">
            <h1>
                NYCOpenDocs
            </h1>
            <strong>NYCDocs</strong>
        </div>
    </div>
    <ul class="list-unstyled components">
        <li>
            <a href="/NYCOpenDocs/index.html">
                <i class="glyphicon glyphicon-home"></i>
                Home
            </a>
        </li>
        <li>
            <a href="/NYCOpenDocs/html/codeclimate.yml.html">
                .codeclimate.yml
            </a>
        </li>
        <li>
            <a href="/NYCOpenDocs/html/eslintrc.yml.html">
                .eslintrc.yml
            </a>
        </li>
        <li>
            <a href="#Submenu0" data-toggle="collapse" aria-expanded="false">
                .startup
            </a>
        </li>
        <ul class="collapse list-unstyled" id="Submenu0">
            <li>
                <a href="/NYCOpenDocs/html/.startup_.startup.html">
                    About the directory '.startup'
                </a>
            </li>
            <li>
                <a href="/NYCOpenDocs/html/.startup_celery_beat_startup.sh.html">
                    celery_beat_startup.sh
                </a>
            </li>
            <li>
                <a href="/NYCOpenDocs/html/.startup_celery_startup.sh.html">
                    celery_startup.sh
                </a>
            </li>
            <li>
                <a href="/NYCOpenDocs/html/.startup_fakesmtp_startup.sh.html">
                    fakesmtp_startup.sh
                </a>
            </li>
            <li>
                <a href="/NYCOpenDocs/html/.startup_flask_startup.sh.html">
                    flask_startup.sh
                </a>
            </li>
            <li>
                <a href="/NYCOpenDocs/html/.startup_tmux_setup.sh.html">
                    tmux_setup.sh
                </a>
            </li>
        </ul>
        <li>
            <a href="/NYCOpenDocs/html/travis.yml.html">
                .travis.yml
            </a>
        </li>
        <li>
            <a href="#Submenu1" data-toggle="collapse" aria-expanded="false">
                app
            </a>
        </li>
        <ul class="collapse list-unstyled" id="Submenu1">
            <li>
                <a href="/NYCOpenDocs/html/app_app.html">
                    About the directory 'app'
                </a>
            </li>
            <li>
                <a href="/NYCOpenDocs/html/app___init__.py.html">
                    __init__.py
                </a>
            </li>
            <li>
                <a href="#Submenu2" data-toggle="collapse" aria-expanded="false">
                    admin
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu2">
                <li>
                    <a href="/NYCOpenDocs/html/app_admin_admin.html">
                        About the directory 'admin'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_admin___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_admin_forms.py.html">
                        forms.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_admin_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_admin_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu3" data-toggle="collapse" aria-expanded="false">
                    agency
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu3">
                <li>
                    <a href="/NYCOpenDocs/html/app_agency_agency.html">
                        About the directory 'agency'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_agency___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="#Submenu4" data-toggle="collapse" aria-expanded="false">
                        api
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu4">
                    <li>
                        <a href="/NYCOpenDocs/html/app_agency_api_api.html">
                            About the directory 'api'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_agency_api___init__.py.html">
                            __init__.py
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_agency_api_utils.py.html">
                            utils.py
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_agency_api_views.py.html">
                            views.py
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="/NYCOpenDocs/html/app_agency_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_agency_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu5" data-toggle="collapse" aria-expanded="false">
                    auth
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu5">
                <li>
                    <a href="/NYCOpenDocs/html/app_auth_auth.html">
                        About the directory 'auth'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_auth___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="#Submenu6" data-toggle="collapse" aria-expanded="false">
                        constants
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu6">
                    <li>
                        <a href="/NYCOpenDocs/html/app_auth_constants_constants.html">
                            About the directory 'constants'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_auth_constants___init__.py.html">
                            __init__.py
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_auth_constants_error_msg.py.html">
                            error_msg.py
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="/NYCOpenDocs/html/app_auth_forms.py.html">
                        forms.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_auth_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_auth_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="/NYCOpenDocs/html/app_celery_config.py.html">
                    celery_config.py
                </a>
            </li>
            <li>
                <a href="#Submenu7" data-toggle="collapse" aria-expanded="false">
                    constants
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu7">
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_constants.html">
                        About the directory 'constants'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_agency_features.py.html">
                        agency_features.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_bulk_updates.py.html">
                        bulk_updates.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_communication_methods.py.html">
                        communication_methods.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_determination_type.py.html">
                        determination_type.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_event_type.py.html">
                        event_type.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_letter_type.py.html">
                        letter_type.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_pdf.py.html">
                        pdf.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_permission.py.html">
                        permission.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_request_date.py.html">
                        request_date.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_request_status.py.html">
                        request_status.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_response_privacy.py.html">
                        response_privacy.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_response_type.py.html">
                        response_type.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_role_name.py.html">
                        role_name.py
                    </a>
                </li>
                <li>
                    <a href="#Submenu8" data-toggle="collapse" aria-expanded="false">
                        schemas
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu8">
                    <li>
                        <a href="/NYCOpenDocs/html/app_constants_schemas_schemas.html">
                            About the directory 'schemas'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_constants_schemas___init__.py.html">
                            __init__.py
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_submission_methods.py.html">
                        submission_methods.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_user_attrs.py.html">
                        user_attrs.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_user_type_auth.py.html">
                        user_type_auth.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_user_type_request.py.html">
                        user_type_request.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_constants_web_services.py.html">
                        web_services.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="/NYCOpenDocs/html/app_jobs.py.html">
                    jobs.py
                </a>
            </li>
            <li>
                <a href="#Submenu9" data-toggle="collapse" aria-expanded="false">
                    lib
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu9">
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_lib.html">
                        About the directory 'lib'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_date_utils.py.html">
                        date_utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_db_utils.py.html">
                        db_utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_email_utils.py.html">
                        email_utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_file_utils.py.html">
                        file_utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_jinja_filters.py.html">
                        jinja_filters.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_json_schema.py.html">
                        json_schema.py
                    </a>
                </li>
                <li>
                    <a href="#Submenu10" data-toggle="collapse" aria-expanded="false">
                        onelogin
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu10">
                    <li>
                        <a href="/NYCOpenDocs/html/app_lib_onelogin_onelogin.html">
                            About the directory 'onelogin'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_lib_onelogin___init__.py.html">
                            __init__.py
                        </a>
                    </li>
                    <li>
                        <a href="#Submenu11" data-toggle="collapse" aria-expanded="false">
                            saml2
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu11">
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_saml2.html">
                                About the directory 'saml2'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2___init__.py.html">
                                __init__.py
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_auth.py.html">
                                auth.py
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_authn_request.py.html">
                                authn_request.py
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_compat.py.html">
                                compat.py
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_constants.py.html">
                                constants.py
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_errors.py.html">
                                errors.py
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_idp_metadata_parser.py.html">
                                idp_metadata_parser.py
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_logout_request.py.html">
                                logout_request.py
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_logout_response.py.html">
                                logout_response.py
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_metadata.py.html">
                                metadata.py
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_response.py.html">
                                response.py
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_settings.py.html">
                                settings.py
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_utils.py.html">
                                utils.py
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_xml_templates.py.html">
                                xml_templates.py
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_lib_onelogin_saml2_xml_utils.py.html">
                                xml_utils.py
                            </a>
                        </li>
                    </ul>
                </ul>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_pdf.py.html">
                        pdf.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_permission_utils.py.html">
                        permission_utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_redis_utils.py.html">
                        redis_utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_user_information.py.html">
                        user_information.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_lib_utils.py.html">
                        utils.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu12" data-toggle="collapse" aria-expanded="false">
                    main
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu12">
                <li>
                    <a href="/NYCOpenDocs/html/app_main_main.html">
                        About the directory 'main'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_main___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_main_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="/NYCOpenDocs/html/app_models.py.html">
                    models.py
                </a>
            </li>
            <li>
                <a href="#Submenu13" data-toggle="collapse" aria-expanded="false">
                    permissions
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu13">
                <li>
                    <a href="/NYCOpenDocs/html/app_permissions_permissions.html">
                        About the directory 'permissions'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_permissions___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_permissions_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_permissions_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu14" data-toggle="collapse" aria-expanded="false">
                    report
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu14">
                <li>
                    <a href="/NYCOpenDocs/html/app_report_report.html">
                        About the directory 'report'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_report___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_report_forms.py.html">
                        forms.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_report_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_report_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu15" data-toggle="collapse" aria-expanded="false">
                    request
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu15">
                <li>
                    <a href="/NYCOpenDocs/html/app_request_request.html">
                        About the directory 'request'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_request___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="#Submenu16" data-toggle="collapse" aria-expanded="false">
                        api
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu16">
                    <li>
                        <a href="/NYCOpenDocs/html/app_request_api_api.html">
                            About the directory 'api'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_request_api___init__.py.html">
                            __init__.py
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_request_api_utils.py.html">
                            utils.py
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_request_api_views.py.html">
                            views.py
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="/NYCOpenDocs/html/app_request_forms.py.html">
                        forms.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_request_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_request_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu17" data-toggle="collapse" aria-expanded="false">
                    response
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu17">
                <li>
                    <a href="/NYCOpenDocs/html/app_response_response.html">
                        About the directory 'response'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_response___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_response_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_response_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu18" data-toggle="collapse" aria-expanded="false">
                    search
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu18">
                <li>
                    <a href="/NYCOpenDocs/html/app_search_search.html">
                        About the directory 'search'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_search___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_search_constants.py.html">
                        constants.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_search_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_search_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu19" data-toggle="collapse" aria-expanded="false">
                    static
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu19">
                <li>
                    <a href="/NYCOpenDocs/html/app_static_static.html">
                        About the directory 'static'
                    </a>
                </li>
                <li>
                    <a href="#Submenu20" data-toggle="collapse" aria-expanded="false">
                        js
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu20">
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_js_js.html">
                            About the directory 'js'
                        </a>
                    </li>
                    <li>
                        <a href="#Submenu21" data-toggle="collapse" aria-expanded="false">
                            admin
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu21">
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_admin_admin.html">
                                About the directory 'admin'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_admin_main.js.html">
                                main.js
                            </a>
                        </li>
                    </ul>
                    <li>
                        <a href="#Submenu22" data-toggle="collapse" aria-expanded="false">
                            auth
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu22">
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_auth_auth.html">
                                About the directory 'auth'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_auth_manage-account.js.html">
                                manage-account.js
                            </a>
                        </li>
                    </ul>
                    <li>
                        <a href="#Submenu23" data-toggle="collapse" aria-expanded="false">
                            plugins
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu23">
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_plugins.html">
                                About the directory 'plugins'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_Chart.min.js.html">
                                Chart.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_bootstrap-editable.min.js.html">
                                bootstrap-editable.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_bootstrap-session-timeout.min.js.html">
                                bootstrap-session-timeout.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_bootstrap.min.js.html">
                                bootstrap.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery-ui.js.html">
                                jquery-ui.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery-ui.min.css.html">
                                jquery-ui.min.css
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery-ui.min.js.html">
                                jquery-ui.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery.blockUI.js.html">
                                jquery.blockUI.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery.fileupload-process.js.html">
                                jquery.fileupload-process.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery.fileupload-ui.js.html">
                                jquery.fileupload-ui.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery.fileupload-validate.js.html">
                                jquery.fileupload-validate.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery.fileupload.js.html">
                                jquery.fileupload.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery.iframe-transport.js.html">
                                jquery.iframe-transport.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery.js.html">
                                jquery.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery.mask.js.html">
                                jquery.mask.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jquery.timepicker.min.js.html">
                                jquery.timepicker.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_jstz.min.js.html">
                                jstz.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_juniper.js.html">
                                juniper.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_moment.min.js.html">
                                moment.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_parsley.min.js.html">
                                parsley.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_sprintf.min.js.html">
                                sprintf.min.js
                            </a>
                        </li>
                        <li>
                            <a href="#Submenu24" data-toggle="collapse" aria-expanded="false">
                                tinymce
                            </a>
                        </li>
                        <ul class="collapse list-unstyled" id="Submenu24">
                            <li>
                                <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_tinymce.html">
                                    About the directory 'tinymce'
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_jquery.tinymce.min.js.html">
                                    jquery.tinymce.min.js
                                </a>
                            </li>
                            <li>
                                <a href="#Submenu25" data-toggle="collapse" aria-expanded="false">
                                    plugins
                                </a>
                            </li>
                            <ul class="collapse list-unstyled" id="Submenu25">
                                <li>
                                    <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_plugins_plugins.html">
                                        About the directory 'plugins'
                                    </a>
                                </li>
                                <li>
                                    <a href="#Submenu26" data-toggle="collapse" aria-expanded="false">
                                        noneditable
                                    </a>
                                </li>
                                <ul class="collapse list-unstyled" id="Submenu26">
                                    <li>
                                        <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_plugins_noneditable_noneditable.html">
                                            About the directory 'noneditable'
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_plugins_noneditable_plugin.min.js.html">
                                            plugin.min.js
                                        </a>
                                    </li>
                                </ul>
                            </ul>
                            <li>
                                <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_preventdelete.js.html">
                                    preventdelete.js
                                </a>
                            </li>
                            <li>
                                <a href="#Submenu27" data-toggle="collapse" aria-expanded="false">
                                    skins
                                </a>
                            </li>
                            <ul class="collapse list-unstyled" id="Submenu27">
                                <li>
                                    <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_skins_skins.html">
                                        About the directory 'skins'
                                    </a>
                                </li>
                                <li>
                                    <a href="#Submenu28" data-toggle="collapse" aria-expanded="false">
                                        lightgray
                                    </a>
                                </li>
                                <ul class="collapse list-unstyled" id="Submenu28">
                                    <li>
                                        <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_skins_lightgray_lightgray.html">
                                            About the directory 'lightgray'
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_skins_lightgray_content.inline.min.css.html">
                                            content.inline.min.css
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_skins_lightgray_content.min.css.html">
                                            content.min.css
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_skins_lightgray_skin.ie7.min.css.html">
                                            skin.ie7.min.css
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_skins_lightgray_skin.min.css.html">
                                            skin.min.css
                                        </a>
                                    </li>
                                </ul>
                            </ul>
                            <li>
                                <a href="#Submenu29" data-toggle="collapse" aria-expanded="false">
                                    themes
                                </a>
                            </li>
                            <ul class="collapse list-unstyled" id="Submenu29">
                                <li>
                                    <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_themes_themes.html">
                                        About the directory 'themes'
                                    </a>
                                </li>
                                <li>
                                    <a href="#Submenu30" data-toggle="collapse" aria-expanded="false">
                                        inlite
                                    </a>
                                </li>
                                <ul class="collapse list-unstyled" id="Submenu30">
                                    <li>
                                        <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_themes_inlite_inlite.html">
                                            About the directory 'inlite'
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_themes_inlite_theme.min.js.html">
                                            theme.min.js
                                        </a>
                                    </li>
                                </ul>
                                <li>
                                    <a href="#Submenu31" data-toggle="collapse" aria-expanded="false">
                                        modern
                                    </a>
                                </li>
                                <ul class="collapse list-unstyled" id="Submenu31">
                                    <li>
                                        <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_themes_modern_modern.html">
                                            About the directory 'modern'
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_themes_modern_theme.min.js.html">
                                            theme.min.js
                                        </a>
                                    </li>
                                </ul>
                            </ul>
                            <li>
                                <a href="/NYCOpenDocs/html/app_static_js_plugins_tinymce_tinymce.min.js.html">
                                    tinymce.min.js
                                </a>
                            </li>
                        </ul>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_tmpl.min.js.html">
                                tmpl.min.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_plugins_tota11y.min.js.html">
                                tota11y.min.js
                            </a>
                        </li>
                    </ul>
                    <li>
                        <a href="#Submenu32" data-toggle="collapse" aria-expanded="false">
                            request
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu32">
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_request.html">
                                About the directory 'request'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_action-buttons-mobile-toggle.js.html">
                                action-buttons-mobile-toggle.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_character-count.js.html">
                                character-count.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_contact.js.html">
                                contact.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_edit_requester_info.js.html">
                                edit_requester_info.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_faq.js.html">
                                faq.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_main.js.html">
                                main.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_new-request-agency.js.html">
                                new-request-agency.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_new-request-anon.js.html">
                                new-request-anon.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_new-request-user.js.html">
                                new-request-user.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_search.js.html">
                                search.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_view-request-contact.js.html">
                                view-request-contact.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_view-request-history.js.html">
                                view-request-history.js
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_request_view-request-responses.js.html">
                                view-request-responses.js
                            </a>
                        </li>
                    </ul>
                    <li>
                        <a href="#Submenu33" data-toggle="collapse" aria-expanded="false">
                            upload
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu33">
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_upload_upload.html">
                                About the directory 'upload'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_upload_fileupload.js.html">
                                fileupload.js
                            </a>
                        </li>
                    </ul>
                    <li>
                        <a href="#Submenu34" data-toggle="collapse" aria-expanded="false">
                            validation
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu34">
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_validation_validation.html">
                                About the directory 'validation'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_js_validation_custom_validators.js.html">
                                custom_validators.js
                            </a>
                        </li>
                    </ul>
                </ul>
                <li>
                    <a href="#Submenu35" data-toggle="collapse" aria-expanded="false">
                        styles
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu35">
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_styles.html">
                            About the directory 'styles'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_about.css.html">
                            about.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_add_acknowledgment.css.html">
                            add_acknowledgment.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_add_closing.css.html">
                            add_closing.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_add_denial.css.html">
                            add_denial.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_add_extension.css.html">
                            add_extension.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_add_file.css.html">
                            add_file.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_add_instruction.css.html">
                            add_instruction.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_add_link.css.html">
                            add_link.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_add_note.css.html">
                            add_note.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_admin.css.html">
                            admin.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_base.css.html">
                            base.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_faq.css.html">
                            faq.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_home.css.html">
                            home.css
                        </a>
                    </li>
                    <li>
                        <a href="#Submenu36" data-toggle="collapse" aria-expanded="false">
                            new_request
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu36">
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_styles_new_request_new_request.html">
                                About the directory 'new_request'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_styles_new_request_new-request.css.html">
                                new-request.css
                            </a>
                        </li>
                    </ul>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_nyc_gov.css.html">
                            nyc_gov.css
                        </a>
                    </li>
                    <li>
                        <a href="#Submenu37" data-toggle="collapse" aria-expanded="false">
                            plugins
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu37">
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_styles_plugins_plugins.html">
                                About the directory 'plugins'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_styles_plugins_bootstrap-editable.css.html">
                                bootstrap-editable.css
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_styles_plugins_bootstrap-theme.css.html">
                                bootstrap-theme.css
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_styles_plugins_bootstrap.min.css.html">
                                bootstrap.min.css
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_styles_plugins_jquery-ui.css.html">
                                jquery-ui.css
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_styles_plugins_jquery.fileupload-noscript.css.html">
                                jquery.fileupload-noscript.css
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_styles_plugins_jquery.fileupload-ui-noscript.css.html">
                                jquery.fileupload-ui-noscript.css
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_styles_plugins_jquery.fileupload-ui.css.html">
                                jquery.fileupload-ui.css
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_styles_plugins_jquery.fileupload.css.html">
                                jquery.fileupload.css
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_styles_plugins_jquery.timepicker.min.css.html">
                                jquery.timepicker.min.css
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_styles_plugins_juniper.css.html">
                                juniper.css
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_static_styles_plugins_parsley.css.html">
                                parsley.css
                            </a>
                        </li>
                    </ul>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_reports.css.html">
                            reports.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_request_info.css.html">
                            request_info.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_status.css.html">
                            status.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_styles.css.html">
                            styles.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_view_all.css.html">
                            view_all.css
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_static_styles_view_request.css.html">
                            view_request.css
                        </a>
                    </li>
                </ul>
            </ul>
            <li>
                <a href="#Submenu38" data-toggle="collapse" aria-expanded="false">
                    templates
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu38">
                <li>
                    <a href="/NYCOpenDocs/html/app_templates_templates.html">
                        About the directory 'templates'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_templates__nyc_gov_footer.html.html">
                        _nyc_gov_footer.html
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_templates__nyc_gov_header.html.html">
                        _nyc_gov_header.html
                    </a>
                </li>
                <li>
                    <a href="#Submenu39" data-toggle="collapse" aria-expanded="false">
                        admin
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu39">
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_admin_admin.html">
                            About the directory 'admin'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_admin_main.html.html">
                            main.html
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="#Submenu40" data-toggle="collapse" aria-expanded="false">
                        auth
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu40">
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_auth_auth.html">
                            About the directory 'auth'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_auth_concurrent_session_modal.html.html">
                            concurrent_session_modal.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_auth_ldap_login_form.html.html">
                            ldap_login_form.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_auth_local_login_form.html.html">
                            local_login_form.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_auth_login_processing_modal.html.html">
                            login_processing_modal.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_auth_manage_account.html.html">
                            manage_account.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_auth_session_timeout_modal.html.html">
                            session_timeout_modal.html
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="/NYCOpenDocs/html/app_templates_base.html.html">
                        base.html
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_templates_base.js.html.html">
                        base.js.html
                    </a>
                </li>
                <li>
                    <a href="#Submenu41" data-toggle="collapse" aria-expanded="false">
                        custom_request_form_templates
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu41">
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_custom_request_form_templates_custom_request_form_templates.html">
                            About the directory 'custom_request_form_templates'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_custom_request_form_templates_date_template.html.html">
                            date_template.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_custom_request_form_templates_form_description_template.html.html">
                            form_description_template.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_custom_request_form_templates_input_template.html.html">
                            input_template.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_custom_request_form_templates_radio_template.html.html">
                            radio_template.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_custom_request_form_templates_select_dropdown_template.html.html">
                            select_dropdown_template.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_custom_request_form_templates_select_multiple_template.html.html">
                            select_multiple_template.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_custom_request_form_templates_textarea_template.html.html">
                            textarea_template.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_custom_request_form_templates_time_template.html.html">
                            time_template.html
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="#Submenu42" data-toggle="collapse" aria-expanded="false">
                        email_templates
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu42">
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_templates.html">
                            About the directory 'email_templates'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates__email_response_determinations_list.html.html">
                            _email_response_determinations_list.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_edit_response_file_links.html.html">
                            edit_response_file_links.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_agency_report_generated.html.html">
                            email_agency_report_generated.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_agency_user_deactivated.html.html">
                            email_agency_user_deactivated.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_confirmation.html.html">
                            email_confirmation.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_edit_file.html.html">
                            email_edit_file.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_edit_private_response.html.html">
                            email_edit_private_response.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_edit_response.html.html">
                            email_edit_response.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_event_acknowledgment_letter_created.html.html">
                            email_event_acknowledgment_letter_created.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_event_closing_letter_created.html.html">
                            email_event_closing_letter_created.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_event_denial_letter_created.html.html">
                            email_event_denial_letter_created.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_event_envelope_created.html.html">
                            email_event_envelope_created.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_event_extension_letter_created.html.html">
                            email_event_extension_letter_created.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_event_reopening_letter_created.html.html">
                            email_event_reopening_letter_created.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_event_response_letter_created.html.html">
                            email_event_response_letter_created.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_footer.html.html">
                            email_footer.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_not_onboarded.html.html">
                            email_not_onboarded.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_private_file_upload.html.html">
                            email_private_file_upload.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_request_status_changed.html.html">
                            email_request_status_changed.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_response.html.html">
                            email_response.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_response_acknowledgment.html.html">
                            email_response_acknowledgment.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_response_closing.html.html">
                            email_response_closing.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_response_deleted.html.html">
                            email_response_deleted.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_response_denial.html.html">
                            email_response_denial.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_response_extension.html.html">
                            email_response_extension.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_response_file.html.html">
                            email_response_file.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_response_instruction.html.html">
                            email_response_instruction.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_response_link.html.html">
                            email_response_link.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_response_note.html.html">
                            email_response_note.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_response_reopening.html.html">
                            email_response_reopening.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_user_made_agency_admin.html.html">
                            email_user_made_agency_admin.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_user_removed_agency_admin.html.html">
                            email_user_removed_agency_admin.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_user_request_added.html.html">
                            email_user_request_added.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_user_request_edited.html.html">
                            email_user_request_edited.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_email_user_request_removed.html.html">
                            email_user_request_removed.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_email_templates_response_file_links.html.html">
                            response_file_links.html
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="#Submenu43" data-toggle="collapse" aria-expanded="false">
                        error
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu43">
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_error_error.html">
                            About the directory 'error'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_error_generic.html.html">
                            generic.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_error_maintenance.html.html">
                            maintenance.html
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="#Submenu44" data-toggle="collapse" aria-expanded="false">
                        letters
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu44">
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_letters_letters.html">
                            About the directory 'letters'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_letters_base.html.html">
                            base.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_letters_letterhead_sample.html.html">
                            letterhead_sample.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_letters_signature_sample.html.html">
                            signature_sample.html
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="#Submenu45" data-toggle="collapse" aria-expanded="false">
                        main
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu45">
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_main_main.html">
                            About the directory 'main'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_main_about.html.html">
                            about.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_main_contact.html.html">
                            contact.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_main_faq.html.html">
                            faq.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_main_home.html.html">
                            home.html
                        </a>
                    </li>
                    <li>
                        <a href="#Submenu46" data-toggle="collapse" aria-expanded="false">
                            test
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu46">
                        <li>
                            <a href="/NYCOpenDocs/html/app_templates_main_test_test.html">
                                About the directory 'test'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_templates_main_test_email.html.html">
                                email.html
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_templates_main_test_user_list.html.html">
                                user_list.html
                            </a>
                        </li>
                    </ul>
                </ul>
                <li>
                    <a href="/NYCOpenDocs/html/app_templates_navbar.html.html">
                        navbar.html
                    </a>
                </li>
                <li>
                    <a href="#Submenu47" data-toggle="collapse" aria-expanded="false">
                        report
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu47">
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_report_report.html">
                            About the directory 'report'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_report_reports.html.html">
                            reports.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_report_reports.js.html.html">
                            reports.js.html
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="#Submenu48" data-toggle="collapse" aria-expanded="false">
                        request
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu48">
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_request.html">
                            About the directory 'request'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request__agency_search_form.html.html">
                            _agency_search_form.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request__edit_requester_info.html.html">
                            _edit_requester_info.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request__public_search_form.html.html">
                            _public_search_form.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request__view_request_contact_modal.html.html">
                            _view_request_contact_modal.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request__view_request_edit_visibility.js.html.html">
                            _view_request_edit_visibility.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request__view_request_history.html.html">
                            _view_request_history.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request__view_request_info.html.html">
                            _view_request_info.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request__view_request_info_x-editable.js.html.html">
                            _view_request_info_x-editable.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request__view_request_responses.html.html">
                            _view_request_responses.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_all.html.html">
                            all.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_confirmation_email.html.html">
                            confirmation_email.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_confirmation_non_email.html.html">
                            confirmation_non_email.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_edit_requester_info.js.html.html">
                            edit_requester_info.js.html
                        </a>
                    </li>
                    <li>
                        <a href="#Submenu49" data-toggle="collapse" aria-expanded="false">
                            events
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu49">
                        <li>
                            <a href="/NYCOpenDocs/html/app_templates_request_events_events.html">
                                About the directory 'events'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_templates_request_events_modal.html.html">
                                modal.html
                            </a>
                        </li>
                        <li>
                            <a href="#Submenu50" data-toggle="collapse" aria-expanded="false">
                                modal_body
                            </a>
                        </li>
                        <ul class="collapse list-unstyled" id="Submenu50">
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_events_modal_body_modal_body.html">
                                    About the directory 'modal_body'
                                </a>
                            </li>
                            <li>
                                <a href="#Submenu51" data-toggle="collapse" aria-expanded="false">
                                    base
                                </a>
                            </li>
                            <ul class="collapse list-unstyled" id="Submenu51">
                                <li>
                                    <a href="/NYCOpenDocs/html/app_templates_request_events_modal_body_base_base.html">
                                        About the directory 'base'
                                    </a>
                                </li>
                                <li>
                                    <a href="/NYCOpenDocs/html/app_templates_request_events_modal_body_base_heading.html.html">
                                        heading.html
                                    </a>
                                </li>
                                <li>
                                    <a href="/NYCOpenDocs/html/app_templates_request_events_modal_body_base_privacy_change.html.html">
                                        privacy_change.html
                                    </a>
                                </li>
                            </ul>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_events_modal_body_file_edited.html.html">
                                    file_edited.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_events_modal_body_instructions_edited.html.html">
                                    instructions_edited.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_events_modal_body_link_edited.html.html">
                                    link_edited.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_events_modal_body_note_edited.html.html">
                                    note_edited.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_events_modal_body_request_agency_request_summary_edited.html.html">
                                    request_agency_request_summary_edited.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_events_modal_body_request_agency_request_summary_privacy_edited.html.html">
                                    request_agency_request_summary_privacy_edited.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_events_modal_body_request_title_edited.html.html">
                                    request_title_edited.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_events_modal_body_request_title_privacy_edited.html.html">
                                    request_title_privacy_edited.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_events_modal_body_requester_information_edited.html.html">
                                    requester_information_edited.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_events_modal_body_user_permissions_changed.html.html">
                                    user_permissions_changed.html
                                </a>
                            </li>
                        </ul>
                        <li>
                            <a href="/NYCOpenDocs/html/app_templates_request_events_row.html.html">
                                row.html
                            </a>
                        </li>
                    </ul>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_fileupload_add_file.js.html.html">
                            fileupload_add_file.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_fileupload_update_templates.js.html.html">
                            fileupload_update_templates.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_new_request_agency.html.html">
                            new_request_agency.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_new_request_anon.html.html">
                            new_request_anon.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_new_request_user.html.html">
                            new_request_user.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_non_partner_request.html.html">
                            non_partner_request.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_non_portal_agency_message.html.html">
                            non_portal_agency_message.html
                        </a>
                    </li>
                    <li>
                        <a href="#Submenu52" data-toggle="collapse" aria-expanded="false">
                            responses
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu52">
                        <li>
                            <a href="/NYCOpenDocs/html/app_templates_request_responses_responses.html">
                                About the directory 'responses'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/app_templates_request_responses_modal.html.html">
                                modal.html
                            </a>
                        </li>
                        <li>
                            <a href="#Submenu53" data-toggle="collapse" aria-expanded="false">
                                modal_body
                            </a>
                        </li>
                        <ul class="collapse list-unstyled" id="Submenu53">
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_responses_modal_body_modal_body.html">
                                    About the directory 'modal_body'
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_responses_modal_body_determinations.html.html">
                                    determinations.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_responses_modal_body_emails.html.html">
                                    emails.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_responses_modal_body_envelopes.html.html">
                                    envelopes.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_responses_modal_body_files.html.html">
                                    files.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_responses_modal_body_instructions.html.html">
                                    instructions.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_responses_modal_body_letters.html.html">
                                    letters.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_responses_modal_body_links.html.html">
                                    links.html
                                </a>
                            </li>
                            <li>
                                <a href="/NYCOpenDocs/html/app_templates_request_responses_modal_body_notes.html.html">
                                    notes.html
                                </a>
                            </li>
                        </ul>
                        <li>
                            <a href="/NYCOpenDocs/html/app_templates_request_responses_row.html.html">
                                row.html
                            </a>
                        </li>
                    </ul>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_result_row.html.html">
                            result_row.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_status.html.html">
                            status.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_view_request.html.html">
                            view_request.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_request_view_request.js.html.html">
                            view_request.js.html
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="#Submenu54" data-toggle="collapse" aria-expanded="false">
                        response
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu54">
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_response.html">
                            About the directory 'response'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_acknowledgment.html.html">
                            add_acknowledgment.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_acknowledgment.js.html.html">
                            add_acknowledgment.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_closing.html.html">
                            add_closing.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_closing.js.html.html">
                            add_closing.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_denial.html.html">
                            add_denial.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_denial.js.html.html">
                            add_denial.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_extension.html.html">
                            add_extension.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_extension.js.html.html">
                            add_extension.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_file.html.html">
                            add_file.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_file.js.html.html">
                            add_file.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_instruction.html.html">
                            add_instruction.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_instruction.js.html.html">
                            add_instruction.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_link.html.html">
                            add_link.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_link.js.html.html">
                            add_link.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_note.html.html">
                            add_note.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_note.js.html.html">
                            add_note.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_reopening.html.html">
                            add_reopening.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_reopening.js.html.html">
                            add_reopening.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_user_request.html.html">
                            add_user_request.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_add_user_request.js.html.html">
                            add_user_request.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_edit_user_request.html.html">
                            edit_user_request.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_edit_user_request.js.html.html">
                            edit_user_request.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_generate_envelope.html.html">
                            generate_envelope.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_generate_envelope.js.html.html">
                            generate_envelope.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_generate_letter.html.html">
                            generate_letter.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_generate_letter.js.html.html">
                            generate_letter.js.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_remove_user_request.html.html">
                            remove_user_request.html
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_templates_response_remove_user_request.js.html.html">
                            remove_user_request.js.html
                        </a>
                    </li>
                </ul>
            </ul>
            <li>
                <a href="#Submenu55" data-toggle="collapse" aria-expanded="false">
                    upload
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu55">
                <li>
                    <a href="/NYCOpenDocs/html/app_upload_upload.html">
                        About the directory 'upload'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_upload___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="#Submenu56" data-toggle="collapse" aria-expanded="false">
                        constants
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu56">
                    <li>
                        <a href="/NYCOpenDocs/html/app_upload_constants_constants.html">
                            About the directory 'constants'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_upload_constants___init__.py.html">
                            __init__.py
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/app_upload_constants_upload_status.py.html">
                            upload_status.py
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="/NYCOpenDocs/html/app_upload_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_upload_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu57" data-toggle="collapse" aria-expanded="false">
                    user
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu57">
                <li>
                    <a href="/NYCOpenDocs/html/app_user_user.html">
                        About the directory 'user'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_user___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_user_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_user_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu58" data-toggle="collapse" aria-expanded="false">
                    user_request
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu58">
                <li>
                    <a href="/NYCOpenDocs/html/app_user_request_user_request.html">
                        About the directory 'user_request'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_user_request___init__.py.html">
                        __init__.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_user_request_forms.py.html">
                        forms.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_user_request_utils.py.html">
                        utils.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/app_user_request_views.py.html">
                        views.py
                    </a>
                </li>
            </ul>
        </ul>
        <li>
            <a href="#Submenu59" data-toggle="collapse" aria-expanded="false">
                build_scripts
            </a>
        </li>
        <ul class="collapse list-unstyled" id="Submenu59">
            <li>
                <a href="/NYCOpenDocs/html/build_scripts_build_scripts.html">
                    About the directory 'build_scripts'
                </a>
            </li>
            <li>
                <a href="#Submenu60" data-toggle="collapse" aria-expanded="false">
                    app_setup
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu60">
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_app_setup_app_setup.html">
                        About the directory 'app_setup'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_app_setup_app_setup.sh.html">
                        app_setup.sh
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_app_setup_setup_virtualenv.sh.html">
                        setup_virtualenv.sh
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu61" data-toggle="collapse" aria-expanded="false">
                    consul-vault_setup
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu61">
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_consul-vault_setup_consul-vault_setup.html">
                        About the directory 'consul-vault_setup'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_consul-vault_setup_consul_setup.sh.html">
                        consul_setup.sh
                    </a>
                </li>
                <li>
                    <a href="#Submenu62" data-toggle="collapse" aria-expanded="false">
                        nginx
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu62">
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_consul-vault_setup_nginx_nginx.html">
                            About the directory 'nginx'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_consul-vault_setup_nginx_nginx_setup.sh.html">
                            nginx_setup.sh
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_consul-vault_setup_vault_setup.sh.html">
                        vault_setup.sh
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu63" data-toggle="collapse" aria-expanded="false">
                    db_setup
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu63">
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_db_setup_db_setup.html">
                        About the directory 'db_setup'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_db_setup_backup.py.html">
                        backup.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_db_setup_backup.sh.html">
                        backup.sh
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_db_setup_db_setup.sh.html">
                        db_setup.sh
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_db_setup_postgres.sh.html">
                        postgres.sh
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu64" data-toggle="collapse" aria-expanded="false">
                    default
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu64">
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_default_default.html">
                        About the directory 'default'
                    </a>
                </li>
                <li>
                    <a href="#Submenu65" data-toggle="collapse" aria-expanded="false">
                        nginx_conf
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu65">
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_default_nginx_conf_nginx_conf.html">
                            About the directory 'nginx_conf'
                        </a>
                    </li>
                    <li>
                        <a href="#Submenu66" data-toggle="collapse" aria-expanded="false">
                            sites
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu66">
                        <li>
                            <a href="/NYCOpenDocs/html/build_scripts_default_nginx_conf_sites_sites.html">
                                About the directory 'sites'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/build_scripts_default_nginx_conf_sites_error.html.html">
                                error.html
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/build_scripts_default_nginx_conf_sites_maintenance.html.html">
                                maintenance.html
                            </a>
                        </li>
                    </ul>
                </ul>
            </ul>
            <li>
                <a href="#Submenu67" data-toggle="collapse" aria-expanded="false">
                    elk_setup
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu67">
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_elk_setup_elk_setup.html">
                        About the directory 'elk_setup'
                    </a>
                </li>
                <li>
                    <a href="#Submenu68" data-toggle="collapse" aria-expanded="false">
                        elasticsearch
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu68">
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_elasticsearch_elasticsearch.html">
                            About the directory 'elasticsearch'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_elasticsearch_elasticsearch.yml.html">
                            elasticsearch.yml
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_elasticsearch_setup.sh.html">
                            setup.sh
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="#Submenu69" data-toggle="collapse" aria-expanded="false">
                        kibana
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu69">
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_kibana_kibana.html">
                            About the directory 'kibana'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_kibana_kibana.yml.html">
                            kibana.yml
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_kibana_setup.sh.html">
                            setup.sh
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="#Submenu70" data-toggle="collapse" aria-expanded="false">
                        logstash
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu70">
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_logstash_logstash.html">
                            About the directory 'logstash'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_logstash_logstash.yml.html">
                            logstash.yml
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_logstash_setup.sh.html">
                            setup.sh
                        </a>
                    </li>
                </ul>
                <li>
                    <a href="#Submenu71" data-toggle="collapse" aria-expanded="false">
                        nginx
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu71">
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_nginx_nginx.html">
                            About the directory 'nginx'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_elk_setup_nginx_setup.sh.html">
                            setup.sh
                        </a>
                    </li>
                </ul>
            </ul>
            <li>
                <a href="#Submenu72" data-toggle="collapse" aria-expanded="false">
                    es_setup
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu72">
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_es_setup_es_setup.html">
                        About the directory 'es_setup'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_es_setup_elasticsearch.yml.html">
                        elasticsearch.yml
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_es_setup_es_setup.sh.html">
                        es_setup.sh
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu73" data-toggle="collapse" aria-expanded="false">
                    filebeat_setup
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu73">
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_filebeat_setup_filebeat_setup.html">
                        About the directory 'filebeat_setup'
                    </a>
                </li>
                <li>
                    <a href="#Submenu74" data-toggle="collapse" aria-expanded="false">
                        app_nginx
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu74">
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_filebeat_setup_app_nginx_app_nginx.html">
                            About the directory 'app_nginx'
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_filebeat_setup_app_nginx_filebeat.yml.html">
                            filebeat.yml
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_filebeat_setup_app_nginx_install.sh.html">
                            install.sh
                        </a>
                    </li>
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_filebeat_setup_app_nginx_setup.sh.html">
                            setup.sh
                        </a>
                    </li>
                </ul>
            </ul>
            <li>
                <a href="/NYCOpenDocs/html/build_scripts_proxy.sh.html">
                    proxy.sh
                </a>
            </li>
            <li>
                <a href="#Submenu75" data-toggle="collapse" aria-expanded="false">
                    sentry_setup
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu75">
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_sentry_setup_sentry_setup.html">
                        About the directory 'sentry_setup'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_sentry_setup_config.yml.html">
                        config.yml
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_sentry_setup_db_setup_config.sh.html">
                        db_setup_config.sh
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_sentry_setup_db_setup_install.sh.html">
                        db_setup_install.sh
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_sentry_setup_nginx_setup.sh.html">
                        nginx_setup.sh
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_sentry_setup_sentry.conf.py.html">
                        sentry.conf.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_sentry_setup_setup.sh.html">
                        setup.sh
                    </a>
                </li>
            </ul>
            <li>
                <a href="/NYCOpenDocs/html/build_scripts_subscription_manager.sh.html">
                    subscription_manager.sh
                </a>
            </li>
            <li>
                <a href="#Submenu76" data-toggle="collapse" aria-expanded="false">
                    web_setup
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu76">
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_web_setup_web_setup.html">
                        About the directory 'web_setup'
                    </a>
                </li>
                <li>
                    <a href="#Submenu77" data-toggle="collapse" aria-expanded="false">
                        nginx_conf
                    </a>
                </li>
                <ul class="collapse list-unstyled" id="Submenu77">
                    <li>
                        <a href="/NYCOpenDocs/html/build_scripts_web_setup_nginx_conf_nginx_conf.html">
                            About the directory 'nginx_conf'
                        </a>
                    </li>
                    <li>
                        <a href="#Submenu78" data-toggle="collapse" aria-expanded="false">
                            sites
                        </a>
                    </li>
                    <ul class="collapse list-unstyled" id="Submenu78">
                        <li>
                            <a href="/NYCOpenDocs/html/build_scripts_web_setup_nginx_conf_sites_sites.html">
                                About the directory 'sites'
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/build_scripts_web_setup_nginx_conf_sites_error.html.html">
                                error.html
                            </a>
                        </li>
                        <li>
                            <a href="/NYCOpenDocs/html/build_scripts_web_setup_nginx_conf_sites_maintenance.html.html">
                                maintenance.html
                            </a>
                        </li>
                    </ul>
                </ul>
                <li>
                    <a href="/NYCOpenDocs/html/build_scripts_web_setup_web_setup.sh.html">
                        web_setup.sh
                    </a>
                </li>
            </ul>
        </ul>
        <li>
            <a href="/NYCOpenDocs/html/celery_worker.py.html">
                celery_worker.py
            </a>
        </li>
        <li>
            <a href="/NYCOpenDocs/html/config.py.html">
                config.py
            </a>
        </li>
        <li>
            <a href="/NYCOpenDocs/html/gunicorn_config.py.html">
                gunicorn_config.py
            </a>
        </li>
        <li>
            <a href="/NYCOpenDocs/html/lgtm.yml.html">
                lgtm.yml
            </a>
        </li>
        <li>
            <a href="#Submenu79" data-toggle="collapse" aria-expanded="false">
                migrations
            </a>
        </li>
        <ul class="collapse list-unstyled" id="Submenu79">
            <li>
                <a href="/NYCOpenDocs/html/migrations_migrations.html">
                    About the directory 'migrations'
                </a>
            </li>
            <li>
                <a href="#Submenu80" data-toggle="collapse" aria-expanded="false">
                    custom
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu80">
                <li>
                    <a href="/NYCOpenDocs/html/migrations_custom_custom.html">
                        About the directory 'custom'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_custom_openrecords_v1.py.html">
                        openrecords_v1.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="/NYCOpenDocs/html/migrations_env.py.html">
                    env.py
                </a>
            </li>
            <li>
                <a href="#Submenu81" data-toggle="collapse" aria-expanded="false">
                    versions
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu81">
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_versions.html">
                        About the directory 'versions'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_13de5f42768b_add_session_id_to_users_table.py.html">
                        13de5f42768b_add_session_id_to_users_table.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_1920035b3a1f_140_character_limit_file_title.py.html">
                        1920035b3a1f_140_character_limit_file_title.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_22b97712d5db_add_letters_and_envelopes_to_type_enum.py.html">
                        22b97712d5db_add_letters_and_envelopes_to_type_enum.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_24e110b4489b_drop_users_agency_ein_column.py.html">
                        24e110b4489b_drop_users_agency_ein_column.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_32dec7b290bb_added_is_editable_to_responses_table.py.html">
                        32dec7b290bb_added_is_editable_to_responses_table.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_445e50628f6b_add_communication_methods.py.html">
                        445e50628f6b_add_communication_methods.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_52a4062502bb_adding_agencyusers.py.html">
                        52a4062502bb_adding_agencyusers.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_58a5abdd94ac_added_agency_acronym_to_db.py.html">
                        58a5abdd94ac_added_agency_acronym_to_db.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_60116f094400_increase_length_of_file_title_to_250_.py.html">
                        60116f094400_increase_length_of_file_title_to_250_.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_6ab8af7a1347_removing_response_token_expiration_date.py.html">
                        6ab8af7a1347_removing_response_token_expiration_date.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_7ba6fbb131bb_add_signature_to_users.py.html">
                        7ba6fbb131bb_add_signature_to_users.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_7e0434686370_added_custom_request_forms_table.py.html">
                        7e0434686370_added_custom_request_forms_table.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_838a6ad16cf4_remove_auth_user_type_from_users.py.html">
                        838a6ad16cf4_remove_auth_user_type_from_users.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_85068c55138a_added_notification_email.py.html">
                        85068c55138a_added_notification_email.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_8797e9a71f62_user_requests_events_on_update_cascade.py.html">
                        8797e9a71f62_user_requests_events_on_update_cascade.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_89d3f2e347f1_use_nyc_id_v2_0.py.html">
                        89d3f2e347f1_use_nyc_id_v2_0.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_9005ab594598_add_lettertemplates.py.html">
                        9005ab594598_add_lettertemplates.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_949aebe9e480_letters_table.py.html">
                        949aebe9e480_letters_table.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_971f341c0204_adding_agency_features_json_column_to_.py.html">
                        971f341c0204_adding_agency_features_json_column_to_.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_9908a9bf1dbd_json_to_jsonb.py.html">
                        9908a9bf1dbd_json_to_jsonb.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_a2547b706641_initial_migration.py.html">
                        a2547b706641_initial_migration.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_a3d80d04b0f1_add_date_closed_to_requests_table.py.html">
                        a3d80d04b0f1_add_date_closed_to_requests_table.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_aeb1852855b4_add_appealable_option_to_reasons.py.html">
                        aeb1852855b4_add_appealable_option_to_reasons.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_b12d4ba1cfd4_add_primary_keys_to_users_user_requests_.py.html">
                        b12d4ba1cfd4_add_primary_keys_to_users_user_requests_.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_b3c0c76ac2e6_add_envelope_functionality.py.html">
                        b3c0c76ac2e6_add_envelope_functionality.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_b722969f38a6_added_minimum_required_to_custom_.py.html">
                        b722969f38a6_added_minimum_required_to_custom_.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_c7f05adcf7d9_added_point_of_contact.py.html">
                        c7f05adcf7d9_added_point_of_contact.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_cf62ec87d973_agency_description_to_agency_request_.py.html">
                        cf62ec87d973_agency_description_to_agency_request_.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_dc926c74551d_added_category_to_custom_request_forms.py.html">
                        dc926c74551d_added_category_to_custom_request_forms.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/migrations_versions_ebeb3491636e_add_re-opening_to_reasons_enum.py.html">
                        ebeb3491636e_add_re-opening_to_reasons_enum.py
                    </a>
                </li>
            </ul>
        </ul>
        <li>
            <a href="/NYCOpenDocs/html/openrecords.py.html">
                openrecords.py
            </a>
        </li>
        <li>
            <a href="/NYCOpenDocs/html/setup.sh.html">
                setup.sh
            </a>
        </li>
        <li>
            <a href="#Submenu82" data-toggle="collapse" aria-expanded="false">
                tests
            </a>
        </li>
        <ul class="collapse list-unstyled" id="Submenu82">
            <li>
                <a href="/NYCOpenDocs/html/tests_tests.html">
                    About the directory 'tests'
                </a>
            </li>
            <li>
                <a href="/NYCOpenDocs/html/tests___init__.py.html">
                    __init__.py
                </a>
            </li>
            <li>
                <a href="/NYCOpenDocs/html/tests_conftest.py.html">
                    conftest.py
                </a>
            </li>
            <li>
                <a href="#Submenu83" data-toggle="collapse" aria-expanded="false">
                    functional
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu83">
                <li>
                    <a href="/NYCOpenDocs/html/tests_functional_functional.html">
                        About the directory 'functional'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/tests_functional_test_main.py.html">
                        test_main.py
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/tests_functional_test_requests.py.html">
                        test_requests.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu84" data-toggle="collapse" aria-expanded="false">
                    helpers
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu84">
                <li>
                    <a href="/NYCOpenDocs/html/tests_helpers_helpers.html">
                        About the directory 'helpers'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/tests_helpers_utils.py.html">
                        utils.py
                    </a>
                </li>
            </ul>
            <li>
                <a href="#Submenu85" data-toggle="collapse" aria-expanded="false">
                    unit
                </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu85">
                <li>
                    <a href="/NYCOpenDocs/html/tests_unit_unit.html">
                        About the directory 'unit'
                    </a>
                </li>
                <li>
                    <a href="/NYCOpenDocs/html/tests_unit_test_factory.py.html">
                        test_factory.py
                    </a>
                </li>
            </ul>
        </ul>
        <li>
            <a href="/NYCOpenDocs/html/update_definitions.sh.html">
                update_definitions.sh
            </a>
        </li>
    </ul>
</nav>
            <div id="content">
                <figure>
                    <img
                    src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/58/Brooklyn_Skyline_%289910358874%29.jpg/3600px-Brooklyn_Skyline_%289910358874%29.jpg"
                    width="32%">
                    <figcaption>
                    </figcaption>
                </figure>
                <h1>
                    response.py
                </h1>

                <details>
                    <summary class="sum1">
                    About this file
                    </summary>

                    <p>
<!-- Include the text material here! -->
<p>We attempted to read from templates/app_lib_onelogin_saml2_response.py_hw.txt but failed.</p>
                    </p>
                </details>

                <details>
                    <summary class="sum1">
                    Code Check Report
                    </summary>

                    <p>
                        <pre>
<!-- Include the linting report here! -->
app/lib/onelogin/saml2/response.py:14:121: E501 line too long (142 > 120 characters)
app/lib/onelogin/saml2/response.py:105:121: E501 line too long (135 > 120 characters)
app/lib/onelogin/saml2/response.py:114:121: E501 line too long (149 > 120 characters)
app/lib/onelogin/saml2/response.py:129:121: E501 line too long (160 > 120 characters)
app/lib/onelogin/saml2/response.py:167:121: E501 line too long (128 > 120 characters)
app/lib/onelogin/saml2/response.py:172:121: E501 line too long (152 > 120 characters)
app/lib/onelogin/saml2/response.py:233:121: E501 line too long (131 > 120 characters)
app/lib/onelogin/saml2/response.py:303:121: E501 line too long (131 > 120 characters)
app/lib/onelogin/saml2/response.py:307:121: E501 line too long (232 > 120 characters)
app/lib/onelogin/saml2/response.py:314:121: E501 line too long (245 > 120 characters)
app/lib/onelogin/saml2/response.py:378:121: E501 line too long (134 > 120 characters)
app/lib/onelogin/saml2/response.py:512:121: E501 line too long (122 > 120 characters)
app/lib/onelogin/saml2/response.py:683:121: E501 line too long (125 > 120 characters)
app/lib/onelogin/saml2/response.py:713:121: E501 line too long (152 > 120 characters)
app/lib/onelogin/saml2/response.py:718:121: E501 line too long (157 > 120 characters)
app/lib/onelogin/saml2/response.py:794:121: E501 line too long (137 > 120 characters)
app/lib/onelogin/saml2/response.py:796:121: E501 line too long (139 > 120 characters)
app/lib/onelogin/saml2/response.py:820:121: E501 line too long (136 > 120 characters)
                        </pre>
                   </p>
                </details>

                <details>
                    <summary class="sum1">
                    Documentation drawn from source code 
                    </summary>

                    <p>
<!-- Include the documentation here! -->

&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;""" OneLogin_Saml2_Response class
<br>&emsp;&emsp;&emsp;SAML Response class of OneLogin's Python Toolkit.
<br>"""
<br>
<br>from copy import deepcopy
<br>from app.lib.onelogin.saml2.constants import OneLogin_Saml2_Constants
<br>from app.lib.onelogin.saml2.utils import OneLogin_Saml2_Utils, OneLogin_Saml2_Error, OneLogin_Saml2_ValidationError, return_false_on_exception
<br>from app.lib.onelogin.saml2.xml_utils import OneLogin_Saml2_XML
<br>
<br>
<br>class OneLogin_Saml2_Response(object):
<br>class OneLogin_Saml2_Response(object):
<br>&emsp;    """
<br>&emsp;&emsp;    This class handles a SAML Response. It parses or validates
<br>&emsp;    """
<br>
<br>&emsp;    def __init__(self, settings, response):
<br>&emsp;    def __init__(self, settings, response):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        self.__settings = settings
<br>&emsp;&emsp;        self.__error = None
<br>&emsp;&emsp;        self.response = OneLogin_Saml2_Utils.b64decode(response)
<br>&emsp;&emsp;        self.document = OneLogin_Saml2_XML.to_etree(self.response)
<br>&emsp;&emsp;        self.decrypted_document = None
<br>&emsp;&emsp;        self.encrypted = None
<br>&emsp;&emsp;        self.valid_scd_not_on_or_after = None
<br>
<br>&emsp;&emsp;        # Quick check for the presence of EncryptedAssertion
<br>&emsp;&emsp;        encrypted_assertion_nodes = self.__query('/samlp:Response/saml:EncryptedAssertion')
<br>&emsp;&emsp;        if encrypted_assertion_nodes:
<br>&emsp;&emsp;&emsp;            decrypted_document = deepcopy(self.document)
<br>&emsp;&emsp;&emsp;            self.encrypted = True
<br>&emsp;&emsp;&emsp;            self.decrypted_document = self.__decrypt_assertion(decrypted_document)
<br>
<br>&emsp;    def is_valid(self, request_data, request_id=None, raise_exceptions=False):
<br>&emsp;    def is_valid(self, request_data, request_id=None, raise_exceptions=False):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        self.__error = None
<br>&emsp;&emsp;        try:
<br>&emsp;&emsp;&emsp;            # Checks SAML version
<br>&emsp;&emsp;&emsp;            if self.document.get('Version', None) != '2.0':
<br>&emsp;&emsp;&emsp;&emsp;                raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    'Unsupported SAML version',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    OneLogin_Saml2_ValidationError.UNSUPPORTED_SAML_VERSION
<br>&emsp;&emsp;&emsp;&emsp;                )
<br>
<br>&emsp;&emsp;&emsp;            # Checks that ID exists
<br>&emsp;&emsp;&emsp;            if self.document.get('ID', None) is None:
<br>&emsp;&emsp;&emsp;&emsp;                raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    'Missing ID attribute on SAML Response',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    OneLogin_Saml2_ValidationError.MISSING_ID
<br>&emsp;&emsp;&emsp;&emsp;                )
<br>
<br>&emsp;&emsp;&emsp;            # Checks that the response has the SUCCESS status
<br>&emsp;&emsp;&emsp;            self.check_status()
<br>
<br>&emsp;&emsp;&emsp;            # Checks that the response only has one assertion
<br>&emsp;&emsp;&emsp;            if not self.validate_num_assertions():
<br>&emsp;&emsp;&emsp;&emsp;                raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    'SAML Response must contain 1 assertion',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    OneLogin_Saml2_ValidationError.WRONG_NUMBER_OF_ASSERTIONS
<br>&emsp;&emsp;&emsp;&emsp;                )
<br>
<br>&emsp;&emsp;&emsp;            idp_data = self.__settings.get_idp_data()
<br>&emsp;&emsp;&emsp;            idp_entity_id = idp_data['entityId']
<br>&emsp;&emsp;&emsp;            sp_data = self.__settings.get_sp_data()
<br>&emsp;&emsp;&emsp;            sp_entity_id = sp_data['entityId']
<br>
<br>&emsp;&emsp;&emsp;            signed_elements = self.process_signed_elements()
<br>
<br>&emsp;&emsp;&emsp;            has_signed_response = '{%s}Response' % OneLogin_Saml2_Constants.NS_SAMLP in signed_elements
<br>&emsp;&emsp;&emsp;            has_signed_assertion = '{%s}Assertion' % OneLogin_Saml2_Constants.NS_SAML in signed_elements
<br>
<br>&emsp;&emsp;&emsp;            if self.__settings.is_strict():
<br>&emsp;&emsp;&emsp;&emsp;                no_valid_xml_msg = 'Invalid SAML Response. Not match the saml-schema-protocol-2.0.xsd'
<br>&emsp;&emsp;&emsp;&emsp;                res = OneLogin_Saml2_XML.validate_xml(self.document, 'saml-schema-protocol-2.0.xsd', self.__settings.is_debug_active())
<br>&emsp;&emsp;&emsp;&emsp;                if isinstance(res, str):
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        no_valid_xml_msg,
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        OneLogin_Saml2_ValidationError.INVALID_XML_FORMAT
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    )
<br>
<br>&emsp;&emsp;&emsp;&emsp;                # If encrypted, check also the decrypted document
<br>&emsp;&emsp;&emsp;&emsp;                if self.encrypted:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    res = OneLogin_Saml2_XML.validate_xml(self.decrypted_document, 'saml-schema-protocol-2.0.xsd', self.__settings.is_debug_active())
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    if isinstance(res, str):
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            no_valid_xml_msg,
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            OneLogin_Saml2_ValidationError.INVALID_XML_FORMAT
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        )
<br>
<br>&emsp;&emsp;&emsp;&emsp;                security = self.__settings.get_security_data()
<br>&emsp;&emsp;&emsp;&emsp;                current_url = OneLogin_Saml2_Utils.get_self_url_no_query(request_data)
<br>
<br>&emsp;&emsp;&emsp;&emsp;                # Check if the InResponseTo of the Response matchs the ID of the AuthNRequest (requestId) if provided
<br>&emsp;&emsp;&emsp;&emsp;                in_response_to = self.document.get('InResponseTo', None)
<br>&emsp;&emsp;&emsp;&emsp;                if in_response_to is not None and request_id is not None:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    if in_response_to != request_id:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            'The InResponseTo of the Response: %s, does not match the ID of the AuthNRequest sent by the SP: %s' % (in_response_to, request_id),
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            OneLogin_Saml2_ValidationError.WRONG_INRESPONSETO
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        )
<br>
<br>&emsp;&emsp;&emsp;&emsp;                if not self.encrypted and security['wantAssertionsEncrypted']:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        'The assertion of the Response is not encrypted and the SP require it',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        OneLogin_Saml2_ValidationError.NO_ENCRYPTED_ASSERTION
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    )
<br>
<br>&emsp;&emsp;&emsp;&emsp;                if security['wantNameIdEncrypted']:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    encrypted_nameid_nodes = self.__query_assertion('/saml:Subject/saml:EncryptedID/xenc:EncryptedData')
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    if len(encrypted_nameid_nodes) != 1:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            'The NameID of the Response is not encrypted and the SP require it',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            OneLogin_Saml2_ValidationError.NO_ENCRYPTED_NAMEID
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        )
<br>
<br>&emsp;&emsp;&emsp;&emsp;                # Checks that a Conditions element exists
<br>&emsp;&emsp;&emsp;&emsp;                if not self.check_one_condition():
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        'The Assertion must include a Conditions element',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        OneLogin_Saml2_ValidationError.MISSING_CONDITIONS
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    )
<br>
<br>&emsp;&emsp;&emsp;&emsp;                # Validates Assertion timestamps
<br>&emsp;&emsp;&emsp;&emsp;                self.validate_timestamps(raise_exceptions=True)
<br>
<br>&emsp;&emsp;&emsp;&emsp;                # Checks that an AuthnStatement element exists and is unique
<br>&emsp;&emsp;&emsp;&emsp;                if not self.check_one_authnstatement():
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        'The Assertion must include an AuthnStatement element',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        OneLogin_Saml2_ValidationError.WRONG_NUMBER_OF_AUTHSTATEMENTS
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    )
<br>
<br>&emsp;&emsp;&emsp;&emsp;                # Checks that the response has all of the AuthnContexts that we provided in the request.
<br>&emsp;&emsp;&emsp;&emsp;                # Only check if failOnAuthnContextMismatch is true and requestedAuthnContext is set to a list.
<br>&emsp;&emsp;&emsp;&emsp;                requested_authn_contexts = security['requestedAuthnContext']
<br>&emsp;&emsp;&emsp;&emsp;                if security['failOnAuthnContextMismatch'] and requested_authn_contexts and requested_authn_contexts is not True:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    authn_contexts = self.get_authn_contexts()
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    unmatched_contexts = set(requested_authn_contexts).difference(authn_contexts)
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    if unmatched_contexts:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            'The AuthnContext "%s" didn\'t include requested context "%s"' % (', '.join(authn_contexts), ', '.join(unmatched_contexts)),
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            OneLogin_Saml2_ValidationError.AUTHN_CONTEXT_MISMATCH
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        )
<br>
<br>&emsp;&emsp;&emsp;&emsp;                # Checks that there is at least one AttributeStatement if required
<br>&emsp;&emsp;&emsp;&emsp;                attribute_statement_nodes = self.__query_assertion('/saml:AttributeStatement')
<br>&emsp;&emsp;&emsp;&emsp;                if security.get('wantAttributeStatement', True) and not attribute_statement_nodes:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        'There is no AttributeStatement on the Response',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        OneLogin_Saml2_ValidationError.NO_ATTRIBUTESTATEMENT
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    )
<br>
<br>&emsp;&emsp;&emsp;&emsp;                encrypted_attributes_nodes = self.__query_assertion('/saml:AttributeStatement/saml:EncryptedAttribute')
<br>&emsp;&emsp;&emsp;&emsp;                if encrypted_attributes_nodes:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        'There is an EncryptedAttribute in the Response and this SP not support them',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        OneLogin_Saml2_ValidationError.ENCRYPTED_ATTRIBUTES
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    )
<br>
<br>&emsp;&emsp;&emsp;&emsp;                # Checks destination
<br>&emsp;&emsp;&emsp;&emsp;                destination = self.document.get('Destination', None)
<br>&emsp;&emsp;&emsp;&emsp;                if destination:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    if not destination.startswith(current_url):
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        # TODO: Review if following lines are required, since we can control the
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        # request_data
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        #  current_url_routed = OneLogin_Saml2_Utils.get_self_routed_url_no_query(request_data)
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        #  if not destination.startswith(current_url_routed):
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            'The response was received at %s instead of %s' % (current_url, destination),
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            OneLogin_Saml2_ValidationError.WRONG_DESTINATION
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        )
<br>&emsp;&emsp;&emsp;&emsp;                elif destination == '':
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        'The response has an empty Destination value',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        OneLogin_Saml2_ValidationError.EMPTY_DESTINATION
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    )
<br>&emsp;&emsp;&emsp;&emsp;                # Checks audience
<br>&emsp;&emsp;&emsp;&emsp;                valid_audiences = self.get_audiences()
<br>&emsp;&emsp;&emsp;&emsp;                if valid_audiences and sp_entity_id not in valid_audiences:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        '%s is not a valid audience for this Response' % sp_entity_id,
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        OneLogin_Saml2_ValidationError.WRONG_AUDIENCE
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    )
<br>
<br>&emsp;&emsp;&emsp;&emsp;                # Checks the issuers
<br>&emsp;&emsp;&emsp;&emsp;                issuers = self.get_issuers()
<br>&emsp;&emsp;&emsp;&emsp;                for issuer in issuers:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    if issuer is None or issuer != idp_entity_id:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            'Invalid issuer in the Assertion/Response (expected %(idpEntityId)s, got %(issuer)s)' %
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            {
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                                'idpEntityId': idp_entity_id,
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                                'issuer': issuer
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            },
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            OneLogin_Saml2_ValidationError.WRONG_ISSUER
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        )
<br>
<br>&emsp;&emsp;&emsp;&emsp;                # Checks the session Expiration
<br>&emsp;&emsp;&emsp;&emsp;                session_expiration = self.get_session_not_on_or_after()
<br>&emsp;&emsp;&emsp;&emsp;                if session_expiration and session_expiration <= OneLogin_Saml2_Utils.now():
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        'The attributes have expired, based on the SessionNotOnOrAfter of the AttributeStatement of this Response',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        OneLogin_Saml2_ValidationError.SESSION_EXPIRED
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    )
<br>
<br>&emsp;&emsp;&emsp;&emsp;                # Checks the SubjectConfirmation, at least one SubjectConfirmation must be valid
<br>&emsp;&emsp;&emsp;&emsp;                any_subject_confirmation = False
<br>&emsp;&emsp;&emsp;&emsp;                subject_confirmation_nodes = self.__query_assertion('/saml:Subject/saml:SubjectConfirmation')
<br>
<br>&emsp;&emsp;&emsp;&emsp;                for scn in subject_confirmation_nodes:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    method = scn.get('Method', None)
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    if method and method != OneLogin_Saml2_Constants.CM_BEARER:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        continue
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    sc_data = scn.find('saml:SubjectConfirmationData', namespaces=OneLogin_Saml2_Constants.NSMAP)
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    if sc_data is None:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        continue
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    else:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        irt = sc_data.get('InResponseTo', None)
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        if in_response_to and irt and irt != in_response_to:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            continue
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        recipient = sc_data.get('Recipient', None)
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        if recipient and current_url not in recipient:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            continue
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        nooa = sc_data.get('NotOnOrAfter', None)
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        if nooa:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            parsed_nooa = OneLogin_Saml2_Utils.parse_SAML_to_time(nooa)
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            if parsed_nooa <= OneLogin_Saml2_Utils.now():
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                                continue
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        nb = sc_data.get('NotBefore', None)
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        if nb:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            parsed_nb = OneLogin_Saml2_Utils.parse_SAML_to_time(nb)
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            if parsed_nb > OneLogin_Saml2_Utils.now():
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                                continue
<br>
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        if nooa:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            self.valid_scd_not_on_or_after = OneLogin_Saml2_Utils.parse_SAML_to_time(nooa)
<br>
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        any_subject_confirmation = True
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        break
<br>
<br>&emsp;&emsp;&emsp;&emsp;                if not any_subject_confirmation:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        'A valid SubjectConfirmation was not found on this Response',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        OneLogin_Saml2_ValidationError.WRONG_SUBJECTCONFIRMATION
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    )
<br>
<br>&emsp;&emsp;&emsp;&emsp;                if security['wantAssertionsSigned'] and not has_signed_assertion:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        'The Assertion of the Response is not signed and the SP require it',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        OneLogin_Saml2_ValidationError.NO_SIGNED_ASSERTION
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    )
<br>
<br>&emsp;&emsp;&emsp;&emsp;                if security['wantMessagesSigned'] and not has_signed_response:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        'The Message of the Response is not signed and the SP require it',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        OneLogin_Saml2_ValidationError.NO_SIGNED_MESSAGE
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    )
<br>
<br>&emsp;&emsp;&emsp;            if not signed_elements or (not has_signed_response and not has_signed_assertion):
<br>&emsp;&emsp;&emsp;&emsp;                raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    'No Signature found. SAML Response rejected',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    OneLogin_Saml2_ValidationError.NO_SIGNATURE_FOUND
<br>&emsp;&emsp;&emsp;&emsp;                )
<br>&emsp;&emsp;&emsp;            else:
<br>&emsp;&emsp;&emsp;&emsp;                cert = idp_data.get('x509cert', None)
<br>&emsp;&emsp;&emsp;&emsp;                fingerprint = idp_data.get('certFingerprint', None)
<br>&emsp;&emsp;&emsp;&emsp;                if fingerprint:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    fingerprint = OneLogin_Saml2_Utils.format_finger_print(fingerprint)
<br>&emsp;&emsp;&emsp;&emsp;                fingerprintalg = idp_data.get('certFingerprintAlgorithm', None)
<br>
<br>&emsp;&emsp;&emsp;&emsp;                multicerts = None
<br>&emsp;&emsp;&emsp;&emsp;                if 'x509certMulti' in idp_data and 'signing' in idp_data['x509certMulti'] and idp_data['x509certMulti']['signing']:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    multicerts = idp_data['x509certMulti']['signing']
<br>
<br>&emsp;&emsp;&emsp;&emsp;                # If find a Signature on the Response, validates it checking the original response
<br>&emsp;&emsp;&emsp;&emsp;                if has_signed_response and not OneLogin_Saml2_Utils.validate_sign(self.document, cert, fingerprint, fingerprintalg, xpath=OneLogin_Saml2_Utils.RESPONSE_SIGNATURE_XPATH, multicerts=multicerts, raise_exceptions=False):
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        'Signature validation failed. SAML Response rejected',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        OneLogin_Saml2_ValidationError.INVALID_SIGNATURE
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    )
<br>
<br>&emsp;&emsp;&emsp;&emsp;                document_check_assertion = self.decrypted_document if self.encrypted else self.document
<br>&emsp;&emsp;&emsp;&emsp;                if has_signed_assertion and not OneLogin_Saml2_Utils.validate_sign(document_check_assertion, cert, fingerprint, fingerprintalg, xpath=OneLogin_Saml2_Utils.ASSERTION_SIGNATURE_XPATH, multicerts=multicerts, raise_exceptions=False):
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        'Signature validation failed. SAML Response rejected',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        OneLogin_Saml2_ValidationError.INVALID_SIGNATURE
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    )
<br>
<br>&emsp;&emsp;&emsp;            return True
<br>&emsp;&emsp;        except Exception as err:
<br>&emsp;&emsp;&emsp;            self.__error = str(err)
<br>&emsp;&emsp;&emsp;            debug = self.__settings.is_debug_active()
<br>&emsp;&emsp;&emsp;            if debug:
<br>&emsp;&emsp;&emsp;&emsp;                print(err)
<br>&emsp;&emsp;&emsp;            if raise_exceptions:
<br>&emsp;&emsp;&emsp;&emsp;                raise
<br>&emsp;&emsp;&emsp;            return False
<br>
<br>&emsp;    def check_status(self):
<br>&emsp;    def check_status(self):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        status = OneLogin_Saml2_Utils.get_status(self.document)
<br>&emsp;&emsp;        code = status.get('code', None)
<br>&emsp;&emsp;        if code and code != OneLogin_Saml2_Constants.STATUS_SUCCESS:
<br>&emsp;&emsp;&emsp;            splited_code = code.split(':')
<br>&emsp;&emsp;&emsp;            printable_code = splited_code.pop()
<br>&emsp;&emsp;&emsp;            status_exception_msg = 'The status code of the Response was not Success, was %s' % printable_code
<br>&emsp;&emsp;&emsp;            status_msg = status.get('msg', None)
<br>&emsp;&emsp;&emsp;            if status_msg:
<br>&emsp;&emsp;&emsp;&emsp;                status_exception_msg += ' -> ' + status_msg
<br>&emsp;&emsp;&emsp;            raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;                status_exception_msg,
<br>&emsp;&emsp;&emsp;&emsp;                OneLogin_Saml2_ValidationError.STATUS_CODE_IS_NOT_SUCCESS
<br>&emsp;&emsp;&emsp;            )
<br>
<br>&emsp;    def check_one_condition(self):
<br>&emsp;    def check_one_condition(self):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        condition_nodes = self.__query_assertion('/saml:Conditions')
<br>&emsp;&emsp;        if len(condition_nodes) == 1:
<br>&emsp;&emsp;&emsp;            return True
<br>&emsp;&emsp;        else:
<br>&emsp;&emsp;&emsp;            return False
<br>
<br>&emsp;    def check_one_authnstatement(self):
<br>&emsp;    def check_one_authnstatement(self):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        authnstatement_nodes = self.__query_assertion('/saml:AuthnStatement')
<br>&emsp;&emsp;        if len(authnstatement_nodes) == 1:
<br>&emsp;&emsp;&emsp;            return True
<br>&emsp;&emsp;        else:
<br>&emsp;&emsp;&emsp;            return False
<br>
<br>&emsp;    def get_audiences(self):
<br>&emsp;    def get_audiences(self):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        audience_nodes = self.__query_assertion('/saml:Conditions/saml:AudienceRestriction/saml:Audience')
<br>&emsp;&emsp;        return [OneLogin_Saml2_XML.element_text(node) for node in audience_nodes if OneLogin_Saml2_XML.element_text(node) is not None]
<br>
<br>&emsp;    def get_authn_contexts(self):
<br>&emsp;    def get_authn_contexts(self):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;        :returns: The authentication classes for the SAML Response
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        authn_context_nodes = self.__query_assertion('/saml:AuthnStatement/saml:AuthnContext/saml:AuthnContextClassRef')
<br>&emsp;&emsp;        return [OneLogin_Saml2_XML.element_text(node) for node in authn_context_nodes]
<br>
<br>&emsp;    def get_issuers(self):
<br>&emsp;    def get_issuers(self):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        issuers = set()
<br>
<br>&emsp;&emsp;        message_issuer_nodes = OneLogin_Saml2_XML.query(self.document, '/samlp:Response/saml:Issuer')
<br>&emsp;&emsp;        if len(message_issuer_nodes) > 0:
<br>&emsp;&emsp;&emsp;            if len(message_issuer_nodes) == 1:
<br>&emsp;&emsp;&emsp;&emsp;                issuer_value = OneLogin_Saml2_XML.element_text(message_issuer_nodes[0])
<br>&emsp;&emsp;&emsp;&emsp;                if issuer_value:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    issuers.add(issuer_value)
<br>&emsp;&emsp;&emsp;            else:
<br>&emsp;&emsp;&emsp;&emsp;                raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    'Issuer of the Response is multiple.',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    OneLogin_Saml2_ValidationError.ISSUER_MULTIPLE_IN_RESPONSE
<br>&emsp;&emsp;&emsp;&emsp;                )
<br>
<br>&emsp;&emsp;        assertion_issuer_nodes = self.__query_assertion('/saml:Issuer')
<br>&emsp;&emsp;        if len(assertion_issuer_nodes) == 1:
<br>&emsp;&emsp;&emsp;            issuer_value = OneLogin_Saml2_XML.element_text(assertion_issuer_nodes[0])
<br>&emsp;&emsp;&emsp;            if issuer_value:
<br>&emsp;&emsp;&emsp;&emsp;                issuers.add(issuer_value)
<br>&emsp;&emsp;        else:
<br>&emsp;&emsp;&emsp;            raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;                'Issuer of the Assertion not found or multiple.',
<br>&emsp;&emsp;&emsp;&emsp;                OneLogin_Saml2_ValidationError.ISSUER_NOT_FOUND_IN_ASSERTION
<br>&emsp;&emsp;&emsp;            )
<br>
<br>&emsp;&emsp;        return list(set(issuers))
<br>
<br>&emsp;    def get_nameid_data(self):
<br>&emsp;    def get_nameid_data(self):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        nameid = None
<br>&emsp;&emsp;        nameid_data = {}
<br>
<br>&emsp;&emsp;        encrypted_id_data_nodes = self.__query_assertion('/saml:Subject/saml:EncryptedID/xenc:EncryptedData')
<br>&emsp;&emsp;        if encrypted_id_data_nodes:
<br>&emsp;&emsp;&emsp;            encrypted_data = encrypted_id_data_nodes[0]
<br>&emsp;&emsp;&emsp;            key = self.__settings.get_sp_key()
<br>&emsp;&emsp;&emsp;            nameid = OneLogin_Saml2_Utils.decrypt_element(encrypted_data, key)
<br>&emsp;&emsp;        else:
<br>&emsp;&emsp;&emsp;            nameid_nodes = self.__query_assertion('/saml:Subject/saml:NameID')
<br>&emsp;&emsp;&emsp;            if nameid_nodes:
<br>&emsp;&emsp;&emsp;&emsp;                nameid = nameid_nodes[0]
<br>
<br>&emsp;&emsp;        is_strict = self.__settings.is_strict()
<br>&emsp;&emsp;        want_nameid = self.__settings.get_security_data().get('wantNameId', True)
<br>&emsp;&emsp;        if nameid is None:
<br>&emsp;&emsp;&emsp;            if is_strict and want_nameid:
<br>&emsp;&emsp;&emsp;&emsp;                raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    'NameID not found in the assertion of the Response',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    OneLogin_Saml2_ValidationError.NO_NAMEID
<br>&emsp;&emsp;&emsp;&emsp;                )
<br>&emsp;&emsp;        else:
<br>&emsp;&emsp;&emsp;            if is_strict and want_nameid and not OneLogin_Saml2_XML.element_text(nameid):
<br>&emsp;&emsp;&emsp;&emsp;                raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    'An empty NameID value found',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    OneLogin_Saml2_ValidationError.EMPTY_NAMEID
<br>&emsp;&emsp;&emsp;&emsp;                )
<br>
<br>&emsp;&emsp;&emsp;            nameid_data = {'Value': OneLogin_Saml2_XML.element_text(nameid)}
<br>&emsp;&emsp;&emsp;            for attr in ['Format', 'SPNameQualifier', 'NameQualifier']:
<br>&emsp;&emsp;&emsp;&emsp;                value = nameid.get(attr, None)
<br>&emsp;&emsp;&emsp;&emsp;                if value:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    if is_strict and attr == 'SPNameQualifier':
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        sp_data = self.__settings.get_sp_data()
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        sp_entity_id = sp_data.get('entityId', '')
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        if sp_entity_id != value:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                                'The SPNameQualifier value mistmatch the SP entityID value.',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                                OneLogin_Saml2_ValidationError.SP_NAME_QUALIFIER_NAME_MISMATCH
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            )
<br>
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    nameid_data[attr] = value
<br>&emsp;&emsp;        return nameid_data
<br>
<br>&emsp;    def get_nameid(self):
<br>&emsp;    def get_nameid(self):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        nameid_value = None
<br>&emsp;&emsp;        nameid_data = self.get_nameid_data()
<br>&emsp;&emsp;        if nameid_data and 'Value' in nameid_data.keys():
<br>&emsp;&emsp;&emsp;            nameid_value = nameid_data['Value']
<br>&emsp;&emsp;        return nameid_value
<br>
<br>&emsp;    def get_nameid_format(self):
<br>&emsp;    def get_nameid_format(self):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        nameid_format = None
<br>&emsp;&emsp;        nameid_data = self.get_nameid_data()
<br>&emsp;&emsp;        if nameid_data and 'Format' in nameid_data.keys():
<br>&emsp;&emsp;&emsp;            nameid_format = nameid_data['Format']
<br>&emsp;&emsp;        return nameid_format
<br>
<br>&emsp;    def get_session_not_on_or_after(self):
<br>&emsp;    def get_session_not_on_or_after(self):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        not_on_or_after = None
<br>&emsp;&emsp;        authn_statement_nodes = self.__query_assertion('/saml:AuthnStatement[@SessionNotOnOrAfter]')
<br>&emsp;&emsp;        if authn_statement_nodes:
<br>&emsp;&emsp;&emsp;            not_on_or_after = OneLogin_Saml2_Utils.parse_SAML_to_time(authn_statement_nodes[0].get('SessionNotOnOrAfter'))
<br>&emsp;&emsp;        return not_on_or_after
<br>
<br>&emsp;    def get_assertion_not_on_or_after(self):
<br>&emsp;    def get_assertion_not_on_or_after(self):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        return self.valid_scd_not_on_or_after
<br>
<br>&emsp;    def get_session_index(self):
<br>&emsp;    def get_session_index(self):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        session_index = None
<br>&emsp;&emsp;        authn_statement_nodes = self.__query_assertion('/saml:AuthnStatement[@SessionIndex]')
<br>&emsp;&emsp;        if authn_statement_nodes:
<br>&emsp;&emsp;&emsp;            session_index = authn_statement_nodes[0].get('SessionIndex')
<br>&emsp;&emsp;        return session_index
<br>
<br>&emsp;    def get_attributes(self):
<br>&emsp;    def get_attributes(self):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        attributes = {}
<br>&emsp;&emsp;        attribute_nodes = self.__query_assertion('/saml:AttributeStatement/saml:Attribute')
<br>&emsp;&emsp;        for attribute_node in attribute_nodes:
<br>&emsp;&emsp;&emsp;            attr_name = attribute_node.get('Name')
<br>&emsp;&emsp;&emsp;            if attr_name in attributes.keys():
<br>&emsp;&emsp;&emsp;&emsp;                raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    'Found an Attribute element with duplicated Name',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    OneLogin_Saml2_ValidationError.DUPLICATED_ATTRIBUTE_NAME_FOUND
<br>&emsp;&emsp;&emsp;&emsp;                )
<br>
<br>&emsp;&emsp;&emsp;            values = []
<br>&emsp;&emsp;&emsp;            for attr in attribute_node.iterchildren('{%s}AttributeValue' % OneLogin_Saml2_Constants.NSMAP['saml']):
<br>&emsp;&emsp;&emsp;&emsp;                attr_text = OneLogin_Saml2_XML.element_text(attr)
<br>&emsp;&emsp;&emsp;&emsp;                if attr_text:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    attr_text = attr_text.strip()
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    if attr_text:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        values.append(attr_text)
<br>
<br>&emsp;&emsp;&emsp;&emsp;                # Parse any nested NameID children
<br>&emsp;&emsp;&emsp;&emsp;                for nameid in attr.iterchildren('{%s}NameID' % OneLogin_Saml2_Constants.NSMAP['saml']):
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    values.append({
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        'NameID': {
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            'Format': nameid.get('Format'),
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            'NameQualifier': nameid.get('NameQualifier'),
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            'value': nameid.text
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        }
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    })
<br>&emsp;&emsp;&emsp;            attributes[attr_name] = values
<br>&emsp;&emsp;        return attributes
<br>
<br>&emsp;    def validate_num_assertions(self):
<br>&emsp;    def validate_num_assertions(self):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        encrypted_assertion_nodes = OneLogin_Saml2_XML.query(self.document, '//saml:EncryptedAssertion')
<br>&emsp;&emsp;        assertion_nodes = OneLogin_Saml2_XML.query(self.document, '//saml:Assertion')
<br>
<br>&emsp;&emsp;        valid = len(encrypted_assertion_nodes) + len(assertion_nodes) == 1
<br>
<br>&emsp;&emsp;        if (self.encrypted):
<br>&emsp;&emsp;&emsp;            assertion_nodes = OneLogin_Saml2_XML.query(self.decrypted_document, '//saml:Assertion')
<br>&emsp;&emsp;&emsp;            valid = valid and len(assertion_nodes) == 1
<br>
<br>&emsp;&emsp;        return valid
<br>
<br>&emsp;    def process_signed_elements(self):
<br>&emsp;    def process_signed_elements(self):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        sign_nodes = self.__query('//ds:Signature')
<br>
<br>&emsp;&emsp;        signed_elements = []
<br>&emsp;&emsp;        verified_seis = []
<br>&emsp;&emsp;        verified_ids = []
<br>&emsp;&emsp;        response_tag = '{%s}Response' % OneLogin_Saml2_Constants.NS_SAMLP
<br>&emsp;&emsp;        assertion_tag = '{%s}Assertion' % OneLogin_Saml2_Constants.NS_SAML
<br>
<br>&emsp;&emsp;        for sign_node in sign_nodes:
<br>&emsp;&emsp;&emsp;            signed_element = sign_node.getparent().tag
<br>&emsp;&emsp;&emsp;            if signed_element != response_tag and signed_element != assertion_tag:
<br>&emsp;&emsp;&emsp;&emsp;                raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    'Invalid Signature Element %s SAML Response rejected' % signed_element,
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    OneLogin_Saml2_ValidationError.WRONG_SIGNED_ELEMENT
<br>&emsp;&emsp;&emsp;&emsp;                )
<br>
<br>&emsp;&emsp;&emsp;            if not sign_node.getparent().get('ID'):
<br>&emsp;&emsp;&emsp;&emsp;                raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    'Signed Element must contain an ID. SAML Response rejected',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    OneLogin_Saml2_ValidationError.ID_NOT_FOUND_IN_SIGNED_ELEMENT
<br>&emsp;&emsp;&emsp;&emsp;                )
<br>
<br>&emsp;&emsp;&emsp;            id_value = sign_node.getparent().get('ID')
<br>&emsp;&emsp;&emsp;            if id_value in verified_ids:
<br>&emsp;&emsp;&emsp;&emsp;                raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    'Duplicated ID. SAML Response rejected',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    OneLogin_Saml2_ValidationError.DUPLICATED_ID_IN_SIGNED_ELEMENTS
<br>&emsp;&emsp;&emsp;&emsp;                )
<br>&emsp;&emsp;&emsp;            verified_ids.append(id_value)
<br>
<br>&emsp;&emsp;&emsp;            # Check that reference URI matches the parent ID and no duplicate References or IDs
<br>&emsp;&emsp;&emsp;            ref = OneLogin_Saml2_XML.query(sign_node, './/ds:Reference')
<br>&emsp;&emsp;&emsp;            if ref:
<br>&emsp;&emsp;&emsp;&emsp;                ref = ref[0]
<br>&emsp;&emsp;&emsp;&emsp;                if ref.get('URI'):
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    sei = ref.get('URI')[1:]
<br>
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    if sei != id_value:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            'Found an invalid Signed Element. SAML Response rejected',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            OneLogin_Saml2_ValidationError.INVALID_SIGNED_ELEMENT
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        )
<br>
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    if sei in verified_seis:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            'Duplicated Reference URI. SAML Response rejected',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            OneLogin_Saml2_ValidationError.DUPLICATED_REFERENCE_IN_SIGNED_ELEMENTS
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        )
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    verified_seis.append(sei)
<br>
<br>&emsp;&emsp;&emsp;            signed_elements.append(signed_element)
<br>
<br>&emsp;&emsp;        if signed_elements:
<br>&emsp;&emsp;&emsp;            if not self.validate_signed_elements(signed_elements, raise_exceptions=True):
<br>&emsp;&emsp;&emsp;&emsp;                raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    'Found an unexpected Signature Element. SAML Response rejected',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    OneLogin_Saml2_ValidationError.UNEXPECTED_SIGNED_ELEMENTS
<br>&emsp;&emsp;&emsp;&emsp;                )
<br>&emsp;&emsp;        return signed_elements
<br>
<br>&emsp;    @return_false_on_exception
<br>&emsp;    def validate_signed_elements(self, signed_elements):
<br>&emsp;    def validate_signed_elements(self, signed_elements):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        if len(signed_elements) > 2:
<br>&emsp;&emsp;&emsp;            return False
<br>
<br>&emsp;&emsp;        response_tag = '{%s}Response' % OneLogin_Saml2_Constants.NS_SAMLP
<br>&emsp;&emsp;        assertion_tag = '{%s}Assertion' % OneLogin_Saml2_Constants.NS_SAML
<br>
<br>&emsp;&emsp;        if (response_tag in signed_elements and signed_elements.count(response_tag) > 1) or \
<br>&emsp;&emsp;           (assertion_tag in signed_elements and signed_elements.count(assertion_tag) > 1) or \
<br>&emsp;&emsp;           (response_tag not in signed_elements and assertion_tag not in signed_elements):
<br>&emsp;&emsp;&emsp;            return False
<br>
<br>&emsp;&emsp;        # Check that the signed elements found here, are the ones that will be verified
<br>&emsp;&emsp;        # by OneLogin_Saml2_Utils.validate_sign
<br>&emsp;&emsp;        if response_tag in signed_elements:
<br>&emsp;&emsp;&emsp;            expected_signature_nodes = OneLogin_Saml2_XML.query(self.document, OneLogin_Saml2_Utils.RESPONSE_SIGNATURE_XPATH)
<br>&emsp;&emsp;&emsp;            if len(expected_signature_nodes) != 1:
<br>&emsp;&emsp;&emsp;&emsp;                raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    'Unexpected number of Response signatures found. SAML Response rejected.',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    OneLogin_Saml2_ValidationError.WRONG_NUMBER_OF_SIGNATURES_IN_RESPONSE
<br>&emsp;&emsp;&emsp;&emsp;                )
<br>
<br>&emsp;&emsp;        if assertion_tag in signed_elements:
<br>&emsp;&emsp;&emsp;            expected_signature_nodes = self.__query(OneLogin_Saml2_Utils.ASSERTION_SIGNATURE_XPATH)
<br>&emsp;&emsp;&emsp;            if len(expected_signature_nodes) != 1:
<br>&emsp;&emsp;&emsp;&emsp;                raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    'Unexpected number of Assertion signatures found. SAML Response rejected.',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    OneLogin_Saml2_ValidationError.WRONG_NUMBER_OF_SIGNATURES_IN_ASSERTION
<br>&emsp;&emsp;&emsp;&emsp;                )
<br>
<br>&emsp;&emsp;        return True
<br>
<br>&emsp;    @return_false_on_exception
<br>&emsp;    def validate_timestamps(self):
<br>&emsp;    def validate_timestamps(self):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        conditions_nodes = self.__query_assertion('/saml:Conditions')
<br>
<br>&emsp;&emsp;        for conditions_node in conditions_nodes:
<br>&emsp;&emsp;&emsp;            nb_attr = conditions_node.get('NotBefore')
<br>&emsp;&emsp;&emsp;            nooa_attr = conditions_node.get('NotOnOrAfter')
<br>&emsp;&emsp;&emsp;            if nb_attr and OneLogin_Saml2_Utils.parse_SAML_to_time(nb_attr) > OneLogin_Saml2_Utils.now() + OneLogin_Saml2_Constants.ALLOWED_CLOCK_DRIFT:
<br>&emsp;&emsp;&emsp;&emsp;                raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    'Could not validate timestamp: not yet valid. Check system clock.',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    OneLogin_Saml2_ValidationError.ASSERTION_TOO_EARLY
<br>&emsp;&emsp;&emsp;&emsp;                )
<br>&emsp;&emsp;&emsp;            if nooa_attr and OneLogin_Saml2_Utils.parse_SAML_to_time(nooa_attr) + OneLogin_Saml2_Constants.ALLOWED_CLOCK_DRIFT <= OneLogin_Saml2_Utils.now():
<br>&emsp;&emsp;&emsp;&emsp;                raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    'Could not validate timestamp: expired. Check system clock.',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    OneLogin_Saml2_ValidationError.ASSERTION_EXPIRED
<br>&emsp;&emsp;&emsp;&emsp;                )
<br>&emsp;&emsp;        return True
<br>
<br>&emsp;    def __query_assertion(self, xpath_expr):
<br>&emsp;    def __query_assertion(self, xpath_expr):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>
<br>&emsp;&emsp;        assertion_expr = '/saml:Assertion'
<br>&emsp;&emsp;        signature_expr = '/ds:Signature/ds:SignedInfo/ds:Reference'
<br>&emsp;&emsp;        signed_assertion_query = '/samlp:Response' + assertion_expr + signature_expr
<br>&emsp;&emsp;        assertion_reference_nodes = self.__query(signed_assertion_query)
<br>
<br>&emsp;&emsp;        if not assertion_reference_nodes:
<br>&emsp;&emsp;&emsp;            # Check if the message is signed
<br>&emsp;&emsp;&emsp;            signed_message_query = '/samlp:Response' + signature_expr
<br>&emsp;&emsp;&emsp;            message_reference_nodes = self.__query(signed_message_query)
<br>&emsp;&emsp;&emsp;            if message_reference_nodes:
<br>&emsp;&emsp;&emsp;&emsp;                message_id = message_reference_nodes[0].get('URI')
<br>&emsp;&emsp;&emsp;&emsp;                final_query = "/samlp:Response[@ID='%s']/" % message_id[1:]
<br>&emsp;&emsp;&emsp;            else:
<br>&emsp;&emsp;&emsp;&emsp;                final_query = "/samlp:Response"
<br>&emsp;&emsp;&emsp;            final_query += assertion_expr
<br>&emsp;&emsp;        else:
<br>&emsp;&emsp;&emsp;            assertion_id = assertion_reference_nodes[0].get('URI')
<br>&emsp;&emsp;&emsp;            final_query = '/samlp:Response' + assertion_expr + "[@ID='%s']" % assertion_id[1:]
<br>&emsp;&emsp;        final_query += xpath_expr
<br>&emsp;&emsp;        return self.__query(final_query)
<br>
<br>&emsp;    def __query(self, query):
<br>&emsp;    def __query(self, query):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        if self.encrypted:
<br>&emsp;&emsp;&emsp;            document = self.decrypted_document
<br>&emsp;&emsp;        else:
<br>&emsp;&emsp;&emsp;            document = self.document
<br>&emsp;&emsp;        return OneLogin_Saml2_XML.query(document, query)
<br>
<br>&emsp;    def __decrypt_assertion(self, xml):
<br>&emsp;    def __decrypt_assertion(self, xml):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        key = self.__settings.get_sp_key()
<br>&emsp;&emsp;        debug = self.__settings.is_debug_active()
<br>
<br>&emsp;&emsp;        if not key:
<br>&emsp;&emsp;&emsp;            raise OneLogin_Saml2_Error(
<br>&emsp;&emsp;&emsp;&emsp;                'No private key available to decrypt the assertion, check settings',
<br>&emsp;&emsp;&emsp;&emsp;                OneLogin_Saml2_Error.PRIVATE_KEY_NOT_FOUND
<br>&emsp;&emsp;&emsp;            )
<br>
<br>&emsp;&emsp;        encrypted_assertion_nodes = OneLogin_Saml2_XML.query(xml, '/samlp:Response/saml:EncryptedAssertion')
<br>&emsp;&emsp;        if encrypted_assertion_nodes:
<br>&emsp;&emsp;&emsp;            encrypted_data_nodes = OneLogin_Saml2_XML.query(encrypted_assertion_nodes[0], '//saml:EncryptedAssertion/xenc:EncryptedData')
<br>&emsp;&emsp;&emsp;            if encrypted_data_nodes:
<br>&emsp;&emsp;&emsp;&emsp;                keyinfo = OneLogin_Saml2_XML.query(encrypted_assertion_nodes[0], '//saml:EncryptedAssertion/xenc:EncryptedData/ds:KeyInfo')
<br>&emsp;&emsp;&emsp;&emsp;                if not keyinfo:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        'No KeyInfo present, invalid Assertion',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        OneLogin_Saml2_ValidationError.KEYINFO_NOT_FOUND_IN_ENCRYPTED_DATA
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    )
<br>&emsp;&emsp;&emsp;&emsp;                keyinfo = keyinfo[0]
<br>&emsp;&emsp;&emsp;&emsp;                children = keyinfo.getchildren()
<br>&emsp;&emsp;&emsp;&emsp;                if not children:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        'KeyInfo has no children nodes, invalid Assertion',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        OneLogin_Saml2_ValidationError.CHILDREN_NODE_NOT_FOUND_IN_KEYINFO
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    )
<br>&emsp;&emsp;&emsp;&emsp;                for child in children:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;                    if 'RetrievalMethod' in child.tag:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        if child.attrib['Type'] != 'http://www.w3.org/2001/04/xmlenc#EncryptedKey':
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                                'Unsupported Retrieval Method found',
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                                OneLogin_Saml2_ValidationError.UNSUPPORTED_RETRIEVAL_METHOD
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            )
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        uri = child.attrib['URI']
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        if not uri.startswith('#'):
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            break
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        uri = uri.split('#')[1]
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        encrypted_key = OneLogin_Saml2_XML.query(encrypted_assertion_nodes[0], './xenc:EncryptedKey[@Id="' + uri + '"]')
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                        if encrypted_key:
<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;                            keyinfo.append(encrypted_key[0])
<br>
<br>&emsp;&emsp;&emsp;&emsp;                encrypted_data = encrypted_data_nodes[0]
<br>&emsp;&emsp;&emsp;&emsp;                decrypted = OneLogin_Saml2_Utils.decrypt_element(encrypted_data, key, debug=debug, inplace=True)
<br>&emsp;&emsp;&emsp;&emsp;                xml.replace(encrypted_assertion_nodes[0], decrypted)
<br>&emsp;&emsp;        return xml
<br>
<br>&emsp;    def get_error(self):
<br>&emsp;    def get_error(self):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        return self.__error
<br>
<br>&emsp;    def get_xml_document(self):
<br>&emsp;    def get_xml_document(self):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        if self.encrypted:
<br>&emsp;&emsp;&emsp;            return self.decrypted_document
<br>&emsp;&emsp;        else:
<br>&emsp;&emsp;&emsp;            return self.document
<br>
<br>&emsp;    def get_id(self):
<br>&emsp;    def get_id(self):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        return self.document.get('ID', None)
<br>
<br>&emsp;    def get_assertion_id(self):
<br>&emsp;    def get_assertion_id(self):
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        """
<br>&emsp;&emsp;        if not self.validate_num_assertions():
<br>&emsp;&emsp;&emsp;            raise OneLogin_Saml2_ValidationError(
<br>&emsp;&emsp;&emsp;&emsp;                'SAML Response must contain 1 assertion',
<br>&emsp;&emsp;&emsp;&emsp;                OneLogin_Saml2_ValidationError.WRONG_NUMBER_OF_ASSERTIONS
<br>&emsp;&emsp;&emsp;            )
<br>&emsp;&emsp;        return self.__query_assertion('')[0].get('ID', None)
<br>
                   </p>
                </details>

<!-- Include source code here! -->
                <p>
<a href="https://github.com/CityOfNewYork/NYCOpenRecords/blob/master/app/lib/onelogin/saml2/response.py">Source code</a>
                </p>
            </div>
        </div>

    </body>
</html>
